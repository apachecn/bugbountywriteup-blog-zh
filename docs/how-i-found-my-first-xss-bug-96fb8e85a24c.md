# æˆ‘æ˜¯å¦‚ä½•é€šè¿‡å¼€æ”¾é‡å®šå‘æ‰¾åˆ°æˆ‘çš„ç¬¬ä¸€ä¸ª XSS Bug çš„

> åŸæ–‡ï¼š<https://infosecwriteups.com/how-i-found-my-first-xss-bug-96fb8e85a24c?source=collection_archive---------0----------------------->

å¤§å®¶å¥½ï¼Œ

æˆ‘æ˜¯@å½±å­ _ å…‹è±ã€‚ä»Šå¤©æˆ‘è¦è®²çš„æ˜¯æˆ‘åœ¨ [@Bugcrowd](http://twitter.com/Bugcrowd) å‘ç°ç¬¬ä¸€ä¸ª XSS bug çš„è¿‡ç¨‹ã€‚

# æ€»ç»“:

æ•…äº‹å‘ç”Ÿåœ¨æˆ‘æ”¶åˆ°ä¸€ä¸ªèŠ‚ç›®çš„ç§äººé‚€è¯·æ—¶(*å‡è®¾:redacted.com*)ã€‚è¿™ä¸ªé¡¹ç›®éš¶å±äº Atlassianï¼Œä¸ºäº†æµ‹è¯•è¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘éœ€è¦åˆ›å»ºä¸€ä¸ªå‰æ‹‰äº‘è´¦æˆ·ã€‚

![](img/a3b8ef279032f4fd9d662561daf0de58.png)

ç™»å½• Google å¸æˆ·åï¼Œæˆ‘å°†è¢«é‡å®šå‘åˆ°ç”¨æˆ·ååˆ›å»ºé¡µé¢ã€‚

![](img/2b11833c327d8f2b0c97f947c6c0a53a.png)

åœ¨æˆ‘çš„è„‘æµ·é‡Œï¼Œç°åœ¨æˆ‘èƒ½æƒ³åˆ°çš„å°±æ˜¯â€œå¼€æ”¾é‡å®šå‘â€é”™è¯¯ã€‚æˆ‘å¼€å§‹æ”¹åŸŸåï¼ŒåŠ å­—ç¬¦ç»•è¿‡å¼€æ”¾é‡å®šå‘è¿‡æ»¤å™¨ï¼Œæœ€åæˆåŠŸäº†ã€‚

æˆ‘ç«‹å³åˆ›å»ºäº†ä¸€ä¸ªæŠ¥å‘Šï¼Œå¹¶å°†å…¶å‘é€åˆ° Atlassian ç¨‹åºã€‚

ç„¶åæˆ‘å»äº†å•æ‰€ã€‚é‚£ä¸€åˆ»ï¼Œæˆ‘çªç„¶æƒ³åˆ°äº†ä¸€ä¸ªæƒ³æ³•ã€‚ä¸ºä»€ä¹ˆæˆ‘ä¸è¯•è¯• XSSï¼Ÿæˆ‘ä»€ä¹ˆä¹Ÿæ²¡æƒ³ï¼Œç«‹å³è·‘åˆ°æˆ‘çš„æˆ¿é—´ï¼Œæ‰“å¼€äº†æˆ‘çš„ç”µè„‘ã€‚åœ¨ *" & redirecturl="* å‚æ•°ä¸­ï¼Œæˆ‘ç”¨ javascript payload è¿›è¡Œäº†å°è¯•:*JavaScript:prompt(1)*->è®¾ç½®ä»»æ„ç”¨æˆ·åå¹¶ç»§ç»­ã€‚**è½°ï¼XSS è¢«å¤„å†³äº†ã€‚**

![](img/01b952f52090a0618c2903f4f3a85263.png)

# å¯»æ‰¾å‰¥å‰Šæ–¹å¼çš„å›°éš¾æ—¶æœŸ:

ä½†æ˜¯ç­‰ç­‰ã€‚â€œå¥½åƒæ˜¯é‚£ä¸ª*ï¼ŸcloudId="* å‚æ•°å¯¹åº”æ¯ä¸ªè´¦æˆ·ã€‚è¿™æ„å‘³ç€ XSS å°†åªå¯¹æˆ‘ä¸ªäººæ‰§è¡Œæ­»åˆ‘ï¼Œå› ä¸º*ï¼ŸcloudId="* å‚æ•°æ˜¯ä¸“é—¨ä¸ºæˆ‘åˆ›å»ºçš„ã€‚æ‰€ä»¥å¦‚æœæˆ‘æ‹¿ä¸åˆ°å—å®³è€…çš„*â€è¿™å°±æ˜¯è‡ªæˆ‘ XSS äº†ï¼ŸcloudId= "ã€‚*

![](img/67cd1cd031dd09c76e9fe6a36e926b9f.png)

æˆ‘æœ‰ç‚¹æ‹…å¿ƒã€‚è™½ç„¶è¿™ä¸ª XSS æœç´¢è¿‡ç¨‹åªéœ€è¦å¤§çº¦ 5 åˆ†é’Ÿï¼Œä½†å¦‚æœè¿™åªæ˜¯ä¸€ä¸ªè‡ªæˆ‘ XSSï¼Œä¸€åˆ‡éƒ½å°†å¤±è´¥ã€‚

**æˆ‘å¼€å§‹ç»§ç»­å‰¥å‰Šå‰¥å‰Šã€‚æˆ‘ç»ˆäºæ‰¾åˆ°äº† 2 ç§æ–¹æ³•æ¥è·å¾—è¿™ä¸ªå‚æ•°:**

```
1\. The attacker needs to join the victim's Jira team. To do this, an attacker needs to trick the victim into inviting him to join his team.
```

**é‚£ä¹ˆï¼Œæ”»å‡»è€…å¦‚ä½•ä¸éœ€è¦åŠ å…¥å—å®³è€…çš„å‰æ‹‰ç»„ï¼Œä»ç„¶èƒ½å¤Ÿçªƒå–*â€œcloudIdâ€*ï¼Ÿ**

```
2\. An attacker does not need to log in to his account nor join the victim's team. An attacker just needs to visit the victim's domain and view the ***"Source page"***. The parameter ***"cloudId"*** will appear there.
```

![](img/2e7dce8b939a627e76d392d87f2423e1.png)

# æ”»å‡»æ—¶é—´:

ç°åœ¨åœ¨å·äº†*ã€cloudIdã€‘*çš„å—å®³è€…ä¹‹åã€‚å®Œæ•´é“¾æ¥å°†åŒ…æ‹¬:[https://www.atlassian.com/signup?cloudId =[victim-id]&request id = 15178645&redirecturl = JavaScript:prompt(1)&is permitted = false](https://www.atlassian.com/signup/rename/site?cloudId=de003439-d8dd-4ea7-8477-fb0519e3991a&requestId=15178645&redirecturl=javascript:prompt(document.cookie)&isPermitted=false)

**å½“å—å®³è€…è®¿é—®- >è®¾ç½®ç”¨æˆ·åå¹¶ç»§ç»­- > XSS å°†è¢«æ‰§è¡Œ**

# ç”œæ°´æœğŸ˜

åŒæ—¶ï¼Œæˆ‘æä¾›äº†é¢å¤–çš„ä¿¡æ¯æ¥è¯æ˜è¿™æ˜¯ä¸€ä¸ªåå°„ XSS é”™è¯¯ã€‚ä¹‹åï¼Œäºšç‰¹å…°è’‚æ–¯å›¢é˜Ÿæ¥å—å¹¶è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ª P3

![](img/f830c3139e85b675f5c9d9c6a0c35e20.png)

# å»ºè®®:

å§‹ç»ˆä¿æŒå†·é™ï¼Œå½“ä½ å‘ç°é”™è¯¯æ—¶ï¼Œä¸è¦æ­¢æ­¥äºæ­¤ã€‚æœ‰æ—¶å€™ä½ å‘ç°çš„ bug å¹¶ä¸æ˜¯æœ€ç»ˆç»“æœã€‚æ‰€ä»¥æˆ‘çš„å»ºè®®æ˜¯ï¼Œä¸€å®šè¦æƒ³åŠæ³•æŠŠä½ å‘ç°çš„ bug ä¸²èµ·æ¥ã€‚ä½ å¾—åˆ°çš„ç»“æœä¼šè®©ä½ å¤§åƒä¸€æƒŠ:>

è°¢è°¢å¤§å®¶çš„é˜…è¯»ï¼ï¼ï¼â¤

é»‘å®¢å¿«ä¹:))

æ¨ç‰¹:[https://twitter.com/shadow_CLAY](https://twitter.com/shadow_CLAY)