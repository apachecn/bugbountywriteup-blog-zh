<html>
<head>
<title>HacktheBox Writeup: Paper</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">HacktheBoxæ’°å†™:è®ºæ–‡</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://infosecwriteups.com/hackthebox-writeup-paper-5a13adfcc549?source=collection_archive---------1-----------------------#2022-06-21">https://infosecwriteups.com/hackthebox-writeup-paper-5a13adfcc549?source=collection_archive---------1-----------------------#2022-06-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/05726c0ab72373acf65c72de19e5f193.png" data-original-src="https://miro.medium.com/v2/resize:fit:1186/format:webp/1*iumiBWiVw-Wf-XVZQ0pSYg.png"/></div></figure><p id="d6d4" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">è¿™æ˜¯ä¸€ä¸ªç”±æ˜“åˆ°éš¾çš„Linuxæœºå™¨ï¼Œéœ€è¦åŸºæœ¬çš„æ‰«æå’Œæšä¸¾æ¥åœ¨æœºå™¨ä¸Šè·å¾—ç«‹è¶³ç‚¹å¹¶è·å¾—ç”¨æˆ·æ ‡å¿—ã€‚å‘rootç”¨æˆ·æå‡æƒé™ä¹Ÿæ˜¯ä¸€ä¸ªç›¸å¯¹ç®€å•çš„è¿‡ç¨‹ï¼Œéœ€è¦ä½¿ç”¨åä¸ºCVE-2021â€“3560(å³Polkit)çš„Linuxæƒé™æå‡ã€‚</p></div><div class="ab cl ks kt hu ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="ij ik il im in"><h1 id="967c" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">åˆ—ä¸¾</h1><p id="8528" class="pw-post-body-paragraph ju jv iq jw b jx lx jz ka kb ly kd ke kf lz kh ki kj ma kl km kn mb kp kq kr ij bi translated">æˆ‘å¼€å§‹é€šè¿‡ç”¨<strong class="jw ir"> NMAP </strong>æ‰§è¡Œå¿«é€Ÿæ‰«ææ¥æšä¸¾ç›®æ ‡æœºå™¨ï¼Œä»¥è¯†åˆ«ä»»ä½•æ‰“å¼€çš„ç«¯å£:</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="31b4" class="ml la iq mh b gy mm mn l mo mp">nmap -T5 --open -sS -vvv --min-rate=300 --max-retries=3 -p- -oN all-ports-nmap-report 10.10.11.143</span><span id="34d6" class="ml la iq mh b gy mq mn l mo mp">PORT    STATE SERVICE REASON<br/>22/tcp  open  ssh     syn-ack ttl 63<br/>80/tcp  open  http    syn-ack ttl 63<br/>443/tcp open  https   syn-ack ttl 63</span></pre><p id="425f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">æ‰«æå‘ç°ä¸‰ä¸ªç«¯å£æ‰“å¼€(å³ç«¯å£22ã€80å’Œ443)ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä½¿ç”¨NMAPæ¥è¯†åˆ«æ¯ä¸ªç«¯å£ä¸Šè¿è¡Œçš„æœåŠ¡ï¼Œå¹¶ä½¿ç”¨é€šç”¨NSEè„šæœ¬æ¥æŸ¥æ‰¾æˆ‘å¯ä»¥åˆ©ç”¨çš„ä»»ä½•å¸¸è§æ¼æ´:</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="4ecd" class="ml la iq mh b gy mm mn l mo mp">nmap -sV -sC -Pn -v -oN nmap-report -p 22,80,443 10.10.11.143</span><span id="aebe" class="ml la iq mh b gy mq mn l mo mp">PORT    STATE SERVICE  VERSION<br/>22/tcp  open  ssh      OpenSSH 8.0 (protocol 2.0)<br/>| ssh-hostkey: <br/>|   2048 10:05:ea:50:56:a6:00:cb:1c:9c:93:df:5f:83:e0:64 (RSA)<br/>|   256 58:8c:82:1c:c6:63:2a:83:87:5c:2f:2b:4f:4d:c3:79 (ECDSA)<br/>|_  256 31:78:af:d1:3b:c4:2e:9d:60:4e:eb:5d:03:ec:a0:22 (ED25519)<br/>80/tcp  open  http     Apache httpd 2.4.37 ((centos) OpenSSL/1.1.1k mod_fcgid/2.3.9)<br/>|_http-generator: HTML Tidy for HTML5 for Linux version 5.7.28<br/>| http-methods: <br/>|   Supported Methods: GET POST OPTIONS HEAD TRACE<br/>|_  Potentially risky methods: TRACE<br/>|_http-server-header: Apache/2.4.37 (centos) OpenSSL/1.1.1k mod_fcgid/2.3.9<br/>|_http-title: HTTP Server Test Page powered by CentOS<br/>443/tcp open  ssl/http Apache httpd 2.4.37 ((centos) OpenSSL/1.1.1k mod_fcgid/2.3.9)<br/>| http-methods: <br/>|   Supported Methods: GET POST OPTIONS HEAD TRACE<br/>|_  Potentially risky methods: TRACE<br/>|_http-server-header: Apache/2.4.37 (centos) OpenSSL/1.1.1k mod_fcgid/2.3.9<br/>|_http-title: HTTP Server Test Page powered by CentOS<br/>| ssl-cert: Subject: commonName=localhost.localdomain/organizationName=Unspecified/countryName=US<br/>| Subject Alternative Name: DNS:localhost.localdomain<br/>| Issuer: commonName=localhost.localdomain/organizationName=Unspecified/countryName=US<br/>| Public Key type: rsa<br/>| Public Key bits: 2048<br/>| Signature Algorithm: sha256WithRSAEncryption<br/>| Not valid before: 2021-07-03T08:52:34<br/>| Not valid after:  2022-07-08T10:32:34<br/>| MD5:   579a 92bd 803c ac47 d49c 5add e44e 4f84<br/>|_SHA-1: 61a2 301f 9e5c 2603 a643 00b5 e5da 5fd5 c175 f3a9<br/>|_ssl-date: TLS randomness does not represent time<br/>| tls-alpn: <br/>|_  http/1.1</span></pre><p id="f4a1" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">æˆ‘çœ‹åˆ°ç«¯å£22è¿è¡Œçš„æ˜¯SSHï¼Œè€Œç«¯å£80å’Œ443æ˜¯è¿è¡ŒApache/2.4.37 (centos)çš„webæœåŠ¡å™¨ã€‚æˆ‘è®¤ä¸ºæˆ‘æœ‰è¶³å¤Ÿçš„ä¿¡æ¯ç»§ç»­å‰è¿›ï¼Œå¹¶å¼€å§‹æ£€æŸ¥æ‰˜ç®¡åœ¨ç«¯å£80ä¸Šçš„ç½‘ç«™ã€‚</p></div><div class="ab cl ks kt hu ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="ij ik il im in"><h1 id="fef3" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">HTTP â€”ç«¯å£80åˆ†æ</h1><p id="0205" class="pw-post-body-paragraph ju jv iq jw b jx lx jz ka kb ly kd ke kf lz kh ki kj ma kl km kn mb kp kq kr ij bi translated">å¯¼èˆªåˆ°<em class="mr"> http://10.10.11.143/ </em>ï¼Œæˆ‘çœ‹åˆ°ä¸€ä¸ªé»˜è®¤çš„httpæœåŠ¡å™¨æµ‹è¯•é¡µé¢ã€‚</p><figure class="mc md me mf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi ms"><img src="../Images/46de72a0bf68b4a7efe9beb9dba661b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3wR09rX8hHvqcC1c_lAm1w.png"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">HTTPæœåŠ¡å™¨æµ‹è¯•é¡µé¢ã€‚</figcaption></figure><p id="4f3e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘å†³å®šä½¿ç”¨<strong class="jw ir"> FFuF </strong>æ¨¡ç³Šéšè—çš„ç›®å½•å’Œç½‘é¡µã€‚</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="f3fe" class="ml la iq mh b gy mm mn l mo mp">ffuf -c -u <a class="ae nb" href="http://10.10.11.143/FUZZ" rel="noopener ugc nofollow" target="_blank">http://10.10.11.143/FUZZ</a> -w /usr/share/wordlists/dirb/common.txt -e .php,.bak,.old</span><span id="d41e" class="ml la iq mh b gy mq mn l mo mp">cgi-bin/               [Status: 403, Size: 199, Words: 14, Lines: 8]<br/>manual                 [Status: 301, Size: 235, Words: 14, Lines: 8]</span></pre><p id="f2fd" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">æˆ‘æ‰¾åˆ°äº†ä¸€ä¸ªåä¸ºâ€œ<em class="mr"> manualâ€çš„ç›®å½•ï¼Œå¹¶ç”¨</em>çš„<strong class="jw ir"> FFuF </strong>æ¨¡ç³Šä»»ä½•å­ç›®å½•ã€‚</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="6f34" class="ml la iq mh b gy mm mn l mo mp">ffuf -c -u <a class="ae nb" href="http://10.10.11.143/manual/FUZZ" rel="noopener ugc nofollow" target="_blank">http://10.10.11.143/manual/FUZZ</a> -w /usr/share/wordlists/dirb/common.txt -e .php,.bak,.old</span><span id="9df0" class="ml la iq mh b gy mq mn l mo mp">developer        [Status: 301, Size: 245, Words: 14, Lines: 8]<br/>faq              [Status: 301, Size: 239, Words: 14, Lines: 8]<br/>howto            [Status: 301, Size: 241, Words: 14, Lines: 8]<br/>images           [Status: 301, Size: 242, Words: 14, Lines: 8]<br/>index.html       [Status: 200, Size: 9164, Words: 541, Lines: 125]<br/>LICENSE          [Status: 200, Size: 11358, Words: 2516, Lines: 203]<br/>misc             [Status: 301, Size: 240, Words: 14, Lines: 8]<br/>mod              [Status: 301, Size: 239, Words: 14, Lines: 8]<br/>programs         [Status: 301, Size: 244, Words: 14, Lines: 8]<br/>ssl              [Status: 301, Size: 239, Words: 14, Lines: 8]<br/>style            [Status: 301, Size: 241, Words: 14, Lines: 8]</span></pre><p id="2d85" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">æˆ‘èŠ±äº†ä¸€äº›æ—¶é—´æµè§ˆè¿™äº›ç›®å½•ï¼Œä½†æˆ‘æ²¡æœ‰ç«‹å³çœ‹åˆ°ä»»ä½•æ„Ÿå…´è¶£çš„ä¸œè¥¿ã€‚æˆ‘å†³å®šæ”¹å˜æˆ‘çš„æ–¹æ³•ï¼Œä½¿ç”¨<strong class="jw ir">Nikto</strong>web vulnerability scanneræ”¶é›†æ›´å¤šä¿¡æ¯ã€‚</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="4c9a" class="ml la iq mh b gy mm mn l mo mp">nikto -h 10.10.11.143 -o nikto.txt</span><span id="736e" class="ml la iq mh b gy mq mn l mo mp">+ Target Host: 10.10.11.143<br/>+ Target Port: 80<br/>+ GET The anti-clickjacking X-Frame-Options header is not present.<br/>+ GET The X-XSS-Protection header is not defined. This header can hint to the user agent to protect against some forms of XSS<br/>+ GET Uncommon header 'x-backend-server' found, with contents: office.paper<br/>+ GET The X-Content-Type-Options header is not set. This could allow the user agent to render the content of the site in a different fashion to the MIME type<br/>+ GET Retrieved x-powered-by header: PHP/7.2.24<br/>+ OPTIONS Allowed HTTP Methods: GET, POST, OPTIONS, HEAD, TRACE <br/>+ OSVDB-877: TRACE HTTP TRACE method is active, suggesting the host is vulnerable to XST<br/>+ OSVDB-3092: GET /manual/: Web server manual found.<br/>+ OSVDB-3268: GET /icons/: Directory indexing found.<br/>+ OSVDB-3268: GET /manual/images/: Directory indexing found.<br/>+ OSVDB-3233: GET /icons/README: Apache default file found.</span></pre><p id="2c94" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">æŸ¥çœ‹ä¸Šé¢çš„è¾“å‡ºï¼ŒNiktoå‘ç°äº†ä¸€ä¸ªæœ‰è¶£çš„GETè¯·æ±‚å¤´ï¼Œå®ƒä¸ºåç«¯æœåŠ¡å™¨æä¾›äº†ä¸€ä¸ªåä¸º"<strong class="jw ir"><em class="mr">office . paper</em></strong><em class="mr">"</em>çš„ä¸»æœºåã€‚</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="6570" class="ml la iq mh b gy mm mn l mo mp">+ GET Uncommon header 'x-backend-server' found, with contents: office.paper</span></pre><p id="86c4" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">æˆ‘å°†è¿™ä¸ªä¸»æœºåæ·»åŠ åˆ°æˆ‘çš„â€œ<em class="mr"> /etc/hosts </em>â€æ–‡ä»¶ä¸­ï¼Œå¹¶è®¿é—®äº†ç½‘ç«™ã€‚</p><figure class="mc md me mf gt jr gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/2ba706c21d576240c0b2be11dadf6cd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/format:webp/1*gkN6xoIDRJo4AAIH54IG8Q.png"/></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">office.paperç½‘ç«™ã€‚</figcaption></figure></div><div class="ab cl ks kt hu ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="ij ik il im in"><h1 id="f914" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">æœ€åˆçš„ç«‹è¶³ç‚¹</h1><p id="7c95" class="pw-post-body-paragraph ju jv iq jw b jx lx jz ka kb ly kd ke kf lz kh ki kj ma kl km kn mb kp kq kr ij bi translated">çœ‹ç€â€œ<strong class="jw ir"><em class="mr">office . paper</em></strong><em class="mr"/>ç½‘ç«™ï¼Œæˆ‘å¯ä»¥çœ‹åˆ°ä¸€ä¸ªå«â€œ<em class="mr"> Prisonmike </em>â€çš„ç”¨æˆ·å‘çš„ä¸‰ä¸ªå¸–å­ã€‚ä¸€ä¸ªå¸–å­æœ‰ä¸€ä¸ªåä¸ºâ€œ<em class="mr"> nick </em>çš„ç”¨æˆ·çš„è¯„è®ºï¼Œæš—ç¤º<strong class="jw ir">å¸–å­è‰ç¨¿</strong>ä¸­å­˜å‚¨äº†ç§˜å¯†å†…å®¹ã€‚</p><figure class="mc md me mf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nd"><img src="../Images/39b99fe84858e707d5a33c662916b1d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mc5Oh76uPVFdPiuO1lBE5A.png"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">è¯„è®ºæåˆ°å¸–å­è‰ç¨¿ä¸­çš„ç§˜å¯†å†…å®¹ã€‚</figcaption></figure><p id="708b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">æˆ‘è¿˜å¯ä»¥çœ‹åˆ°ç½‘ç«™æ˜¯ç”±WordPressæä¾›æ”¯æŒçš„ã€‚æˆ‘ä½¿ç”¨äº†<strong class="jw ir"> wpscan </strong>æ¥åˆ—ä¸¾ä¸ç½‘ç«™æ­£åœ¨ä½¿ç”¨çš„WordPressç‰ˆæœ¬ç›¸å…³çš„ç”¨æˆ·å’Œæ¼æ´ä¿¡æ¯ã€‚</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="e38c" class="ml la iq mh b gy mm mn l mo mp">wpscan --url <a class="ae nb" href="http://office.paper/" rel="noopener ugc nofollow" target="_blank">http://office.paper/</a> -e u,ap</span></pre><p id="6910" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">é€šè¿‡æŸ¥çœ‹è¾“å‡ºï¼Œæˆ‘å‘ç°æ­£åœ¨ä½¿ç”¨çš„WordPressç‰ˆæœ¬å­˜åœ¨æ¼æ´ï¼Œå¹¶æ‰¾åˆ°äº†ä¸‰ä¸ªç”¨æˆ·ã€‚</p><figure class="mc md me mf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi ne"><img src="../Images/2f77a920765947af83568e16062da1bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U4_1N7Q8FjOkBaxvs93FJQ.png"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">æœ‰æ¼æ´çš„WordPressç‰ˆæœ¬ã€‚</figcaption></figure><figure class="mc md me mf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nf"><img src="../Images/c7ff5e5e5c9b95798d77691ebb831243.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*59UFBsvIOvovq9iuRN-ZYA.png"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">WordPressç”¨æˆ·å‘ç°ã€‚</figcaption></figure><p id="2d09" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">æœç´¢WordPress 5 . 2 . 3ç‰ˆæœ¬ç›¸å…³çš„æ¼æ´ï¼Œæˆ‘å‘ç°äº†ä¸€ä¸ªæ¼æ´ï¼Œå…è®¸<a class="ae nb" href="https://wpscan.com/vulnerability/3413b879-785f-4c9f-aa8a-5a4a1d5e0ba2" rel="noopener ugc nofollow" target="_blank"> <strong class="jw ir">æœªç»è®¤è¯æŸ¥çœ‹ç§äºº/è‰ç¨¿å¸–å­</strong> </a>ã€‚ç”¨æˆ·Nickä¹‹å‰çš„è¯„è®ºæš—ç¤ºäº†è‰ç¨¿å¸–å­ä¸­ä¿å­˜çš„ç§˜å¯†å†…å®¹ã€‚æˆ‘ä½¿ç”¨äº†ç½‘ç«™ä¸Šé¢é“¾æ¥ä¸­æ˜¾ç¤ºçš„æ¦‚å¿µéªŒè¯ç¤ºä¾‹ã€‚</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="f199" class="ml la iq mh b gy mm mn l mo mp">http://office.paper/?static=1</span></pre><p id="d330" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">è¿™æä¾›äº†ä¸€ä¸ªå¸–å­è‰ç¨¿ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªé“¾æ¥åˆ°ä¸€ä¸ªåä¸ºâ€œ<strong class="jw ir"><em class="mr">chat . office . paper</em></strong>â€çš„æ–°å­åŸŸåã€‚</p><figure class="mc md me mf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi ng"><img src="../Images/0a09fbdec1b13b877dfe7c8a9d21bec0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uLBIxigKiwZG0WkTopMtqw.png"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">å¸–å­è‰ç¨¿åŒ…å«æœ‰è¶£çš„é“¾æ¥ã€‚</figcaption></figure><p id="b7e1" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">æˆ‘å°†è¿™ä¸ªå­åŸŸæ·»åŠ åˆ°æˆ‘çš„â€œ<em class="mr"> /etc/hosts </em>â€æ–‡ä»¶ä¸­ï¼Œå¹¶è·Ÿéšé“¾æ¥ã€‚è¿™è®©æˆ‘æƒ³åˆ°äº†RocketChatï¼Œ<strong class="jw ir">ä¸€ä¸ªå¼€æºçš„å›¢é˜ŸèŠå¤©å®¢æˆ·ç«¯</strong>ï¼Œç±»ä¼¼äºSlackå’ŒMattermostç­‰å…¶ä»–å›¢é˜ŸèŠå¤©è§£å†³æ–¹æ¡ˆã€‚æˆ‘åˆ›å»ºäº†ä¸€ä¸ªå¸æˆ·å¹¶ç™»å½•ã€‚ä¸€æ—¦ç™»å½•ï¼Œæœ‰ä¸€ä¸ªåä¸º<strong class="jw ir"> generalã€</strong>çš„é¢‘é“ï¼Œé‡Œé¢æåˆ°å¾·æ€€ç‰¹åˆ›é€ äº†ä¸€ä¸ªåä¸º<strong class="jw ir"> <em class="mr"> recyclops </em> </strong>çš„æœºå™¨äººã€‚æŸ¥çœ‹å¯ä»¥ç”¨Botæ‰§è¡Œçš„æ“ä½œï¼Œæˆ‘å¯ä»¥çœ‹åˆ°å®ƒå¯ä»¥æ£€ç´¢æ–‡ä»¶å†…å®¹å¹¶åˆ—å‡ºæ–‡ä»¶å¤¹çš„å†…å®¹ã€‚</p><figure class="mc md me mf gt jr gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/3a7bb485152c2bfa8c7e9784205802a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*oXSNJRIIka7BjLgffdDa9w.png"/></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">æœ‰è¶£çš„æœºå™¨äººåŠ¨ä½œã€‚</figcaption></figure></div><div class="ab cl ks kt hu ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="ij ik il im in"><h1 id="79e8" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">ç”¨æˆ·æ ‡å¿—:å‘½ä»¤æ³¨å…¥</h1><p id="2ccb" class="pw-post-body-paragraph ju jv iq jw b jx lx jz ka kb ly kd ke kf lz kh ki kj ma kl km kn mb kp kq kr ij bi translated">æˆ‘ä¸recyclopså»ºç«‹äº†ä¸€ä¸ªå•ç‹¬çš„å¯¹è¯ï¼Œå¹¶æ£€æŸ¥äº†â€œ<em class="mr"> sale </em>â€ç›®å½•ä¸­æœ‰å“ªäº›æ–‡ä»¶ã€‚</p><figure class="mc md me mf gt jr gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/cce141fc1c9a868cbaff260daafd1bd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*248UxTuvb3ZIySdSASt95Q.png"/></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">â€œé”€å”®â€ç›®å½•çš„å†…å®¹ã€‚</figcaption></figure><p id="9010" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘è¯•å›¾æ‰“å°â€œ<em class="mr"> portfolio.txt </em>â€æ–‡ä»¶çš„å†…å®¹ï¼Œä½†å‘ç°æˆ‘è¿˜éœ€è¦æŒ‡å®šâ€œ<em class="mr"> sale </em>â€ç›®å½•ã€‚</p><figure class="mc md me mf gt jr gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/9e8ba60d04a918458abf48bfebb02749.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*fxNcpYdYRw3Qei1jD_PRxg.png"/></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">â€œportfolio.txtâ€æ–‡ä»¶çš„å†…å®¹ã€‚</figcaption></figure><p id="fffd" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">æˆ‘å¯ä»¥çœ‹åˆ°ç”¨äºæŸ¥çœ‹â€œ<em class="mr"> portfolio.txt </em>â€æ–‡ä»¶çš„å®Œæ•´è·¯å¾„ã€‚</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="8314" class="ml la iq mh b gy mm mn l mo mp">/home/dwight/sales/sale/portfolio.txt</span></pre><p id="faed" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘å†³å®šåˆ—å‡ºå…¶ä»–æ–‡ä»¶å¤¹çš„å†…å®¹ï¼ŒåŒ…æ‹¬æ–‡ä»¶å¤¹â€œ<em class="mr">å¾·æ€€ç‰¹</em>â€ã€‚</p><figure class="mc md me mf gt jr gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/0af7aeb1940448c68fe3b457d872e517.png" data-original-src="https://miro.medium.com/v2/resize:fit:954/format:webp/1*WeAXOoMOafW2-gLGiZpKgw.png"/></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">ç”¨æˆ·â€œdwightâ€æ–‡ä»¶å¤¹çš„å†…å®¹ã€‚</figcaption></figure><p id="751e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">æˆ‘å¯ä»¥çœ‹åˆ°â€œ<em class="mr"> user.txt </em>â€æ–‡ä»¶ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰æƒé™è®¿é—®å®ƒã€‚ç¿»çœ‹å…¶ä»–æ–‡ä»¶ï¼Œæ‰¾åˆ°ä¸€ä¸ªåä¸ºâ€œ<em class="mr"> hubot </em>â€çš„æ–‡ä»¶å¤¹ã€‚åœ¨æŸ¥çœ‹è¿™ä¸ªæ–‡ä»¶å¤¹çš„å†…å®¹æ—¶ï¼Œæˆ‘å‘ç°äº†ä¸€ä¸ªåä¸ºâ€œ<em class="mr">çš„éšè—æ–‡ä»¶ã€‚env </em>â€ã€‚æŸ¥çœ‹è¯¥æ–‡ä»¶çš„å†…å®¹ä¸ºç”¨æˆ·â€œ<em class="mr"> dwight </em>â€æä¾›äº†å¯†ç ã€‚</p><figure class="mc md me mf gt jr gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/8cffd94930be3ff9f40b1e9e986a57bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/format:webp/1*CBXYYQojsG0E9tUh-EshLA.png"/></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">ç”¨æˆ·â€œdwightâ€å¯†ç ã€‚</figcaption></figure><p id="ff70" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">æˆ‘ä½¿ç”¨å‡­è¯SSHåˆ°æœºå™¨ï¼Œå¹¶è·å¾—äº†ç”¨æˆ·<strong class="jw ir">æ ‡å¿—ã€‚</strong></p><figure class="mc md me mf gt jr gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/afcbd165e76bb48a3e1f31fd5f6380cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/1*R4WafyuGA26WeR0rBP0eoQ.png"/></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">ç”¨æˆ·æ ‡å¿—ã€‚</figcaption></figure></div><div class="ab cl ks kt hu ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="ij ik il im in"><h1 id="77ec" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">æ ¹æ——:CVE-2021â€“3560æ³¢å°”åŸºç‰¹</h1><p id="bb22" class="pw-post-body-paragraph ju jv iq jw b jx lx jz ka kb ly kd ke kf lz kh ki kj ma kl km kn mb kp kq kr ij bi translated">æŸ¥çœ‹ç”¨æˆ·â€œ<em class="mr"> dwight </em>â€ç›®å½•çš„å†…å®¹ï¼Œæˆ‘å‘ç°äº†ä¸€ä¸ªåä¸ºâ€œ<em class="mr"> poc.sh </em>â€çš„æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å¼•ç”¨äº†ä¸€ä¸ªåä¸ºCVE-2021â€“3560çš„Linuxæƒé™æå‡ã€‚æ ¹æ®è¿™ä¸ª<a class="ae nb" href="https://github.com/Almorabea/Polkit-exploit" rel="noopener ugc nofollow" target="_blank"> Github </a>:</p><blockquote class="nn no np"><p id="2771" class="ju jv mr jw b jx jy jz ka kb kc kd ke nq kg kh ki nr kk kl km ns ko kp kq kr ij bi translated">CVE-2021â€“3560æ˜¯polkitä¸Šçš„ä¸€ä¸ªèº«ä»½éªŒè¯æ—è·¯ï¼Œå®ƒå…è®¸éç‰¹æƒç”¨æˆ·ä½¿ç”¨DBusè°ƒç”¨ç‰¹æƒæ–¹æ³•ï¼Œåœ¨æ­¤æ¼æ´åˆ©ç”¨ä¸­ï¼Œæˆ‘ä»¬å°†è°ƒç”¨accountsserviceæä¾›çš„2ä¸ªç‰¹æƒæ–¹æ³•(CreateUserå’ŒSetPassword)ï¼Œè¿™å…è®¸æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç‰¹æƒç”¨æˆ·ï¼Œç„¶åä¸ºå…¶è®¾ç½®å¯†ç ï¼Œæœ€åä»¥åˆ›å»ºçš„ç”¨æˆ·èº«ä»½ç™»å½•ï¼Œç„¶åæå‡ä¸ºrootç”¨æˆ·ã€‚</p></blockquote><p id="3fbe" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">æˆ‘å¯ä»¥ä½¿ç”¨åœ¨è¿™ä¸ªGithubä¸Šæ‰¾åˆ°çš„<a class="ae nb" href="https://github.com/Almorabea/Polkit-exploit/blob/main/CVE-2021-3560.py" rel="noopener ugc nofollow" target="_blank">æ¼æ´åˆ©ç”¨</a>,å¹¶å°†å…¶ä»æˆ‘çš„æ”»å‡»æœºå™¨ä¸Šä¼ åˆ°ç›®æ ‡æœºå™¨ã€‚ç„¶åï¼Œæˆ‘å°±å¯ä»¥åˆ©ç”¨æ¼æ´å¹¶è·å¾—rootæƒé™ã€‚</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="8363" class="ml la iq mh b gy mm mn l mo mp">[dwight@paper ~]$ python3 CVE-2021-3560.py</span><span id="1343" class="ml la iq mh b gy mq mn l mo mp">[+] Exploit Completed, Your new user is 'Ahmed' just log into it like, 'su ahmed', and then 'sudo su' to root</span><span id="af50" class="ml la iq mh b gy mq mn l mo mp">[root@paper dwight]#</span></pre><p id="8195" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">ç„¶åæˆ‘å¯ä»¥æ£€ç´¢æ ¹æ ‡å¿—ã€‚</p><figure class="mc md me mf gt jr gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/4c9ba92dbcf682fc4727a45937bd969e.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*N5vz8UdwTJAeHBqDWzXTxA.png"/></div><figcaption class="mx my gj gh gi mz na bd b be z dk translated">æ ¹æ ‡å¿—ã€‚</figcaption></figure></div><div class="ab cl ks kt hu ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="ij ik il im in"><h1 id="78b2" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">æœ€åçš„æƒ³æ³•</h1><p id="de16" class="pw-post-body-paragraph ju jv iq jw b jx lx jz ka kb ly kd ke kf lz kh ki kj ma kl km kn mb kp kq kr ij bi translated">æ€»çš„æ¥è¯´ï¼Œæˆ‘å‘ç°è¿™å°æœºå™¨æ˜¯æšä¸¾çš„å¥½æ–¹æ³•ã€‚å®ƒå¼ºè°ƒäº†ä½¿ç”¨ä¸åŒçš„å·¥å…·å’Œæ–¹æ³•è¿›è¡Œè®¡æ•°çš„é‡è¦æ€§ï¼Œè¿™æ˜¯è·å¾—æœ€åˆç«‹è¶³ç‚¹çš„å…³é”®ã€‚ä¸€æ—¦æˆ‘æ‰¾åˆ°äº†æœ€åˆçš„å¦¥åï¼Œå‰©ä¸‹çš„å°±å¾ˆç®€å•äº†ã€‚è°¢è°¢ä½ ä¸€ç›´è¯»åˆ°æœ€åï¼Œç¥ä½ é»‘å®¢å¿«ä¹ğŸ˜„ï¼</p></div></div>    
</body>
</html>