# ä¸ºäº†ä¹è¶£å’Œåˆ©ç›Šè€Œå…¥ä¾µ WordPress ç½‘ç«™|ç¬¬ä¸€éƒ¨åˆ†[æ°´]

> åŸæ–‡ï¼š<https://infosecwriteups.com/hacking-the-wordpress-sites-for-fun-and-profit-part-1-water-7ba474ced0f8?source=collection_archive---------0----------------------->

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯æ¥è‡ªå°åº¦ğŸ‡®ğŸ‡³.çš„å…‹é‡Œå¸Œçº³Â·é˜¿åŠ ç“¦å°”ä¸€ä¸ªæ™®é€šçš„æ¼æ´çŒäººå’Œæ‰€è°“çš„å®‰å…¨ç ”ç©¶å‘˜:)

## ä»Šå¤©æ˜¯æˆ‘çš„ç”Ÿæ—¥ï¼Œæ‰€ä»¥æˆ‘è®¡åˆ’ä»¥ä¸åŒçš„æ–¹å¼åº†ç¥ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘åœ¨è¿™ç¯‡æ–‡ç« ä¸­å†™ä¸‹äº†æˆ‘åœ¨ bug bounty ä¹‹æ—…ä¸­å‘ç°çš„ä¸€äº›å¸¸è§çš„æ¼æ´å’Œé”™è¯¯é…ç½®:)æˆ‘å¸Œæœ›ä½ èƒ½ä»è¿™ä¸ªç³»åˆ—ä¸­å­¦åˆ°ä¸€äº›æ–°ä¸œè¥¿ã€‚

æˆ‘æŠŠè¿™ç¯‡æ–‡ç« åˆ†æˆä¸¤éƒ¨åˆ†ã€‚ç¬¬ä¸€ä¸ªæ˜¯æ°´ï¼Œç¬¬äºŒä¸ªæ˜¯ç«ã€‚è¿™æ˜¯â€œä¸ºäº†ä¹è¶£å’Œåˆ©ç›Šè€Œå…¥ä¾µ WordPressâ€ç³»åˆ—çš„ç¬¬ä¸€éƒ¨åˆ†ã€‚

æˆ‘ä¼šè¯•ç€æåˆ°æˆ‘åœ¨è¿™ä¸ªç³»åˆ—ä¸­çŸ¥é“çš„æ‰€æœ‰å¸¸è§çš„ wordpress é”™è¯¯é…ç½®å’Œæ¼æ´ã€‚

![](img/7201238ce85a3e4280d8e80a04e6475a.png)

ä¸ºäº†ä¹è¶£å’Œåˆ©ç›Šè€Œå…¥ä¾µ WordPress ç½‘ç«™

è®©æˆ‘ä»¬ä¸ºäº†ä¹è¶£å’Œåˆ©ç›Šé»‘æ‰ WordPress:)

æ‰€ä»¥ï¼Œä½ ä»¬éƒ½å·²ç»çŸ¥é“äº† WordPressï¼Œå¦‚æœä½ ä¸çŸ¥é“å®ƒæ˜¯ä»€ä¹ˆï¼Œé‚£ä¹ˆè¿™é‡Œæ˜¯ WordPress çš„ç®€çŸ­ä»‹ç»

## **0x 01â€”â€”ä»€ä¹ˆæ˜¯ WordPressï¼Ÿ**

> WordPress æ˜¯ä¸€ä¸ªå†…å®¹ç®¡ç†ç³»ç»Ÿ(CMS ),å…è®¸ä½ æ‰˜ç®¡å’Œå»ºç«‹ç½‘ç«™ã€‚WordPress åŒ…å«æ’ä»¶æ¶æ„å’Œæ¨¡æ¿ç³»ç»Ÿï¼Œå› æ­¤ä½ å¯ä»¥å®šåˆ¶ä»»ä½•ç½‘ç«™æ¥é€‚åº”ä½ çš„ä¸šåŠ¡ã€åšå®¢ã€ä½œå“é›†æˆ–åœ¨çº¿å•†åº—ã€‚

## **0x02 â€”æšä¸¾ç›®æ ‡**çš„å­åŸŸ

åœ¨æˆ‘ä»¥å‰çš„æ–‡ç« ä¸­ï¼Œæˆ‘å·²ç»æåˆ°äº†ä¸€äº›æšä¸¾å­åŸŸçš„æ–¹æ³•ã€‚è¿™é‡Œ *å¯ä»¥æŸ¥ä¸€ä¸‹[ã€‚](/story-of-my-first-valid-critical-bug-22029115f8d7)*

## **0x03 â€”æ£€æµ‹ WordPress**

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å¦åœ¨ä½¿ç”¨ WordPressï¼Œæœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥æ£€æµ‹ WordPressã€‚æˆ‘æåˆ°äº†åšè¿™ä»¶äº‹çš„ä¸¤ä¸ªæœ€å¥½çš„æ–¹æ³•ã€‚

**0x02.1 â€”é€šè¿‡ Wappalyzer æ‰©å±•**

*ä¸º* [*é“¬*ä¸º](https://chrome.google.com/webstore/detail/wappalyzer-technology-pro/gppongmhjkpfnbhagpmjfkannfbllamg)

*ä¸º* [*ç«ç‹*](https://addons.mozilla.org/en-US/firefox/addon/wappalyzer/)

![](img/f4a6d5e70210bbf847a9a2abce1725f7.png)

Wappalyzer çš„ç®€å•ç”¨æ³•

**0x02.2 â€”ç»** [**æ ¸**](https://github.com/projectdiscovery/nuclei)

nucleus æ˜¯ä¸€ä¸ªåŸºäº yaml æ¨¡æ¿çš„å…è´¹å¼€æºæ¼æ´æ‰«æå™¨ï¼Œé»˜è®¤ä¸º nucleus-templatesã€‚åœ¨ nucleus-templates çš„ technologies æ–‡ä»¶å¤¹ä¸‹æœ‰ä¸€ä¸ªåä¸º wordpress-detect.yaml çš„æ¨¡æ¿ã€‚ä½ å¯ä»¥åœ¨ä½ çš„ç›®æ ‡åˆ—è¡¨ä¸Šè¿è¡Œè¿™ä¸ªæ¨¡æ¿æ¥æ£€æµ‹ WordPress ç«™ç‚¹ã€‚

![](img/0f9201124b4cc366ae9c53b6f1e10b2f.png)

cat alive . txt | nucleus-t ~/nucleus-templates/technologies/WordPress-detect . YAML

## 0x04 â€”è®©æˆ‘ä»¬å¼€å§‹ç ´è§£

åœ¨æ£€æµ‹åˆ° WordPress æ”»å‡»é¢åï¼Œæˆ‘ä»¬å°†æŠŠå®ƒåˆ†ä¸ºæ‰‹åŠ¨å’Œè‡ªåŠ¨ä¸¤ç§æ–¹å¼â€¦

è¿™ä¸€éƒ¨åˆ†å°†å®Œå…¨å…³äºæ‰‹åŠ¨æ–¹æ³•ï¼Œä½†æ˜¯ä½ ä¹Ÿå¯ä»¥è‡ªåŠ¨åŒ–è¿™ä¸€ç‚¹ã€‚

## 0x05 â€”é”™è¯¯ 0x 1[é€šè¿‡ REST API æšä¸¾ç”¨æˆ·å]

WordPress åŒ…å«ä¸€ä¸ª REST APIï¼Œå¯ä»¥ç”¨æ¥åˆ—å‡º WordPress å®‰è£…ä¸­æ³¨å†Œç”¨æˆ·çš„ä¿¡æ¯ã€‚REST API å…¬å¼€äº†æ‰€æœ‰åˆ›ä½œäº†å…¬å…±å¸–å­ç±»å‹çš„ç”¨æˆ·çš„æ•°æ®ã€‚æ ¹æ® Bugcrowd çš„ VRT[Enumeration-> Usernames-> Non-brute force]ï¼Œè¿™å¯ä»¥è¢«è®¤ä¸ºæ˜¯ P4ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡å°† Bug 0x2 ä¸å®ƒé“¾æ¥æ¥å°†å®ƒå¢åŠ åˆ° P2 çš„ P1ã€‚

æˆ‘ä»¬å¯ä»¥åˆ—ä¸¾æ¥è‡ªä»¥ä¸‹ç«¯ç‚¹çš„ç”¨æˆ·å[](https://domain.tld/wp-json/wp/v2/users)

**å¦‚æœ wp-json/wp/v2/users è¢«ç¦æ­¢(403)ï¼Œé‚£ä¹ˆæ‚¨åº”è¯¥å°è¯•ä»¥ä¸‹ç»•è¿‡æ–¹æ³•:**

**/WP-JSON/WP/v2/ç”¨æˆ·/n**

**/wp-json/ï¼Ÿrest_route=/wp/v2/users/**

**/wp-json/ï¼Ÿrest_route=/wp/v2/users/n**

**/?ä½œè€…=n**

**n è¡¨ç¤ºåƒ 1ï¼Œ2ï¼Œ3ï¼Œ4 è¿™æ ·çš„æ•°å­—â€¦**

**![](img/d3f4364dc76407cf0c643b6ee782762b.png)**

**ä½ å¥½ï¼Œäº²çˆ±çš„äºšå†å…‹æ–¯ğŸ˜¼**

## **0x06 â€”é”™è¯¯ 0x 2[ç®¡ç†é¢æ¿é€šç”¨å¯†ç ]**

**æ³¨æ„:è¯·æ£€æŸ¥æ‚¨çš„ç›®æ ‡çš„æ”¿ç­–ï¼Œä¸è¦å°è¯•è¿™ç§æ”»å‡»ï¼Œå¦‚æœè›®åŠ›è¶…å‡ºèŒƒå›´ã€‚**

**ä¸ºäº†ä»¥ç®¡ç†å‘˜èº«ä»½è®¿é—® WordPress ç«™ç‚¹çš„ç®¡ç†é¢æ¿ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªç”¨æˆ·åå’Œå¯†ç ã€‚æˆ‘ä»¬å¯ä»¥ä»ä¸Šé¢çš„ **bug 0x1 ä¸­å¾—åˆ°ç”¨æˆ·åã€‚****

**ç°åœ¨ï¼Œå¯¹äºå¯†ç ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ BurpSuite å’Œ hydra å¼ºè¡Œè¾“å…¥:)**

**0x06.1 â€” BurpSuite**

1.  **åœ¨ BurpSuite é…ç½®çš„æµè§ˆå™¨ä¸­æ‰“å¼€ç›®æ ‡ WordPress ç«™ç‚¹**
2.  **å°†/wp-login.php æ·»åŠ åˆ°ç›®æ ‡ç½‘ç«™çš„ url ä¸­**
3.  **è¾“å…¥ä»»æ„éšæœºå‡­æ®(ç®¡ç†å‘˜:ç®¡ç†å‘˜)**
4.  **æ•è·è¯·æ±‚å¹¶å°†å…¶å‘é€ç»™å…¥ä¾µè€…**
5.  **è¾“å…¥ä» wp-json/wp/v2/users è·å¾—çš„ç›®æ ‡ç”¨æˆ·å(log=kr1shna)**
6.  **æ¸…é™¤æ‰€æœ‰å¤´å¯¸å¹¶å¢åŠ  pwd= admin çš„å€¼**
7.  **æ‰“å¼€æœ‰æ•ˆè½½è·æ ‡ç­¾ï¼Œè¾“å…¥ä½ çš„å•è¯è¡¨**
8.  **å¼€å§‹æ”»å‡»**

**![](img/d6fe678806fa5b0b594c47530549f07d.png)**

**è¿›æ”»åï¼**

**(åœ¨ä¸Šé¢çš„æˆªå›¾ä¸­ï¼Œæˆ‘çš„ç›®æ ‡åœ¨ wp-login.php ä¸Šè®¾ç½®äº†é€Ÿç‡é™åˆ¶ä¿æŠ¤ï¼Œæ‰€ä»¥è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘åªè¾“å…¥äº†ä¸€ä¸ªå¯†ç ï¼Œå› ä¸ºæˆ‘å·²ç»ä» Github recon è·å¾—äº†å¯†ç )**

**å¦‚æœæ‚¨çš„å¯†ç åŒ¹é…ï¼Œæ‚¨å°†åœ¨ burp å¥—ä»¶ä¸­è·å¾— 302 çŠ¶æ€ä»£ç ã€‚**

**0x06.2 â€”ä¹å¤´è›‡**

```
Command: **hydra domain.tld https-form-post â€œ/wp-login.php:log=^USER^&pwd=^PASS^&wp-submit=Log In&testcookie=1:S=Locationâ€ -l kr1shna -P /usr/share/wordlists/hack0x05.txt -f**
```

**![](img/27804428983d987c23306caedc2d0327.png)**

**ä¹å¤´è›‡ä¸‡å²ï¼ğŸ¤©**

## ****0x07 â€”é”™è¯¯ 0x3ã€é…ç½®æ–‡ä»¶æ³„æ¼ã€‘****

**wp-config.php æ–‡ä»¶åŒ…å« WordPress è¿æ¥æ•°æ®åº“æ‰€éœ€çš„ä¿¡æ¯ï¼Œå¦‚æ•°æ®åº“åç§°ã€æ•°æ®åº“ä¸»æœºã€ç”¨æˆ·åå’Œå¯†ç ã€‚**

**æœ‰æ—¶å¼€å‘äººå‘˜ä¼šå¿˜è®°å¯¹ç”Ÿäº§æœåŠ¡å™¨éšè—è¿™ä¸ªæ•æ„Ÿæ–‡ä»¶ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨èƒ½å¤Ÿè®¿é—® wp-config.php æ–‡ä»¶ï¼Œå¹¶ä¸”è¯¥æ–‡ä»¶åŒ…å«æ•°æ®åº“åç§°ã€ä¸»æœºã€ç”¨æˆ·åå’Œå¯†ç ï¼Œåˆ™å±äºé«˜ä¸¥é‡æ€§å‘ç°ã€‚**

**https://domain . TLD**/WP-config . PHP****

**ä¸å¹¸çš„æ˜¯ï¼Œå¤§å¤šæ•°æ—¶å€™è¿™æ˜¯ç¦æ­¢çš„ï¼Œä½†ä½ å¯ä»¥å°è¯•ä¸åŒæ‰©å±•åçš„åŒä¸€æ–‡ä»¶ã€‚**

**ä¾‹å¦‚:**

**/wp-configï¼Œtxt**

**/wp-config.zip**

**/wp-config.md**

**/wp-config.php_orig**

**/WP-é…ç½®. bak**

**![](img/ec42eb8610922183ff41eac2ed1ff079.png)**

**wp-config.txt**

## **0x08 â€”é”™è¯¯ 0x 4[è°ƒè¯•æ—¥å¿—æ³„æ¼]**

**æœ‰æ—¶ï¼Œå¼€å‘äººå‘˜ä¼šåœ¨ç”Ÿäº§æœåŠ¡å™¨ä¸­æ‰“å¼€è°ƒè¯•ã€‚å› æ­¤ï¼ŒWordPress ç«™ç‚¹çš„æ‰€æœ‰æ—¥å¿—éƒ½å­˜å‚¨åœ¨/wp-content ç›®å½•ä¸‹çš„ debug.log æ–‡ä»¶ä¸­ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´å®Œæ•´çš„å†…éƒ¨è·¯å¾„æ³„éœ²ï¼Œæœ‰æ—¶è¿˜ä¼šåŒ…å«æ•æ„Ÿä¿¡æ¯ã€‚**

**ä½ åº”è¯¥ç»å¸¸æ£€æŸ¥ **wp-content/debug.log****

**åƒ https://domain.tld/wp-content/debug.log çš„**

**![](img/de1139f1a1991523fc8aea83c7c06fb5.png)**

**wp-content/debug.log**

## **0x09 â€”é”™è¯¯ 0x 5[å¤‡ä»½æ–‡ä»¶æ³„æ¼]**

**å­˜åœ¨è¿™æ ·çš„é£é™©:å¼€å‘äººå‘˜å¤‡ä»½äº† domain.tldï¼Œä½†é”™è¯¯åœ°å°†å…¶å­˜å‚¨åœ¨ç”Ÿäº§æœåŠ¡å™¨ä¸Šï¼›è¿™å¯èƒ½æ˜¯ä¸€ä¸ªä¸¥é‡çš„é—®é¢˜ã€‚**

**è¿™ä¸ªå¤‡ä»½æ–‡ä»¶å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹æ‰¾åˆ°ã€‚**

**è¿™æ¬¡å¯ä»¥å« FFUF å¸®å¿™äº†ã€‚è¿™æ˜¯ Joohoi åˆ›é€ çš„ä¸€ä¸ªç¥å¥‡çš„å·¥å…·ï¼Œç”¨æ¥æ¨¡ç³Šç½‘ç»œåº”ç”¨ç¨‹åºã€‚**

**å¦‚æœæˆ‘ä»¬çš„ç›®æ ‡æ˜¯ domain.tldï¼Œé‚£ä¹ˆå¤‡ä»½æ–‡ä»¶åå°†æ˜¯ domainã€‚* (rarã€tar.bz2ã€sql.tarã€tar.bzip2ã€sql.bz2ã€7zã€tarã€tar.bz2ã€sql.7zã€bak ç­‰)**

**é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å°†æ‰€æœ‰æ‰©å±•åä¿å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚å¯ä»¥ç”¨æˆ‘çš„æ–‡ä»¶:)**

**ç„¶åå¼€å§‹ç”¨ FFUF èµ·æ¯›**

```
Command: **ffuf -u https://domain.tld/domain.FUZZ -w hack.txt -o ext-fuzz.txt -c**
```

**![](img/e31e5dadd51aa7696db5776f9538166e.png)**

**æ²¡æœ‰ bug:(Sed Lyf**

**æˆ‘æƒ³è¿™å·²ç»è¶³å¤Ÿäº†ï¼Œå¦‚æœä½ ä»è¿™éƒ¨åˆ†å­¦åˆ°äº†ä¸€äº›çŸ¥è¯†ï¼Œæˆ‘ä¼šåœ¨ 2023 å¹´ç»§ç»­è¿™ä¸ªç³»åˆ—ã€‚åˆ«çš„ï¼Œä¸€åˆ‡éƒ½å¥½ï¼›)**

> **å¦‚æœæˆ‘åœ¨è¿™ç¯‡æ–‡ç« ä¸­é—æ¼äº†ä»€ä¹ˆï¼Œè¯·ç»™æˆ‘å‘é‚®ä»¶æˆ–è€…å‘è¡¨è¯„è®ºã€‚æˆ‘ç”¨ä½ çš„åå­—åŠ ä¸Š:)**

**è¦ç‚¹:â€œä¸è¦ä»¥ä¸ºåªæœ‰ä½ ä¸€ä¸ªäººæ”¶åˆ°äº†å‡ ä»½å‰¯æœ¬å’Œ N/Aã€‚æ¯ä¸ªäººéƒ½ä¼šé‡åˆ°è¿™ç§æƒ…å†µã€‚ä¸è¦æ”¾å¼ƒï¼›è¿™åªæ˜¯è¿‡ç¨‹çš„ä¸€ä¸ªé˜¶æ®µã€‚â€**

> ****ä¸ºä»»ä½•è¯­æ³•é”™è¯¯é“æ­‰ğŸ™ã€‚****

**ç‰¹åˆ«æ„Ÿè°¢@Parag_Bagul çš„æ ¡å¯¹ã€‚**

**DM æ€»æ˜¯ä¹äºæ¥å—é—®é¢˜ã€å¸®åŠ©ã€åˆä½œå’Œå»ºè®®:)**

**åšæˆ‘çš„æœ‹å‹:**

*   **insta gramâ€”[https://www.instagram.com/krishnaAgarwal_in](https://www.instagram.com/krishnaagarwal_in)**
*   **LinkedInâ€”[https://www.linkedin.com/in/kr1shna4garwal](https://www.linkedin.com/in/kr1shna4garwal/)**
*   **GitHub:[https://github.com/kr1shna4garwal/](https://github.com/kr1shna4garwal/)**
*   **æ¨ç‰¹â€”[https://twitter.com/kr1shna4garwal](https://twitter.com/kr1shna4garwal)**

**æ„Ÿè°¢æ‚¨æµªè´¹å®è´µçš„æ—¶é—´é˜…è¯»æˆ‘çš„è¯„è®ºï¼›)**

**å¦‚æœä½ å‘ç°è¿™å¾ˆæœ‰ä»·å€¼ï¼Œå¹¶ä¸”å·²ç»æµªè´¹äº† 10 åˆ†é’Ÿæ¥é˜…è¯»å®ƒï¼Œå¹¶ä¸”å­¦åˆ°äº†ä¸€äº›ä¸œè¥¿ï¼Œé‚£ä¹ˆç»™ä¸€äº›æŒå£°å§ğŸ‘å‘è¡¨è¯„è®ºï¼Œç‚¹å‡»â€œå…³æ³¨â€æŒ‰é’®ï¼Œä»¥ä¾¿å°†æ¥æ’°å†™è¯„è®ºï¼Œå¹¶ä¸æ‚¨çš„ infosec æœ‹å‹å’Œç¤¾åŒºåˆ†äº«ã€‚**

**æˆ‘ä»¬å°†åœ¨æœ¬ç³»åˆ—çš„ç¬¬ 2 éƒ¨åˆ†ä¸­è§é¢**

**ç»§ç»­é»‘ï¼Œç»§ç»­å­¦ï¼**

***è½æ¬¾ï¼***

## **æ¥è‡ª Infosec çš„æŠ¥é“:Infosec æ¯å¤©éƒ½æœ‰å¾ˆå¤šå†…å®¹ï¼Œå¾ˆéš¾è·Ÿä¸Šã€‚[åŠ å…¥æˆ‘ä»¬çš„æ¯å‘¨ç®€è®¯](https://weekly.infosecwriteups.com/)ä»¥ 5 ç¯‡æ–‡ç« ã€4 æ¡çº¿ç´¢ã€3 ä¸ªè§†é¢‘ã€2 ä¸ª GitHub Repos å’Œå·¥å…·ä»¥åŠ 1 ä¸ªå·¥ä½œæé†’çš„å½¢å¼å…è´¹è·å–æ‰€æœ‰æœ€æ–°çš„ Infosec è¶‹åŠ¿ï¼**