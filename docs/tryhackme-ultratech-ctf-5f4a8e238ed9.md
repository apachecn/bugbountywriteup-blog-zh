# TryHackMe ultraTech CTF

> åŸæ–‡ï¼š<https://infosecwriteups.com/tryhackme-ultratech-ctf-5f4a8e238ed9?source=collection_archive---------5----------------------->

## æ¸—é€æµ‹è¯•ã€æšä¸¾ã€æƒé™æå‡å’Œ WebApp æµ‹è¯•çš„åŸºç¡€çŸ¥è¯†

![](img/f5c111700fad50900f5230b282ef1973.png)

æ¥æº:è°·æ­Œ

åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬çš„æœ€ç»ˆç›®æ ‡æ˜¯è·å¾—æ ¹ shell å¹¶æ‰¾åˆ°æ ¹ç”¨æˆ·çš„ ssh ç§æœ‰å¯†é’¥ã€‚è¿™å°æœºå™¨çš„çµæ„Ÿæ¥è‡ªäºç°å®ç”Ÿæ´»ä¸­çš„æµ‹è¯•ã€‚

**åœ¨è¿™é‡Œæ‰¾åˆ°çš„æˆ¿é—´**:ã€https://tryhackme.com/room/ultratech1 

å¯åŠ¨æœºå™¨â€¦â€¦..

![](img/9a2db3c8d53b1372c4320d6447b05a00.png)

æ¥æº:è°·æ­Œ

æˆ‘ä»¬å°†è¿™å°æœºå™¨åˆ†æˆä¸¤ä¸ªä»»åŠ¡ï¼Œå³ [**ä»»åŠ¡ 1**](#07ff)&**[**ä»»åŠ¡ 2**](#c7ba)**

**#[ä»»åŠ¡ 1]:å¯¹æœºå™¨è¿›è¡Œä½çº§åˆ«è®¿é—®**

*****æ­¥éª¤ 1 - >*** **ping** æœºå™¨ä»¥æ£€æŸ¥æœºå™¨æ˜¯å¦æ´»ç€**

*****æ­¥éª¤ 2 - >*** æ‰§è¡Œç«¯å£æ‰«æ**

```
#!/bin/bash

masscan -e tun0 $1 -p 1-65535 --rate 5000 > $1_masscan
cat $1_masscan | grep "Discovered open port" | awk {'print $4'} | tr -d /tcp >> $1_masscanP
cat $1_masscanP | while read b || [[ -n $b ]] ;do nmap -A -p"${b}" $1 ;done >> $1_nmap

# u also uncommnet below line
# rm $1_masscan
# rm $1_masscanP
# Usage : ./filaname.sh <ip>
```

**è¯¥è„šæœ¬ç®€å•åœ°å¯¹æ‰€æœ‰ 65535 ç«¯å£æ‰§è¡Œ[**mass scan**](https://github.com/robertdavidgraham/masscan)ï¼Œå¹¶å°†è¾“å‡ºå‘é€åˆ° [**nmap**](https://nmap.org/) è¿›è¡Œè¿›ä¸€æ­¥å¤„ç†ã€‚**

**æˆ‘ä»¬æ‰“å¼€äº† 3 ä¸ªç«¯å£ï¼Œå³ **21** ã€ **8081** å’Œ **31331****

**è®©æˆ‘ä»¬ç»™é—®é¢˜ä¸€ä¸ªç­”æ¡ˆâ€¦..**

1.  ****å“ªä¸ªè½¯ä»¶æ­£åœ¨ä½¿ç”¨ç«¯å£ 8081ï¼Ÿ****

**![](img/5f244acfc499cd0c5c9175372905ab55.png)**

*****Ans:â€”â€”node . js*****

**2.**è¿˜æœ‰å“ªäº›éæ ‡å‡†ç«¯å£åœ¨ç”¨ï¼Ÿ****

*****Ans :- 31331*****

**3.**å“ªä¸ªè½¯ä»¶ä½¿ç”¨è¿™ä¸ªç«¯å£ï¼Ÿ****

**![](img/afed6c04c4128e74534c793c837eb8f9.png)**

*****Ans:â€”â€”é˜¿å¸•å¥‡*****

**4 **ã€‚å¥½åƒç”¨çš„æ˜¯å“ªä¸ª GNU/Linux å‘è¡Œç‰ˆï¼Ÿ****

**![](img/0d23cb8a141b20c6cb5497fb95bad217.png)**

*****Ans:â€”â€”Ubuntu*****

**5.**ä½¿ç”¨ç«¯å£ 8081 çš„è½¯ä»¶æ˜¯ä¸€ä¸ª REST apiï¼Œå®ƒçš„å¤šå°‘ä¸ªè·¯ç”±è¢« web åº”ç”¨ç¨‹åºä½¿ç”¨ï¼Ÿ****

**![](img/dc06fca9932eba711237fb2e7cfb8225.png)**

*****Ans :- 2*****

**è¿™æ˜¯ç«¯å£ 8081 å’Œ 31331 çš„ç®€å•ç½‘é¡µ**

**![](img/245bc032b8ddf5857bad22fe7f3672b4.png)**

**ç«¯å£:8081**

**![](img/5115dc0f829a8b2a7180349078787d7c.png)**

**ç«¯å£:31331**

**å¯¹ç«¯å£ **8081** å’Œ **31331** è¿›è¡Œç›®å½•æš´åŠ›ç ´è§£å¾—åˆ°äº† **/auth** ç›®å½•ï¼Œä½†æ˜¯é‡Œé¢æ²¡æœ‰ä»€ä¹ˆæœ‰è¶£çš„ä¸œè¥¿ã€‚**

*****ç¬¬ä¸‰æ­¥- >*** /robots.txt ç›®å½•**

**åœ¨æ‰§è¡Œä¸€äº›åŸºæœ¬çš„æšä¸¾ä¹‹åï¼Œè¯·è®°ä½ä¸ºä»€ä¹ˆä¸æ£€æŸ¥ä¸€ä¸ª **/robots.txt** æˆ– **/sitemap.xml** ç›®å½•å‘¢ï¼Ÿ**

**![](img/61e9f22f10a91797e3447df04902c4a8.png)**

**robots.txt**

**å¹¶å¾—åˆ°äº†è¿™ä¸ªæ–‡ä»¶ï¼Œå³ **/utech_sitemap.txt.****

**å¯¼èˆªåˆ°å®ƒååœ¨ **/index.html** ã€/ã€what.htmlã€‘ã€ **/partners.html** ä¸­å¾—åˆ° 3 ä¸ªç›®å½•**

**![](img/ea763abe1aa32e3028f4fd1e7b0be488.png)**

****/index.html** å’Œ **/what.html** ä¸å¤Ÿæœ‰è¶£ï¼Œä½†æ˜¯ **/partners.html** åŒ…å«äº†ä¸€ä¸ªç™»å½•é¡µé¢ã€‚**

**![](img/e98f07088f93b87a521fc099fce7dd2d.png)**

**ç™»å½•é¡µé¢**

**ä½†æ˜¯æ¥ä¸‹æ¥è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿæˆ‘ä»¬æ²¡æœ‰ç”¨æˆ·åå’Œå¯†ç ã€‚**

****è®©æˆ‘ä»¬å¼€å§‹æ€è€ƒâ€¦â€¦****

*****æ­¥éª¤ 4 - >*** æ™®é€šç”¨æˆ·çš„ç”¨æˆ·åå’Œå¯†ç **

**æ£€æŸ¥**æºä»£ç **ï¼Œæˆ‘ä»¬å¾—åˆ°äº†è¿™ä¸ª**

**![](img/ae41de08f055357493cc13cb1008b490.png)**

**js/api.js**

**åœ¨å¯¼èˆªåˆ° js/api.js ä¹‹åï¼Œæ‰¾åˆ°äº†è¿™ä¸ªæœ‰è¶£çš„ä¸œè¥¿**

**![](img/393c8b8c66f7c086a4ed57382eff1215.png)**

**jsUrl**

**çœ‹èµ·æ¥åƒæ˜¯ ***å¸¸é‡ url*** å˜é‡ä» **getAPIURL()** å‡½æ•°å’Œ ping ip åœ°å€ **{window.location.hostname}ä¸­è·å–å…¶å€¼ã€‚****

**ç„¶åæˆ‘ä»¬å¯ä»¥ç”¨æ”»å‡»ç®± IP åœ°å€ ping æˆ‘ä»¬çš„æœ¬åœ°ä¸»æœºã€‚**

**![](img/c2ef3f63e7d8ea49c4ee5e4432040e9a.png)**

**ç °**

**Boommmm â€¦..è¿™æ˜¯å·¥ä½œã€‚æˆ‘ä»¬è¯•å›¾çœ‹çœ‹æ˜¯å¦å¯ä»¥è¿è¡Œå¦ä¸€ä¸ªå‘½ä»¤ï¼Œä½†æˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªé”™è¯¯ã€‚**

**![](img/fb8b098ea08d2c5a63c00b9c6eb2186e.png)**

**id é”™è¯¯**

**å®ƒä¼¼ä¹æœ‰ä¸€ä¸ªåç§°è§£æé”™è¯¯ï¼Œä½†æˆ‘ä»¬æœ‰ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œå³ backstick(```)ã€‚ä¸Šå›¾ä¸­çš„å‘½ä»¤æ˜¯:***10 . 10 . 199 . 39:8081/pingï¼ŸIP = ping id*ã€‚ç»“æœï¼Œå½“æˆ‘ä»¬ç‚¹å‡»å›è½¦æ—¶ï¼Œç½‘ç«™è¿”å›ä¸€ä¸ªé”™è¯¯ã€‚å½“æˆ‘ä»¬ä½¿ç”¨åæ–œçº¿å’Œåæ–œçº¿ä¹‹é—´çš„ç±»å‹å‘½ä»¤æ—¶ï¼Œå®ƒä»¬ç”± shell åœ¨ä¸»å‘½ä»¤ä¹‹å‰æ‰§è¡Œã€‚****

**![](img/202146259f3cb26fad6120d3ec7af1d7.png)**

**æ•°æ®åº“æ–‡ä»¶**

**æˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶åœ¨åŒå¼•å·ä¹‹é—´ä½¿ç”¨äº† ***ls*** å‘½ä»¤ã€‚æŠŠè¿™ä¸ªæ–‡ä»¶ç¿»ä¸€ç¿»ï¼Œçœ‹çœ‹é‡Œé¢æœ‰ä»€ä¹ˆã€‚**

**![](img/483d48f245482c92763e810d1782918e.png)**

**å¡ç‰¹å½¼å‹’æ–‡ä»¶**

**è¿™é‡Œæˆ‘ä»¬å¾—åˆ°äº†å®ƒçš„ç”¨æˆ·åå’Œæ•£åˆ—å¯†ç ã€‚ç”¨æˆ·åæ˜¯ r00t å’Œ adminã€‚è¿™æ˜¯ä¸€ä¸ª md5 æ•£åˆ—è®©æˆ‘ä»¬ç ´è§£å®ƒã€‚**

**![](img/5d62b28ee446e015426f1b366b32c20e.png)**

**è£‚åŒ–ç«™**

**è®©æˆ‘ä»¬ç»™é—®é¢˜ä¸€ä¸ªç­”æ¡ˆâ€¦..**

**6.æœ‰ä¸€ä¸ªæ•°æ®åº“ï¼Œå®ƒçš„æ–‡ä»¶åæ˜¯ä»€ä¹ˆï¼Ÿ**

*****Ans:--utech . db . SQLite*****

**7.**ç¬¬ä¸€ä¸ªç”¨æˆ·çš„å¯†ç å“ˆå¸Œæ˜¯ä»€ä¹ˆï¼Ÿ****

*****Ans:-f 357 a0c 52799563 c 7 c 7 b 76 C1 e 7543 a 32*****

**8.**è¿™ä¸ªå“ˆå¸Œå…³è”çš„å¯†ç æ˜¯ä»€ä¹ˆï¼Ÿ****

*****ç­”:â€”â€”n 100906*****

*****æ­¥éª¤ 5 - >*** è·å–æœºå™¨ä¸Šçš„ç¬¬ä¸€ä¸ªå¤–å£³**

**ä½¿ç”¨ **ssh** å°è¯•ä½¿ç”¨ **r00t** å’Œ **n100906** ç™»å½•**

**![](img/4e31d57ad293a72d13a33b7f72877c7f.png)**

**ssh shell**

**è€Œæˆ‘ä»¬æ˜¯æœºå™¨ä¸Šçš„ r00t æ™®é€šç”¨æˆ·ã€‚**

****#[ä»»åŠ¡ 2]è®© root ç”¨æˆ·è®¿é—®æœºå™¨****

*****æ­¥éª¤ 1 - >*** åº”ç”¨æŠ€å·§å¾—åˆ°æ ¹å£³**

**å®Œæˆæ‰€æœ‰çš„æŠ€æœ¯åï¼Œæˆ‘ä»¬å†³å®šåšä¸€ä»¶æˆ‘ä»¬æƒ³åšçš„äº‹ã€‚**

**![](img/41947a961d9bee71f6e307aa41659640.png)**

**èº«ä»½è¯æ˜ï¼ˆidentificationï¼‰**

**å°±åƒåœ¨æœºå™¨ä¸Šè¿è¡Œ Dockerï¼Œè¿™ä¸ªç”¨æˆ·å°±æ˜¯å…¶ä¸­çš„ä¸€éƒ¨åˆ†ã€‚è®©æˆ‘ä»¬åœ¨ [GTFOBins](https://gtfobins.github.io/) ä¸ŠæŸ¥çœ‹ docker å…³é”®å­—ã€‚æˆ‘ä»¬å¾—åˆ°äº†è¿™ä¸ª..**

**![](img/a6b51c40ecb2ac630aa5fc0337a8181f.png)**

**gtfo ç®±**

**åœ¨ç»ˆç«¯ä¸Šè¿è¡Œè¯¥å‘½ä»¤:***docker run-v/:/mntâ€”RM-it bash ch root/mnt sh*****

**![](img/617207e1f8cab43878220a11de1606d0.png)**

**æ ¹å£³**

**è¿˜æœ‰ boooommmmâ€¦â€¦..æˆ‘ä»¬æ˜¯è¿™å°æœºå™¨ä¸Šçš„æ ¹ç”¨æˆ·**

**è®©æˆ‘ä»¬ç»™è¿™äº›é—®é¢˜ä¸€ä¸ªç­”æ¡ˆã€‚**

**9.**root ç”¨æˆ·ç§æœ‰ SSH å¯†é’¥çš„å‰ 9 ä¸ªå­—ç¬¦æ˜¯ä»€ä¹ˆï¼Ÿ****

**![](img/8947e37b77e77b6caf7b2b6c3d674489.png)**

*****ç­”:â€”â€”MIIEogIBA*****

****:æ³¨:****

**æ€»æ˜¯æŸ¥çœ‹**æºä»£ç **å¹¶å°è¯•é˜…è¯»æœ‰è¶£çš„ **Javascript** ã€‚**

**æ„Ÿè°¢é˜…è¯»ğŸ’“ â€¦â€¦â€¦.**

**ç»§ç»­å­¦ä¹ â€¦â€¦..**

**å¸®æˆ‘æ¥é€š:**

**[Twitter](https://twitter.com/bhavesharmalkar) ï¼Œ [Linkedin](https://www.linkedin.com/in/bhaveshharmalkar/) ï¼Œ [GitHub](https://github.com/bhaveshharmalkar)**

## **æ¥è‡ª Infosec çš„æŠ¥é“:Infosec æ¯å¤©éƒ½æœ‰å¾ˆå¤šå†…å®¹ï¼Œå¾ˆéš¾è·Ÿä¸Šã€‚[åŠ å…¥æˆ‘ä»¬çš„æ¯å‘¨ç®€è®¯](https://weekly.infosecwriteups.com/)ä»¥ 5 ç¯‡æ–‡ç« ã€4 ä¸ªçº¿ç¨‹ã€3 ä¸ªè§†é¢‘ã€2 ä¸ª GitHub Repos å’Œå·¥å…·ä»¥åŠ 1 ä¸ªå·¥ä½œæé†’çš„å½¢å¼å…è´¹è·å–æ‰€æœ‰æœ€æ–°çš„ Infosec è¶‹åŠ¿ï¼**