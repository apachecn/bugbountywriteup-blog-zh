# Funbox-4: CTF æ¼«æ¸¸(Vulnhub)

> åŸæ–‡ï¼š<https://infosecwriteups.com/funbox-4-ctf-walkthrough-vulnhub-a5c733c350df?source=collection_archive---------2----------------------->

![](img/135f2525cabdecb8458d39211218638f.png)

åœŸæ‹¨é¼ æ—¥:Boot2Rootï¼ç”± [@0815R2d2](https://twitter.com/@0815R2d2) åˆ›å»ºã€‚æœ€åˆçš„è„šæ­¥æœ‰ç‚¹ç‘•ç–µï¼Œä½†çœŸçš„ä¸éš¾ã€‚è¿›å…¥ Funbox: CTF åï¼Œæœ‰å¿…è¦æ‰¾åˆ°ã€é˜…è¯»å¹¶ç†è§£(2 ä¸ªä¸”å®¹æ˜“æ‰¾åˆ°çš„)æç¤ºã€‚èªæ˜ç‚¹ï¼Œç»“åˆèµ·æ¥â€¦æ°¸è¿œå°å¿ƒå…”å­æ´ã€‚ä¸‹è½½æœºå™¨è®¿é—®ã€https://www.vulnhub.com/entry/funbox-ctf,546/ã€‘T3[](https://www.vulnhub.com/entry/funbox-ctf,546/)

æˆ‘çš„å»ºè®®æ˜¯åœ¨ Virtualbox ä¸Šè§£å†³è¿™ä¸ªæœºå™¨ï¼Œä½†æ­£å¦‚â€œ**å¥½å¥‡å¿ƒä¸æ–­å¼•å¯¼æˆ‘ä»¬èµ°ä¸Šæ–°çš„é“è·¯â€”** åç‰¹Â·è¿ªå£«å°¼â€æ‰€ä»¥ï¼Œä½ å¯ä»¥å°è¯• VMwareï¼Œä¹Ÿå¯ä»¥é‡æ–°æŒ‘æˆ˜ï¼Œæ‰¾åˆ°è‡ªå·±è·å¾— root è®¿é—®æƒé™çš„æ–¹æ³•ã€‚

> è·å¾—çš„çŸ¥è¯†:-

1.  åˆ—ä¸¾
2.  åå‘å¤–å£³
3.  åˆ›å»ºç‹¬ç‰¹çš„å•è¯è¡¨
4.  ç»•è¿‡ rbash
5.  æœç´¢å’Œä½¿ç”¨æ¼æ´

> ç«¯å£æ‰«æ

åœ¨ç¡®å®šäº†é¢„æœŸçš„å—å®³è€…ä¹‹åï¼Œè®©æˆ‘ä»¬è¿è¡Œä¸€ä¸ª Nmap æ‰«ææ¥æŸ¥æ‰¾å¼€æ”¾çš„ç«¯å£å’Œæ­£åœ¨è¿è¡Œçš„æœåŠ¡ã€‚

![](img/a547cfcd3244dca586258804768a2012.png)

> ç½‘ç»œä¾¦å¯Ÿ

åœ¨ 80 ç«¯å£è®¿é—®å—å®³è€…çš„ä¸»é¡µï¼Œæ˜¾ç¤ºçš„æ˜¯ Ubuntu çš„é»˜è®¤é¡µé¢ï¼Œæ²¡æœ‰ä»»ä½•æœ‰ç”¨çš„ä¸œè¥¿ã€‚æ‰€ä»¥ï¼Œæˆ‘å°è¯•ç”¨ gobuster æ¥æšä¸¾éšè—çš„ç›®å½•ï¼Œä½†æ˜¯é¦–å…ˆï¼Œæˆ‘ä»¬å¿…é¡»åˆ›å»ºä¸€ä¸ªå•è¯è¡¨ï¼Œæ‰€æœ‰çš„å­—ç¬¦éƒ½æ˜¯å¤§å†™çš„ï¼Œå°±åƒè¿™æ ·ğŸ‘‡

![](img/7ff32d0420ddf118aa79a8dc6c82351c.png)

ç°åœ¨è¿è¡Œ gobusterã€‚

![](img/9779e1e451cf38e1e64ec047b73209d2.png)

æ‰“å¼€ URL å¹¶å‘ä¸‹æ»šåŠ¨ã€‚

![](img/b34a658c5414b406b283f00971e1fbbd.png)

å†æ¬¡è¿è¡Œç›®å½•æ‰«æï¼Œæ‚¨å°†è·å¾—è·å¾—ä¸€ä¸ªåå‘å¤–å£³çš„è·¯å¾„ã€‚

![](img/885a1f8afb727881caec3b6dbc4e32dc.png)

åªéœ€ä¸Šä¼ ä¸€ä¸ª PHP åå‘ shellï¼Œå…¶ä¸­åŒ…å«æ‚¨çš„ kali IP_addressï¼ŒåŒæ—¶é€šè¿‡ Netcat ç›‘å¬ä¼ å…¥çš„è¿æ¥ã€‚

![](img/85069c180a0a5408261fd4723d55cecb.png)

å¯¼èˆªåˆ° **/home/thomas** ç›®å½•ï¼Œæ‚¨å°†çœ‹åˆ°**ã€‚todo** æ–‡ä»¶æ˜¾ç¤ºæ·»åŠ **ï¼**å¯†ç ç»“æŸã€‚å†è¡¥å……ä¸€ä¸‹**ï¼**åœ¨ rockyou.txt æ–‡ä»¶çš„æ¯ä¸€è¡Œä¸­ï¼Œç”¨**è›®åŠ›**å¯¹ç”¨æˆ· thomas è¿›è¡Œ SSH ç™»å½•ã€‚

![](img/09702c7d9f9b14e1074667c994753d77.png)

ç°åœ¨ç”¨ä¹å¤´è›‡ï¼Œç­‰ä¸€æ®µæ—¶é—´ã€‚

![](img/220dcbd9d08b97a1999a924302eefea5.png)

> å®‹æ‰¿å®ª*ä¾¦å¯Ÿ*

ç™»å½• thomasï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ª rbashï¼Œé€šè¿‡ VIM ç»•è¿‡å®ƒã€‚

![](img/d09f480d98cbbaedf39ed71349845822.png)![](img/923e47260ba7155220b280e0fb504c44.png)

æœ€åï¼Œä½ ä¼šç¦»å¼€å·´ä»€ã€‚

![](img/82b2472e666f14c136be273acd10c907.png)

æˆ‘é‡å¤ä¸€éï¼Œä¸è¦è½å…¥åƒ **pspy64** è¿™æ ·çš„é™·é˜±ï¼Œå› ä¸ºæˆ‘è¯•è¿‡äº†ã€‚å› ä¸º wget å’Œ curl ä¸å­˜åœ¨ï¼Œæ‰€ä»¥ä½¿ç”¨ SCP è¿›è¡Œæ–‡ä»¶ä¼ è¾“ã€‚

![](img/ae152c25183767b64f5130d9b772d9c6.png)

é€šè¿‡æ›´æ”¹æƒé™è¿è¡Œè„šæœ¬ï¼Œæ‚¨å°†çœ‹åˆ°æœ‰ç”¨çš„è½¯ä»¶å’Œå®‰è£…çš„ç¼–è¯‘å™¨ï¼Œå®ƒä»¬å¯èƒ½ä¼šå‡ºç°ï¼Œå› ä¸ºä¼šæœ‰ä¸€äº›æ“ä½œç³»ç»Ÿæ¼æ´ï¼Œå¦‚æœ gcc-5 æ²¡æœ‰å‡ºç°ï¼Œåªéœ€é‡ç½®æ‚¨çš„æœºå™¨ã€‚

![](img/30aafc78ff8090b3a565a4ad2b6f22b8.png)

å°†**l**[**inux-exploit-suggester**](https://github.com/mzet-/linux-exploit-suggester)ä»æ‚¨çš„æœºå™¨ä¸­è½¬ç§»å‡ºæ¥ï¼Œå¹¶åƒæˆ‘ä»¬ä¸Šé¢æ‰€åšçš„é‚£æ ·è¿è¡Œå®ƒã€‚ä½ ä¼šå¾—åˆ°ä¸€ä¸ªæ¼æ´åˆ—è¡¨ï¼Œè®©æˆ‘ä»¬è¯•è¯•**ã€CVE-2017â€“16995ã€‘eBPF _ verifierã€‚**

ç°åœ¨ä¸‹è½½æ¼æ´åˆ©ç”¨ **45010ã€‚C** åœ¨ä½ çš„ kali æœºå™¨ä¸­æ–‡ä»¶å¹¶è½¬ç§»åˆ° thomas ä¸­çš„ **/tmp/** è·¯å¾„å¹¶å°†æƒé™æ”¹ä¸º **777** ç„¶åè¿è¡Œæ¼æ´åˆ©ç”¨ã€‚æˆ‘ä¹Ÿè¯•è¿‡ dirty_cow 1 å’Œ 2 ä½†æ˜¯æ²¡ç”¨ã€‚

![](img/b8d621a1cc89bd4f39ff27756d3afe26.png)

å¯¼èˆªåˆ°æ ¹ç›®å½•ï¼Œæ‚¨å°†è·å¾—æ ‡å¿—ã€‚

![](img/2521a66e44fa82088803ce61314c3c6b.png)

ç”±æˆ‘å’Œæˆ‘çš„ä¼™ä¼´ [**@0xMadhav**](https://twitter.com/0xMadhav) è§£å†³

å¦‚éœ€æ›´å¤šæ¼”ç»ƒï¼Œè¯·ç»§ç»­å…³æ³¨â€¦

# åœ¨ä½ èµ°ä¹‹å‰

è®¿é—®æˆ‘çš„å…¶ä»–æ–° Vulnhub æœºå™¨æ¼”ç»ƒçš„:-

[](https://medium.com/@Shubham_Singh_/funbox-3-easy-walkthrough-vulnhub-fd13a1648445) [## FUNBOX-3:è½»æ¾ç©¿è¶Š(Vulnhub)

### æè¿°

medium.com](https://medium.com/@Shubham_Singh_/funbox-3-easy-walkthrough-vulnhub-fd13a1648445) [](https://medium.com/@Shubham_Singh_/funbox-2-walkthrough-vulnhub-b1933209acf3) [## FunBox-2 æ¼”ç»ƒ(Vulnhub)

### æè¿°

medium.com](https://medium.com/@Shubham_Singh_/funbox-2-walkthrough-vulnhub-b1933209acf3) [](https://medium.com/@Shubham_Singh_/healthcare-1-walkthrough-vulnhub-24d9d050dd9c) [## åŒ»ç–—ä¿å¥:1 æ¬¡æ¼”ç»ƒ(Vulnhub)

### ä½œè€…æè¿°

medium.com](https://medium.com/@Shubham_Singh_/healthcare-1-walkthrough-vulnhub-24d9d050dd9c) 

æ‹æ‰‹å£°ğŸ‘ğŸ½å¦‚æœä½ å–œæ¬¢è¿™ä¸ªã€‚